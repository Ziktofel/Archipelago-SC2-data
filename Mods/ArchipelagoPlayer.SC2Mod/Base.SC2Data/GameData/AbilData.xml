<?xml version="1.0" encoding="utf-8"?>
<Catalog>
    <CAbilMorph default="1" id="AP_SIBuildingUproot" parent="TerranBuildingLiftOff">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpineCrawlerUproot"/>
        <ActorKey value="Uproot"/>
        <Name value="Abil/Name/##id##"/>
    </CAbilMorph>
    <CAbilMorphPlacement default="1" id="AP_SIBuildingRoot" parent="TerranBuildingLand">
        <ActorKey value="Root"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpineCrawlerRoot"/>
        <Flags index="ShowProgress" value="1"/>
        <Name value="Abil/Name/##id##"/>
        <InfoArray index="0" Unit="##unit##" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
        <ProgressButton value="AP_SpineCrawlerRootCancel"/>
    </CAbilMorphPlacement>
    <CAbilEffectTarget id="AP_250mmStrikeCannons">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_250mmStrikeCannonsCreatePersistent"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="Ground,Visible;Self,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="7"/>
        <RangeSlop value="4"/>
        <CastIntroTime value="2"/>
        <FinishTime value="2"/>
        <CancelableArray index="Prep" value="1"/>
        <CancelableArray index="Cast" value="1"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_250mmStrikeCannons" Requirements="AP_Hide250mmStrikeCannons">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_330mmBarrageCannons">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_330mmBarrageCannonsPersistent"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="Ground,Visible;Self,Neutral,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="7"/>
        <CastIntroTime value="2"/>
        <FinishTime value="2"/>
        <CancelableArray index="Prep" value="1"/>
        <CancelableArray index="Cast" value="1"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_330mmBarrageCannonsDamage"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_330mmBarrageCannons" Requirements="AP_Use330mmBarrageCannons">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_330mmBarrageCannonsTargetUnit" parent="AP_330mmBarrageCannons">
        <Effect index="0" value="AP_330mmBarrageCannonsPersistentTargetUnit"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_330mmBarrageCannonsTargetUnit"/>
    </CAbilEffectTarget>
    <CAbilBuild id="AP_BuildEchidnaWorm">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <FlagArray index="Cancelable" value="1"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <InfoArray index="Build1" Unit="AP_EchidnaWorm" Time="20">
            <Cooldown TimeUse="60"/>
            <Button DefaultButtonFace="AP_EchidnaWorm" State="Restricted" Requirements="AP_HaveNydusNetwork"/>
        </InfoArray>
        <Range value="500"/>
        <EffectArray index="Start" value="NydusAlertDummy"/>
    </CAbilBuild>
    <CAbilBuild id="AP_EchidnaCreepBuild">
        <TargetMessage value="Abil/TargetMessage/CreepTumorBuild"/>
        <SharedFlags index="RegisterChargeEvent" value="1"/>
        <SharedFlags index="RegisterCooldownEvent" value="1"/>
        <Alert value="BuildComplete_Zerg"/>
        <InfoArray index="Build1" Unit="AP_CreepTumor" Time="3">
            <Charge Location="Unit"/>
            <Cooldown Location="Unit" TimeUse="15"/>
            <Button DefaultButtonFace="AP_BuildCreepTumor" Requirements="AP_CreepTumorExhausted"/>
        </InfoArray>
        <Range value="10"/>
        <EffectArray index="Start" value="AP_CreepTumorLaunchMissileSet"/>
        <FlagArray index="Cancelable" value="0"/>
        <FlagArray index="PeonMaintained" value="0"/>
    </CAbilBuild>
    <CAbilTrain id="AP_EchidnaTrain">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Range value="5"/>
        <InfoArray index="Train1" Time="6" Rotation="Source">
            <Resource index="Minerals" value="-5"/>
            <Button DefaultButtonFace="AP_BirthZergling" State="Restricted" Requirements="AP_HaveOuroborosSpawning"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <InfoArray index="Train2" Time="1" Rotation="Source">
            <Resource index="Minerals" value="-30"/>
            <Button DefaultButtonFace="AP_BirthSwarmling" State="Restricted" Requirements="AP_HaveOuroborosSpawningSwarmling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <InfoArray index="Train3" Time="6" Rotation="Source">
            <Resource index="Minerals" value="-5"/>
            <Button DefaultButtonFace="AP_BirthRaptor" State="Restricted" Requirements="AP_HaveOuroborosSpawningRaptor"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <InfoArray index="Train4" Time="6" Rotation="Source">
            <Button DefaultButtonFace="AP_BirthDrone" State="Restricted"/>
            <Unit value="AP_Drone"/>
            <Unit value=""/>
        </InfoArray>
        <InfoArray index="Train5" Time="11" Rotation="Source">
            <Resource index="Minerals" value="-8"/>
            <Resource index="Vespene" value="-3"/>
            <Button DefaultButtonFace="AP_BirthRoach" State="Restricted" Requirements="AP_HaveOuroborosWarren"/>
            <Unit value="AP_Roach"/>
        </InfoArray>
        <InfoArray index="Train6" Time="11" Rotation="Source">
            <Resource index="Minerals" value="-8"/>
            <Resource index="Vespene" value="-3"/>
            <Button DefaultButtonFace="AP_BirthCorpser" State="Restricted" Requirements="AP_HaveOuroborosWarrenCorpser"/>
            <Unit value="AP_Roach"/>
        </InfoArray>
        <InfoArray index="Train7" Time="11" Rotation="Source">
            <Resource index="Minerals" value="-8"/>
            <Resource index="Vespene" value="-3"/>
            <Button DefaultButtonFace="AP_BirthVile" Requirements="AP_HaveOuroborosWarrenVile"/>
            <Unit value="AP_Roach"/>
        </InfoArray>
        <InfoArray index="Train8" Time="11" Rotation="Source">
            <Resource index="Minerals" value="-10"/>
            <Resource index="Vespene" value="-5"/>
            <Button DefaultButtonFace="AP_BirthHydralisk" State="Restricted" Requirements="AP_HaveOuroborosDen"/>
            <Unit value="AP_Hydralisk"/>
        </InfoArray>
        <InfoArray index="Train9" Time="11" Rotation="Source">
            <Resource index="Minerals" value="-10"/>
            <Resource index="Vespene" value="-5"/>
            <Button DefaultButtonFace="AP_BirthHydraliskImpaler" State="Restricted" Requirements="AP_HaveOuroborosDenImpaler"/>
            <Unit value="AP_Hydralisk"/>
        </InfoArray>
        <InfoArray index="Train10" Time="11" Rotation="Source">
            <Resource index="Minerals" value="-10"/>
            <Resource index="Vespene" value="-5"/>
            <Button DefaultButtonFace="AP_BirthHydraliskLurker" State="Restricted" Requirements="AP_HaveOuroborosDenLurker"/>
            <Unit value="AP_Hydralisk"/>
        </InfoArray>
        <InfoArray index="Train11" Time="17" Rotation="Source">
            <Resource index="Minerals" value="-20"/>
            <Resource index="Vespene" value="-8"/>
            <Display index="Custom" value="1"/>
            <Button DefaultButtonFace="AP_BirthAberration" State="Restricted" Requirements="AP_HaveOuroborosLairAndChamber"/>
            <Unit value="AP_InfestedAbomination"/>
        </InfoArray>
        <ProxyOffset value="1,-25"/>
    </CAbilTrain>
    <CAbilTransport id="AP_NydusWormTransport">
        <AbilSetId value="ULdS"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Load" DefaultButtonFace="NydusCanalLoad"/>
        <CmdButtonArray index="UnloadAll" DefaultButtonFace="NydusCanalUnloadAll">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <Flags index="PlayerHold" value="1"/>
        <Flags index="ShowCargoSize" value="0"/>
        <Range value="0.5"/>
        <MaxCargoCount value="255"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="1020"/>
        <InitialUnloadDelay value="0.5"/>
        <LoadPeriod value="0.25"/>
        <UnloadPeriod value="0.5"/>
        <LoadValidatorArray value="NotSpawnling"/>
    </CAbilTransport>
    <CAbilTransport id="AP_TradeStructureTransport">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Load" DefaultButtonFace="AP_TradeStructureLoad" State="Restricted" Requirements="AP_NotTradeStructureBusy"/>
        <CmdButtonArray index="UnloadAll" DefaultButtonFace="AP_TradeStructureUnloadAll" State="Restricted" Requirements="AP_NotTradeStructureBusy">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <Flags index="ShowCargoSize" value="0"/>
        <Flags index="ShowStatus" value="0"/>
        <Range value="0.5"/>
        <MaxCargoCount value="255"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="1020"/>
        <InitialUnloadDelay value="0.5"/>
        <LoadPeriod value="0.25"/>
        <UnloadPeriod value="0.5"/>
        <LoadCargoEffect value="AP_TradeStructureHideExtrasSet"/>
        <UnloadCargoEffect value="AP_TradeStructureShowExtrasSet"/>
        <TargetFilters value="Visible;Ally,Neutral,Enemy,Heroic,Buried,Dead,Hidden,Hallucination,Summoned,HeroUnit"/>
        <LoadValidatorArray value="HasNoCargo"/>
        <LoadValidatorArray value="AP_NotIsMindControlled"/>
        <LoadValidatorArray value="AP_NotHasTimedLife"/>
        <!-- It's possible to MC a vanilla Zergling and morph it, removing the MC behavior -->
        <LoadValidatorArray value="AP_IsNotVanillaBaneling"/>
    </CAbilTransport>
    <CAbilTrain id="AP_TradeStructureDummyTrain">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <InfoArray index="Train1" Time="600">
            <Button DefaultButtonFace="AP_TradeStructureDummySend" State="Restricted" Requirements="AP_NotTradeStructureBusy"/>
            <Unit value="AP_TradeStructureSendDummy"/>
        </InfoArray>
        <InfoArray index="Train2" Time="600">
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="10"/>
            <Button DefaultButtonFace="AP_TradeStructureDummyReceive" State="Restricted" Requirements="AP_NotTradeStructureBusyAndCanReceive1"/>
            <Unit value="AP_TradeStructureReceiveDummy"/>
        </InfoArray>
        <InfoArray index="Train3" Time="600">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="50"/>
            <Button DefaultButtonFace="AP_TradeStructureDummyReceive5" State="Restricted" Requirements="AP_NotTradeStructureBusyAndCanReceive5"/>
            <Unit value="AP_TradeStructureReceive5Dummy"/>
        </InfoArray>
        <Activity value="UI/TradeUnderway"/>
    </CAbilTrain>
    <CAbilTrain id="AP_EchidnaTrainSwarmling">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <DataCollection value="AP_EchidnaTrain"/>
        <Range value="5"/>
        <InfoArray index="Train1" Time="1" Rotation="Source">
            <Resource index="Minerals" value="-30"/>
            <Button DefaultButtonFace="AP_BirthRaptor" State="Restricted" Requirements="AP_HaveOuroborosSpawningRaptorSwamling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <ProxyOffset value="1,-25"/>
    </CAbilTrain>
    <CAbilBehavior id="AP_SalvageNydus" parent="Salvage">
        <Name value="Abil/Name/AP_SalvageNydus"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_NydusRecall" Requirements="AP_HaveNydusWormJormungandrStrain"/>
        <ValidatorArray index="0" removed="1"/>
    </CAbilBehavior>
    <CAbilMorph id="AP_MorphSwarmHostRootedToBurrowed">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveHotSBurrowSwarmHost"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_SwarmHostBurrowed" CollideRange="0"/>
    </CAbilMorph>
    <CAbilBuild id="AP_BuildNydusWorm">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <FlagArray index="Cancelable" value="1"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <InfoArray index="Build1" Unit="AP_NydusWorm" Time="10">
            <Cooldown TimeUse="30"/>
            <Button DefaultButtonFace="AP_NydusWorm" State="Restricted" Requirements="AP_HaveNydusNetwork"/>
        </InfoArray>
        <Range value="500"/>
        <EffectArray index="Start" value="NydusAlertDummy"/>
    </CAbilBuild>
    <CAbilMorph id="AP_ThorNormalMode">
        <AbilSetId value="NormalMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ExplosiveMode">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Thor" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
        </InfoArray>
        <!--SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray-->
    </CAbilMorph>
    <CAbilMorph id="AP_ThorAPMode">
        <AbilSetId value="ThorAPMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArmorpiercingMode" Requirements="AP_HaveThorMorph">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ThorAP" RandomDelayMax="0.5">
            <!--SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray-->
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MercThorNormalMode">
        <AbilSetId value="NormalMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ExplosiveMode">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercThor" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
        </InfoArray>
        <!--SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray-->
    </CAbilMorph>
    <CAbilMorph id="AP_MercThorAPMode">
        <AbilSetId value="ThorAPMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArmorpiercingMode" Requirements="AP_HaveThorMorph">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercThorAP" RandomDelayMax="0.5">
            <!--SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray-->
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskNormalMode">
        <AbilSetId value="NormalMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ExplosiveMode">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ThorMengsk" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="2.5"/>
                <EffectArray index="Finish" value="AP_ThorMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
        <!--SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray-->
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskNormalModeFollowedBySiege" parent="AP_ThorMengskNormalMode">
        <Flags index="Interruptible" value="0"/>
        <InfoArray index="0">
            <SectionArray index="Actor">
                <EffectArray index="Finish" value="AP_ThorMengskSiegeOrderSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskAPMode">
        <AbilSetId value="ThorAPMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArmorpiercingMode" Requirements="AP_HaveThorMorph">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ThorMengskAP" RandomDelayMax="0.5">
            <!--SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray-->
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="2.5"/>
                <EffectArray index="Finish" value="AP_ThorMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskAPModeFromSiegeStage2" parent="AP_ThorMengskAPMode">
        <Flags index="Interruptible" value="0"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_StimpackBase">
        <AbilSetId value="Stimpack"/>
        <AINotifyEffect value="Stimpack"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Marker Link="Abil/AP_Stimpack"/>
        <InfoTooltipPriority value="1"/>
        <Flags index="Transient" value="1"/>
        <Effect index="0" value="AP_Stimpack"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackSmallBase" parent="AP_StimpackBase">
        <Cost>
            <Vital index="Life" value="10"/>
            <Charge Link="Abil/AP_Stimpack"/>
            <Cooldown Link="Abil/AP_Stimpack"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackLargeBase" parent="AP_StimpackBase">
        <Cost>
            <Vital index="Life" value="20"/>
            <Charge Link="Abil/AP_Stimpack"/>
            <Cooldown Link="Abil/AP_Stimpack"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_Stimpack" parent="AP_StimpackSmallBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Stim" State="Restricted" Requirements="AP_UseStimpackSM">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackReaper" parent="AP_StimpackSmallBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Stim" State="Restricted" Requirements="AP_UseStimpackSMReaper">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackPygalisk" parent="AP_StimpackSmallBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Stim" State="Restricted" Requirements="AP_HavePygaliskStim">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackMarauder" parent="AP_StimpackLargeBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimLarge" State="Restricted" Requirements="AP_UseStimpackMarauder">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackFirebat" parent="AP_StimpackLargeBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimLarge" State="Restricted" Requirements="AP_UseStimpackFirebat">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_StimpackHellbat" parent="AP_StimpackLargeBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimLarge" State="Restricted" Requirements="AP_UseStimpackHellbat">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackBase">
        <AbilSetId value="Stimpack"/>
        <AINotifyEffect value="Stimpack"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <AutoCastRange value="5"/>
        <AutoCastValidatorArray value="AP_CasterIsFiringOrAnimatingWeapon"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackSmallBase" parent="AP_SuperStimpackBase">
        <Effect index="0" value="AP_SuperStimpackSmallSet"/>
        <Cost>
            <Charge Link="Abil/AP_SuperStimpackSmallBase"/>
            <Cooldown Link="Abil/AP_SuperStimpackSmallBase" TimeUse="18"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackLargeBase" parent="AP_SuperStimpackBase">
        <Effect index="0" value="AP_SuperStimpackLargeSet"/>
        <Cost>
            <Charge Link="Abil/AP_SuperStimpackLargeBase"/>
            <Cooldown Link="Abil/AP_SuperStimpackLargeBase" TimeUse="18"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackMarine" parent="AP_SuperStimpackSmallBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SuperStimpackSmall" Requirements="AP_HaveSuperStimpackMarine">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackReaper" parent="AP_SuperStimpackSmallBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SuperStimpackSmall" Requirements="AP_HaveSuperStimpackReaper">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackMarauder" parent="AP_SuperStimpackLargeBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SuperStimpackLarge" Requirements="AP_HaveSuperStimpackMarauder">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackFirebat" parent="AP_SuperStimpackLargeBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SuperStimpackLarge" Requirements="AP_HaveSuperStimpackFirebat">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SuperStimpackHellbat" parent="AP_SuperStimpackLargeBase">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SuperStimpackLarge" Requirements="AP_HaveSuperStimpackHellbat">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilAugment id="AP_MagrailMunitionsMarauder">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MagrailMunitions" Requirements="AP_MagrailMunitionsMarauder"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <Effect value="AP_MagrailMunitionsSet"/>
    </CAbilAugment>
    <CAbilAugment id="AP_MagrailMunitionsMarine">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MagrailMunitions" Requirements="AP_MagrailMunitionsMarine"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <Effect value="AP_MagrailMunitionsSet"/>
    </CAbilAugment>
    <CAbilEffectTarget id="AP_heal">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <TargetFilters value="Ground,Biological,Visible;Self,Enemy,Air,Structure,Missile,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSDistance"/>
            <SortArray value="TSLifeFraction"/>
        </TargetSorts>
        <Range value="2"/>
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="healCasterMinEnergy"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <Marker Link="Abil/MedivacHeal"/>
        <AINotifyEffect value="MedivacHeal"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MedicHeal" Requirements="AP_NotHaveAdaptiveMedPacks"/>
        <AcquireAttackers value="1"/>
        <FollowRange value="1.5"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MercMedicHeal" parent="AP_heal">
        <Effect index="0" value="AP_MercMedicHeal"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercMedicHeal"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HealPlusMech" parent="AP_heal">
        <TargetFilters index="0" value="Visible;Self,Enemy,Structure,Missile,UnderConstruction,Dead,Hidden"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveAdaptiveMedPacks"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MercMedicHealPlusMech" parent="AP_MercMedicHeal">
        <TargetFilters index="0" value="Visible;Self,Enemy,Structure,Missile,UnderConstruction,Dead,Hidden"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveAdaptiveMedPacks"/>
    </CAbilEffectTarget>
    <CAbilRedirectInstant id="AP_StimpackRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_Stimpack"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_StimpackMarauderRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_StimpackMarauder"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_StimpackFirebatRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_StimpackFirebat"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_StimpackReaperRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_StimpackReaper"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_SuperStimpackMarineRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_SuperStimpackMarine"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_SuperStimpackMarauderRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_SuperStimpackMarauder"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_SuperStimpackFirebatRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_SuperStimpackFirebat"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectInstant id="AP_SuperStimpackReaperRedirect">
        <AbilSetId value="Stimpack"/>
        <Abil value="AP_SuperStimpackReaper"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StimRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilEffectTarget id="AP_D8Charge">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown Link="AP_D8Charge" TimeUse="60"/>
        </Cost>
        <TargetFilters value="Ground,Visible;-"/>
        <Range value="5"/>
        <CastOutroTime value="0.35"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_D8Charge" State="Restricted" Requirements="AP_UseG4ClusterBombs"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ReaperSpiderMines">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Placeholder value="SpiderMine"/>
        <Range value="2"/>
        <Cost>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
            </Charge>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpiderMine" Requirements="AP_HaveReaperSpiderMines"/>
        <Effect index="0" value="AP_SpawnReaperSpiderMineSet"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MarineMengskSpiderMines">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Placeholder value="SpiderMine"/>
        <Range value="2"/>
        <Cost>
            <Charge>
                <CountMax value="6"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
            </Charge>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpiderMine" Requirements="AP_HaveMarineMengskVeterancyLevel2"/>
        <Effect index="0" value="AP_SpawnReaperSpiderMineSet"/>
    </CAbilEffectTarget>
    <CAbilSpecialize id="AP_MakeReaperSpiderMines">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoArray index="Specialize1" Time="12" Alert="SpiderMineComplete" Effect="AP_ReaperReplenishMines">
            <Resource index="Minerals" value="15"/>
            <Charge>
                <CountMax value="3"/>
                <CountUse value="1"/>
                <HideCount value="1"/>
                <Location value="Unit"/>
            </Charge>
            <Button DefaultButtonFace="AP_SpiderMineReplenish" Requirements="AP_HaveReaperSpiderMines"/>
        </InfoArray>
        <Alert value="BuildComplete"/>
        <Flags index="BestUnit" value="0"/>
        <Activity value="UI/AP_SpiderMineBuilding"/>
    </CAbilSpecialize>
    <CAbilMorph id="AP_ReaperLandMorph">
        <AbilSetId value="AP_ReaperLand"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_Reaper"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ReaperFlyMorph">
        <AbilSetId value="AP_ReaperFly"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Lift">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_ReaperFlying"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_HHReaperLand">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HHReaperLandCreatePrecursor"/>
        <Flags index="BestUnit" value="0"/>
        <TargetFilters value="Ground,Visible;Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HHReaperFly"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_HHReaperFly">
        <AbilSetId value="AP_HHReaperFly"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HHReaperFly" Requirements="AP_HaveHHReaperFlight"/>
        <Effect index="0" value="AP_HHReaperFlyCreatePrecursor"/>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Flags index="Transient" value="1"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_MercReaperLandMorph">
        <AbilSetId value="AP_ReaperLand"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_MercReaper"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MercReaperFlyMorph">
        <AbilSetId value="AP_ReaperFly"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Lift">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_MercReaperFlying"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_MercReaperLand">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HHReaperLandCreatePrecursor"/>
        <Flags index="BestUnit" value="0"/>
        <TargetFilters value="Ground,Visible;Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HHReaperFly"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_MercReaperFly">
        <AbilSetId value="AP_HHReaperFly"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HHReaperFly" Requirements="AP_HaveHHReaperFlight"/>
        <Effect index="0" value="AP_MercReaperFlyCreatePrecursor"/>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Flags index="Transient" value="1"/>
    </CAbilEffectInstant>
    <CAbilSpecialize id="AP_MakeVultureSpiderMines">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Activity value="UI/AP_SpiderMineBuilding"/>
        <InfoArray index="Specialize1" Time="12" Effect="AP_ReplenishMines">
            <Resource index="Minerals" value="15"/>
            <Display index="Minerals" value="1"/>
            <Charge>
                <CountMax value="3"/>
                <CountUse value="1"/>
                <HideCount value="1"/>
                <Location value="Unit"/>
            </Charge>
            <Button DefaultButtonFace="AP_SpiderMineReplenish" Requirements="AP_UseNanoConstructor"/>
            <Flags index="AutoCast" value="1"/>
        </InfoArray>
        <Alert value="BuildComplete"/>
        <Flags index="BestUnit" value="0"/>
    </CAbilSpecialize>
    <CAbilEffectTarget id="AP_SpiderMineUnburrowRangeDummy">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Range value="2"/>
    </CAbilEffectTarget>
    <CAbilQueue id="AP_VultureQueue3">
        <EditorCategories value="Race:Neutral,AbilityorEffectType:Structures"/>
        <QueueSize value="3"/>
        <Flags index="Passive" value="1"/>
    </CAbilQueue>
    <CAbilMorph id="AP_VultureSpiderMineUnburrow">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Cost>
            <Charge Link="Abil/AP_SpiderMineUnburrow"/>
            <Cooldown Link="Abil/AP_SpiderMineUnburrow"/>
        </Cost>
        <InfoArray Unit="AP_SpiderMine">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.6"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.6"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.6"/>
                <EffectArray index="Start" value="AP_SpiderMineInvulnerable"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Worker,Missile,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_VultureSpiderMines">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SpawnSpiderMineSet"/>
        <Cost>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
            </Charge>
        </Cost>
        <Placeholder value="AP_SpiderMine"/>
        <Range value="3"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpiderMine"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_VultureSpiderMineBurrow">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Cost>
            <Charge Link="Abil/AP_SpiderMineBurrow"/>
            <Cooldown Link="Abil/AP_SpiderMineBurrow"/>
        </Cost>
        <InfoArray Unit="AP_SpiderMineBurrowed">
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="3.5332"/>
                <DurationArray index="Duration" value="1.067"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="3.5332"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="4.5332"/>
                <EffectArray index="Start" value="AP_SpiderMineVulnerable"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Worker,Missile,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="2"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SiegeMode">
        <AbilSetId value="SiegeMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="SiegeMode" Requirements="AP_UseSiegeMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SiegeTankSieged" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
                <EffectArray index="Finish" value="AP_SiegeTankSiegeModeProgressiveRangeInceaseAB"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_Unsiege">
        <AbilSetId value="Unsieged"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Unsiege">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SiegeTank" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_SiegeTankJumpJet">
        <AbilSetId value="AP_SiegeTankJumpJet"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_SiegeTankJumpJetCreatePlaceholder"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="8"/>
        </Cost>
        <Range value="8"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankJumpJet" Requirements="AP_HaveHoverSiegeTank">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <PlaceUnit value="AP_SiegeTankJumpJetPlaceholder"/>
        <PrepTime value="0.125"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SiegeTankSiegedJumpJet">
        <AbilSetId value="AP_SiegeTankJumpJet"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_SiegeTankSiegedJumpJetCreatePlaceholder"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="Abil/SiegeTankJumpJet" Location="Unit" TimeUse="8"/>
        </Cost>
        <Range value="8"/>
        <Arc value="360"/>
        <PrepTime value="0.125"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankJumpJet" Requirements="AP_HaveHoverSiegeTank">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <PlaceUnit value="AP_SiegeTankSiegedJumpJetPlaceholder"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MercSiegeTankJumpJet">
        <AbilSetId value="AP_SiegeTankJumpJet"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_MercSiegeTankJumpJetCreatePlaceholder"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="8"/>
        </Cost>
        <Range value="8"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankJumpJet" Requirements="AP_HaveHoverSiegeTank">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <PlaceUnit value="AP_SiegeTankJumpJetPlaceholder"/>
        <PrepTime value="0.125"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MercSiegeTankSiegedJumpJet">
        <AbilSetId value="AP_SiegeTankJumpJet"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_MercSiegeTankSiegedJumpJetCreatePlaceholder"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="Abil/SiegeTankJumpJet" Location="Unit" TimeUse="8"/>
        </Cost>
        <Range value="8"/>
        <Arc value="360"/>
        <PrepTime value="0.125"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankJumpJet" Requirements="AP_HaveHoverSiegeTank">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <PlaceUnit value="AP_SiegeTankSiegedJumpJetPlaceholder"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DeploySpiderMines">
        <Effect index="0" value="AP_DeploySpiderMinesPersistent"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Charge CountMax="3" CountStart="3" CountUse="1"/>
            <Cooldown Location="Unit"/>
        </Cost>
        <Range value="5.5"/>
        <Arc value="360"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ProducedUnitArray value="AP_SpiderMine"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DeploySpiderMines" Requirements="AP_HaveSpiderMinesSiegeTank">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DeploySpiderMinesMengsk" parent="AP_DeploySpiderMines">
        <Cost index="0">
            <Charge CountMax="6" Link="Abil/AP_DeploySpiderMinesMengsk"/>
        </Cost>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MedivacDoubleBeamHeal">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MedivacHealInitialSwitch"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Biological,Visible;Self,Enemy,Structure,Missile,Uncommandable,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <Arc value="14.9963"/>
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy,Missile,Stasis,Dead,Invulnerable"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="healCasterMinEnergy"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <!-- Vanilla says NotStopping but this might be a bug -->
        <Marker Link="Abil/MedivacHeal"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <AINotifyEffect value="MedivacHeal"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Heal" Requirements="AP_AdvancedHealingAIPurchased"/>
        <AcquireAttackers value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MedivacHeal">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Biological,Visible;Self,Enemy,Structure,Missile,Uncommandable,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <Arc value="14.9963"/>
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy,Missile,Stasis,Dead,Invulnerable"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="healCasterMinEnergy"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <Marker Link="Abil/MedivacHeal"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <AINotifyEffect value="MedivacHeal"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Heal" Requirements="AP_AdvancedHealingAINotPurchased"/>
        <AcquireAttackers value="1"/>
    </CAbilEffectTarget>
    <CAbilTransport id="AP_MedivacTransport">
        <AbilSetId value="ULdM"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Load" DefaultButtonFace="MedivacLoad"/>
        <CmdButtonArray index="UnloadAll">
            <Flags index="Hidden" value="1"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt" DefaultButtonFace="MedivacUnloadAll"/>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <MaxCargoCount value="8"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="8"/>
        <UnloadPeriod value="1"/>
    </CAbilTransport>
    <CAbilBehavior id="AP_WraithCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOn" Requirements="AP_NotHavePermanentCloakWraith">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_CloakOff" Requirements="AP_NotHavePermanentCloakWraith">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_WraithCloak"/>
    </CAbilBehavior>
    <CAbilMorph id="AP_AssaultMode">
        <AbilSetId value="AssaultMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AssaultMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_VikingAssault" CollideRange="3.75" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.34"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.533"/>
                <DurationArray index="Duration" value="1.2"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.34"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_FighterMode">
        <AbilSetId value="FighterMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="FighterMode" Requirements="AP_UseFighterMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_VikingFighter" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.6"/>
                <DurationArray index="Duration" value="0.85"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilBehavior id="AP_BansheeCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnBanshee" Requirements="AP_NotHavePermanentCloakBanshee">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff" Requirements="AP_NotHavePermanentCloakBanshee">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_BansheeCloak"/>
    </CAbilBehavior>
    <CAbilBehavior id="AP_BansheeMengskCloak" parent="AP_BansheeCloak">
        <BehaviorArray index="0" value="AP_BansheeMengskCloak"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_DefensiveMatrix">
        <AbilSetId value="dmatrix"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DefensiveMatrixSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown TimeUse="20"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DefensiveMatrix" State="Restricted" Requirements="AP_UseDefensiveMatrix">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_MissilePods">
        <Alignment value="Negative"/>
        <AbilSetId value="missilepods"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HurricaneMissile"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown TimeUse="0.8332"/>
        </Cost>
        <Range value="7"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <CursorEffect value="AP_HurricaneMissileDamage"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="MissilePods" State="Restricted" Requirements="AP_UseHurricaneMissiles">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MissilePodsUpgraded" parent="AP_MissilePods">
        <CmdButtonArray index="Execute" Requirements="AP_HaveBattlecruiserAdvancedMissilePods"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_Yamato">
        <AbilSetId value="yamato"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown Link="AP_YamatoYamato" TimeUse="0.8332"/>
        </Cost>
        <Range value="10"/>
        <RangeSlop value="10"/>
        <PrepTime value="3"/>
        <ShowProgressArray index="Prep" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ProgressButtonArray index="Prep" value="YamatoGun"/>
        <AINotifyEffect value="Yamato"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_YamatoGun" Requirements="AP_UseYamato">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_Hyperjump">
        <AbilSetId value="FleetwideJump"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <!-- Need create unit as first effect to check for placement vs pathing blockers -->
        <Effect index="0" value="AP_HyperjumpCreatePrecursor"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="125"/>
        </Cost>
        <Range value="500"/>
        <CastIntroTime value="0"/>
        <CastOutroTime value="6"/>
        <ShowProgressArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ProgressButtonArray index="Channel" value="AP_Hyperjump"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Hyperjump" Requirements="AP_UseHyperjump">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HyperjumpJacksonsRevenge">
        <AbilSetId value="FleetwideJump"/>
        <!-- Need create unit as first effect to check for placement vs pathing blockers -->
        <Effect index="0" value="AP_HyperjumpCreatePrecursor"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="125"/>
        </Cost>
        <Range value="500"/>
        <CastIntroTime value="0"/>
        <CastOutroTime value="6"/>
        <ShowProgressArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ProgressButtonArray index="Channel" value="AP_HyperjumpJacksonsRevenge"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Hyperjump" Requirements="AP_UseHyperjump">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_BattlecruiserCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnBattlecruiser" Requirements="AP_CloakingTechnologyBattlecruiser">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_BattlecruiserCloak"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_PredatorCloak">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PredatorCloakAB"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="15"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_CloakOn" Requirements="AP_HaveCloakingTechnologyPredator"/>
    </CAbilEffectInstant>
    <CAbilQueue id="AP_que1">
        <EditorCategories value="Race:Neutral,AbilityorEffectType:Structures"/>
        <QueueSize value="1"/>
    </CAbilQueue>
    <CAbilEffectTarget id="AP_EMP">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_EMPLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <Range value="10"/>
        <PrepTime value="0.01"/>
        <FinishTime value="2.5"/>
        <CursorEffect value="AP_EMPSearch"/>
        <AINotifyEffect value="EMPLaunchMissile"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="EMP" State="Restricted">
            <Flags index="ShowInGlossary" value="0"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_GhostCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnGhost" Requirements="AP_PermanentCloakGhostResearchedHide">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff" Requirements="AP_PermanentCloakGhostResearchedHide">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_GhostCloak"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_GhostWeaponsFree">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WeaponsFree" Requirements="AP_GhostHoldingFire">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_Snipe">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SnipeDamage"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="Biological,Visible;Self,Structure,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <CastIntroTime value="0.5"/>
        <Marker>
            <MatchFlags index="Link" value="0"/>
            <MatchFlags index="CasterUnit" value="1"/>
        </Marker>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SniperBotSnipe"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_TacNukeStrike">
        <TechPlayer value="Owner"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_Nuke"/>
        <Range value="12"/>
        <FinishTime value="2.5"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ValidatedArray index="Channel" value="0"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <AbilSetId value="AP_TacNukeStrike"/>
        <CursorEffect value="AP_NukeDamage"/>
        <CalldownEffect value="AP_Nuke"/>
        <AINotifyEffect value="Nuke"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NukeCalldown" Requirements="AP_HaveNuke">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_TacNukeStrikeThor" parent="AP_TacNukeStrike">
        <CmdButtonArray index="Execute" Requirements="AP_HaveNukeThor"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_GhostHoldFire">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="HoldFire" Requirements="AP_GhostNotHoldingFire">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_Obliterate">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Cost>
            <Vital index="Energy" value="150"/>
            <Charge Link=""/>
            <Cooldown Link=""/>
        </Cost>
        <TargetFilters value="Visible;Self,Missile,Stasis,Dead,Invulnerable"/>
        <Range value="8"/>
        <RangeSlop value="8"/>
        <PrepTime value="3"/>
        <ShowProgressArray index="Prep" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value=""/>
        <ProgressButtonArray index="Prep" value="AP_Obliterate"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Obliterate" State="Restricted" Requirements="AP_UseUltrasonicPulse">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_RogueGhostCloak">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnSpectre" Requirements="AP_PermanentCloakSpectreResearchedHide">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff" Requirements="AP_PermanentCloakSpectreResearchedHide">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <AbilSetId value="Clok"/>
        <BehaviorArray value="AP_SpectreCloaking"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_SpectreHoldFire">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SpectreHoldFireSet"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpectreHoldFire" Requirements="AP_SpectreNotHoldingFire">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SpectreWeaponsFree">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Spectre_WeaponsFree" Requirements="AP_SpectreHoldingFire">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_SpectreNuke">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Range value="12"/>
        <FinishTime value="2.5"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ValidatedArray index="Channel" value="0"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <AbilSetId value="AP_TacNukeStrike"/>
        <CursorEffect value="AP_SpectreNukeDamage"/>
        <CalldownEffect value="AP_SpectreNuke"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpectreNukeCalldown" Requirements="AP_HaveNuke">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_UltrasonicPulse">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_UltrasonicPulseLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Charge Link="Abil/PsiStorm"/>
            <Cooldown Link="Abil/PsiStorm" TimeUse="2.5"/>
        </Cost>
        <Range value="9"/>
        <PrepTime value="0.01"/>
        <FinishTime value="2.5"/>
        <CursorEffect value="AP_UltrasonicPulseSearchArea"/>
        <AINotifyEffect value="AP_UltrasonicPulseLaunchMissile"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UltrasonicPulse"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_ThorReborn">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <RefundFraction>
            <Resource index="Minerals" value="0"/>
            <Resource index="Vespene" value="0"/>
            <Resource index="Terrazine" value="0"/>
            <Resource index="Custom" value="0"/>
        </RefundFraction>
        <InfoArray Score="1" Unit="AP_Thor">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="12"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
        </InfoArray>
        <Alert value="RebornComplete"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorRebornFree" parent="AP_ThorReborn">
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveThorImmortalityFree"/>
        <AutoCastRange value="13"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorWreckage">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ThorWreckage">
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="PostMorphHeal"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MercThorReborn">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <RefundFraction>
            <Resource index="Minerals" value="0"/>
            <Resource index="Vespene" value="0"/>
            <Resource index="Terrazine" value="0"/>
            <Resource index="Custom" value="0"/>
        </RefundFraction>
        <InfoArray Score="1" Unit="AP_MercThor">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="12"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
        </InfoArray>
        <Alert value="RebornComplete"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MercThorRebornFree" parent="AP_MercThorReborn">
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveThorImmortalityFree"/>
        <AutoCastRange value="13"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MercThorWreckage">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercThorWreckage">
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="PostMorphHeal"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskReborn">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <RefundFraction>
            <Resource index="Minerals" value="0"/>
            <Resource index="Vespene" value="0"/>
            <Resource index="Terrazine" value="0"/>
            <Resource index="Custom" value="0"/>
        </RefundFraction>
        <InfoArray Score="1" Unit="AP_ThorMengsk">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="9"/>
                <DurationArray index="Duration" value="3"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="12"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="12"/>
                <EffectArray index="Finish" value="AP_ThorMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
        <Alert value="RebornComplete"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskRebornFree" parent="AP_ThorMengskReborn">
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveThorImmortalityFree"/>
        <AutoCastRange value="13"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskWreckage">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ThorMengskWreckage">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.75"/>
            </SectionArray>
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="AP_ThorMengskAPWreckageMorphingRBSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskAPWreckage">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Thor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ThorMengsk">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.75"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.75"/>
                <EffectArray index="Finish" value="AP_ThorMengskAPWreckageMorphingABSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_BuildAutoTurret">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="21"/>
        <Effect index="0" value="AP_AutoTurretRelease"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Charge Link="Abil/AutoTurret"/>
            <Cooldown Link="Raven Build Link" Location="Unit"/>
        </Cost>
        <Placeholder value="AutoTurret"/>
        <Range value="3"/>
        <Marker Link="Abil/AutoTurret"/>
        <ErrorAlert value="Error"/>
        <AINotifyEffect value="AutoTurret"/>
        <ProducedUnitArray value="AP_AutoTurret"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AutoTurret"/>
        <PlaceUnit value="AP_AutoTurret"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PlacePointDefenseDrone">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="11"/>
        <Effect index="0" value="AP_PointDefenseDroneReleaseCreateUnit"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown Link="Raven Build Link" Location="Unit"/>
        </Cost>
        <Placeholder value="AP_PointDefenseDrone"/>
        <Range value="3"/>
        <ProducedUnitArray value="AP_PointDefenseDrone"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PointDefenseDrone"/>
        <PlaceUnit value="AP_PointDefenseDrone"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SeekerMissile">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_SeekerMissileLaunchMissile"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Charge Link="Abil/AP_HunterSeekerMissile"/>
            <Cooldown Link="Abil/AP_HunterSeekerMissile"/>
        </Cost>
        <TargetFilters value="Visible;Self,Neutral,Structure,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <Arc value="29.9926"/>
        <ArcSlop value="0"/>
        <Marker Link="Abil/AP_HunterSeekerMissile"/>
        <AINotifyEffect value="HunterSeekerMissile"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HunterSeekerMissile"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_Irradiate">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_IrradiateSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="-;Structure,RawResource,HarvestableResource,Item,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <Arc value="360"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Irradiate"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_IrradiateMedicMengsk" parent="AP_Irradiate">
        <Arc value="0"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveMedicMengskVeterancyLevel2"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NanoRepair">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Flags index="TransportAcquirePassengers" value="1"/>
        <TargetFilters value="Mechanical,Visible;Self,Enemy,Structure,Missile,Uncommandable,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <Arc value="360"/>
        <!-- Tested in vanilla that a target can be healed and nano-repaired at same time (biomech units) -->
        <!--        <Marker Link="Abil/NanoRepair"/>-->
        <!-- Set it in Liberty Campaign mod so a target can't be healed from both vanilla and AP Ability -->
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="-;Neutral,Enemy"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="healCasterMinEnergy"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NanoRepair" Requirements="AP_ScienceVesselNotHaveNanoRepairDoubleUse"/>
        <AcquireAttackers value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ScienceVesselNanoRepairDouble">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ScienceVesselNanoRepairDoublePersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Flags index="TransportAcquirePassengers" value="1"/>
        <TargetFilters value="Mechanical,Visible;Self,Enemy,Structure,Missile,Uncommandable,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <Arc value="360"/>
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy,Missile,Stasis,Dead,Hallucination,Invulnerable"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <AutoCastValidatorArray value="healCasterMinEnergy"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NanoRepair" Requirements="AP_ScienceVesselNanoRepairDoubleUse"/>
        <AcquireAttackers value="1"/>
    </CAbilEffectTarget>
    <CAbilTransport id="AP_HerculesTransport">
        <AbilSetId value="ULdM"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Load" DefaultButtonFace="MedivacLoad"/>
        <CmdButtonArray index="UnloadAll">
            <Flags index="Hidden" value="1"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt" DefaultButtonFace="MedivacUnloadAll"/>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="ShowCargoSize" value="0"/>
        <MaxCargoCount value="30"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="30"/>
        <LoadCargoBehavior value="TransportDummy"/>
        <UnloadPeriod value="0.2"/>
        <DeathUnloadEffect value="AP_RescuePodsSet"/>
    </CAbilTransport>
    <CAbilEffectInstant id="AP_LiberatorAATarget">
        <AbilSetId value="AP_LiberatorAATarget"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LiberatorTargetAAMorphOrderSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SILiberatorAATarget">
        <AbilSetId value="AP_LiberatorAATarget"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SILiberatorTargetAAMorphOrderSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_MercLiberatorAATarget">
        <AbilSetId value="AP_LiberatorAATarget"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MercLiberatorTargetAAMorphOrderSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_LiberatorMengskAATarget">
        <AbilSetId value="AP_LiberatorAATarget"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LiberatorMengskTargetAAMorphOrderSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_LiberatorAGTarget">
        <AbilSetId value="AP_LiberatorAGTarget"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LiberatorTargetMorphOrderInitialSet"/>
        <Range value="9"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAGMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SILiberatorAGTarget">
        <AbilSetId value="AP_LiberatorAGTarget"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SILiberatorTargetMorphOrderInitialSet"/>
        <Range value="9"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAGMode" Requirements="AP_HaveSILiberatorDefenderMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MercLiberatorAGTarget">
        <AbilSetId value="AP_LiberatorAGTarget"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MercLiberatorTargetMorphOrderInitialSet"/>
        <Range value="9"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAGMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_LiberatorMengskAGTarget">
        <AbilSetId value="AP_LiberatorAGTarget"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LiberatorMengskTargetMorphOrderInitialSet"/>
        <Range value="9"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAGMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_LiberatorMorphtoAA">
        <AbilSetId value="LiberatorAA"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <CancelUnit value="AP_Liberator"/>
        <InfoArray Unit="AP_Liberator">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_SILiberatorMorphtoAA">
        <AbilSetId value="LiberatorAA"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <CancelUnit value="AP_SILiberator"/>
        <InfoArray Unit="AP_SILiberator">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MercLiberatorMorphtoAA">
        <AbilSetId value="LiberatorAA"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <CancelUnit value="AP_MercLiberator"/>
        <InfoArray Unit="AP_MercLiberator">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_LiberatorMengskMorphtoAA">
        <AbilSetId value="LiberatorAA"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAAMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <CancelUnit value="AP_LiberatorMengsk"/>
        <InfoArray Unit="AP_LiberatorMengsk">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="1.5417"/>
                <EffectArray index="Finish" value="AP_LiberatorMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_LiberatorMorphtoAG">
        <AbilSetId value="LiberatorAG"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAGMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_LiberatorAG">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_SILiberatorMorphtoAG">
        <AbilSetId value="LiberatorAG"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LiberatorAGMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_SILiberatorAG">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MercLiberatorMorphtoAG">
        <AbilSetId value="LiberatorAG"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAGMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_MercLiberatorAG">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_LiberatorMengskMorphtoAG">
        <AbilSetId value="LiberatorAG"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercLiberatorAGMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_LiberatorMengskAG">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
                <EffectArray index="Finish" value="AP_LiberatorMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilBehavior id="AP_LiberatorCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnLiberator" Requirements="AP_CloakingTechnologyLiberator">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_LiberatorCloak"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_WidowMineAttack">
        <PrepEffect value="AP_WidowMineTargetingBeamDummy"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Cooldown TimeUse="40"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="5"/>
        <RangeSlop value="0"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Item,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="5"/>
        <AutoCastValidatorArray value="NotLarvaEgg"/>
        <AutoCastValidatorArray value="IsNotNeuralParasited"/>
        <AutoCastValidatorArray value="AP_IsNotDisguisedChangeling"/>
        <AutoCastValidatorArray value="NotHallucinationOrNotDetected"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_WidowMineStructureAttackEnabledOrNotStructure"/>
        <SmartValidatorArray value="AP_HaveWidowMineDemolitionArmamentsOrNotStructure"/>
        <PrepTime value="1.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WidowMineAttack" Requirements="AP_WidowMineArmed">
            <Flags index="ShowInGlossary" value="0"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_WidowMineBurrow">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WidowMineBurrow">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_WidowMineBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.125"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.6806"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="3.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_WidowMineUnburrow">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WidowMineUnburrow">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_WidowMine" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.125"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="1.125"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_LockOn">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <PrepEffect value="AP_LockOnInitialAB"/>
        <Effect index="0" value="AP_LockOnInitialSetNew"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown TimeUse="6"/>
        </Cost>
        <TargetFilters value="Visible;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <TargetSorts>
            <SortArray value="TSThreatensCyclone"/>
            <SortArray value="AirTarget"/>
        </TargetSorts>
        <Range value="7"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="7.5"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_TargetNotLockOn"/>
        <AutoCastValidatorArray value="AP_IsNotVanillaInterceptor"/>
        <!-- FIXME: Add AP_Interceptor -->
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastValidatorArray value="IsNotNeuralParasited"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastValidatorArray value="AP_IsDefensiveStructure"/>
        <AutoCastValidatorArray value="NotLarva"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
        <AutoCastValidatorArray value="NotLarvaEgg"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LockOn" Requirements="AP_NoLockedOn"/>
        <FollowRange value="7"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_LockOnAir">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <PrepEffect value="AP_LockOnInitialAB"/>
        <Effect index="0" value="LockOnAirInitialSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown Link="LockOnShared" Location="Unit" TimeUse="6"/>
        </Cost>
        <TargetFilters value="Air,Visible;Self,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="7"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="7"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_TargetNotLockOn"/>
        <AutoCastValidatorArray value="IsNotInterceptor"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastValidatorArray value="IsNotNeuralParasited"/>
        <AutoCastValidatorArray value="IsFlying"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LockOnAir" Requirements="AP_NoLockedOn"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_LockOnCancel">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LockOnDisableAttackRB"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LockOnCancel" Requirements="AP_LockedOn"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_SiegeBreakerSiege">
        <AbilSetId value="SiegeMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="SiegeMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SiegeBreakerSieged" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
                <EffectArray index="Finish" value="AP_SiegeTankSiegeModeProgressiveRangeInceaseAB"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_SiegeBreakerUnsiege">
        <AbilSetId value="Unsieged"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Unsiege">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SiegeBreaker" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_InfestedSiegeBreakerSiege">
        <AbilSetId value="SiegeMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="SiegeMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestedSiegeBreakerSieged" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
                <EffectArray index="Finish" value="AP_SiegeTankSiegeModeProgressiveRangeInceaseAB"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_InfestedSiegeBreakerUnsiege">
        <AbilSetId value="Unsieged"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Unsiege">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestedSiegeBreaker" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_WreckingCrewAssaultMode">
        <AbilSetId value="AssaultMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AssaultMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="AssaultMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_HelsAngelAssault" CollideRange="3.75" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.334"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.9333"/>
                <DurationArray index="Duration" value="1.4"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_WreckingCrewFighterMode">
        <AbilSetId value="FighterMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="FighterMode" Requirements="UseFighterMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="FighterMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_HelsAngelFighter" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.666"/>
                <DurationArray index="Duration" value="1.667"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BrynhildAssaultMode">
        <AbilSetId value="AssaultMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BrynhildAssaultMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="AssaultMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_BrynhildAssault" CollideRange="3.75" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.334"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.9333"/>
                <DurationArray index="Duration" value="1.4"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BrynhildFighterMode">
        <AbilSetId value="FighterMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BrynhildFighterMode" Requirements="UseFighterMode">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="FighterMode"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_BrynhildFighter" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.666"/>
                <DurationArray index="Duration" value="1.667"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.333"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilBehavior id="AP_DuskWingBansheeCloakingField">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnBanshee" Requirements="AP_NotHavePermanentCloakBanshee">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff" Requirements="AP_NotHavePermanentCloakBanshee">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_BansheeCloak"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_DukesRevengeDefensiveMatrix">
        <Alignment value="Positive"/>
        <AbilSetId value="dmatrix"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DefensiveMatrixSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Marker Link="Abil/DefensiveMatrix"/>
        <AINotifyEffect value="AP_BattlecruiserDefensiveMatrix"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DefensiveMatrix" State="Restricted" Requirements="AP_UseDefensiveMatrix">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_DukesRevengeMissilePods">
        <Alignment value="Negative"/>
        <AbilSetId value="missilepods"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HurricaneMissile"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown TimeUse="0.8332"/>
        </Cost>
        <Range value="7"/>
        <Marker Link="Abil/MissilePods"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <CursorEffect value="AP_HurricaneMissileDamage"/>
        <AINotifyEffect value="MissilePods"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MissilePods" State="Restricted" Requirements="AP_UseHurricaneMissiles">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DukesRevengeYamato">
        <Alignment value="Negative"/>
        <AbilSetId value="yamato"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="Yamato"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown TimeUse="0.8332"/>
        </Cost>
        <Range value="10"/>
        <RangeSlop value="10"/>
        <PrepTime value="3"/>
        <Marker Link="Abil/Yamato"/>
        <ShowProgressArray index="Prep" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="Yamato"/>
        <ProgressButtonArray index="Prep" value="YamatoGun"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_YamatoGun" Requirements="AP_UseYamato">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilResearch id="AP_FusionCoreResearch">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <!-- AP uses triggers to grant unit upgrades -->
    </CAbilResearch>
    <CAbilMorph id="AP_RefineryToAutomatedRefinery">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_AutomatedRefinery" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_AutomatedRefineryMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_UseAutomatedRefinery"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_AutomatedRefinery" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_AutomatedRefineryRichMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_UseAutomatedRefinery"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_AutomatedRefineryRich" CollideRange="0"/>
    </CAbilMorph>
    <CAbilBuildable id="AP_BuildinProgressNonCancellable">
        <Cancelable value="0"/>
    </CAbilBuildable>
    <CAbilMorph id="AP_DropToSupplyDepot">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_SupplyDepot" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SupplyDepotLower">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Lower"/>
        <InfoArray Unit="AP_SupplyDepotLowered" CollideRange="0">
            <SectionArray index="Abils">
                <EffectArray index="Start" value="AP_SupplyDepotMorphingApplyBehavior"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.3"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.3"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="1.3"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.3"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_SupplyDepotRaise">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="MoveBlockers" value="1"/>
        <InfoArray Unit="AP_SupplyDepot" CollideRange="0">
            <SectionArray index="Abils">
                <EffectArray index="Start" value="AP_SupplyDepotMorphingApplyBehavior"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.3"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="1.3"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.3"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilBuild id="AP_BarracksAddOns" parent="TerranAddOns">
        <Name value="Abil/Name/AP_BarracksAddOns"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <BuildMorphAbil value="AP_BarracksLiftOff"/>
        <InfoArray index="Build1" Unit="AP_BarracksTechLab" Time="25">
            <Button DefaultButtonFace="BuildTechLabBarracks" State="Restricted" Requirements="AP_UseTechReactorHide"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_BarracksReactor" Time="50">
            <Button Requirements="AP_UseTechReactorHide"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_BarracksTechReactor" Time="25" AddOnParentCmdPriority="-1">
            <Button DefaultButtonFace="AP_TechReactor" Requirements="AP_UseTechReactor"/>
        </InfoArray>
    </CAbilBuild>
    <CAbilMorph id="AP_BarracksLiftOff" parent="TerranBuildingLiftOff" unit="AP_BarracksFlying">
        <Name value="Abil/Name/AP_BarracksLiftOff"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BarracksMengskLiftOff" parent="TerranBuildingLiftOff" unit="AP_BarracksMengskFlying">
        <Name value="Abil/Name/AP_BarracksMengskLiftOff"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BarracksReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Reactor" Requirements="AP_ShowIfHaveAPBarrAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_BarracksReactor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BarracksTechLabMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLabBarracks" Requirements="AP_ShowIfHaveAPBarrAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_BarracksTechLab"/>
    </CAbilMorph>
    <CAbilResearch id="AP_BarracksTechLabResearch">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <!-- Unit upgrades are granted by triggers in AP -->
    </CAbilResearch>
    <CAbilMorph id="AP_BarracksTechReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLabBarracks" Requirements="AP_ShowIfHaveAPBarrAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_BarracksTechReactor"/>
    </CAbilMorph>
    <CAbilTrain id="AP_BarracksTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Range value="5"/>
        <InfoArray index="Train1" Time="25">
            <Button DefaultButtonFace="Marine" State="Restricted"/>
            <Unit value="AP_Marine"/>
        </InfoArray>
        <InfoArray index="Train2" Time="40">
            <Button DefaultButtonFace="Reaper" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Reaper"/>
        </InfoArray>
        <InfoArray index="Train3" Time="40">
            <Button DefaultButtonFace="Ghost" State="Restricted" Requirements="AP_HaveAttachedBarrTechLabOrAttachedTechReactorAndShadowOps"/>
            <Unit value="AP_Ghost"/>
        </InfoArray>
        <InfoArray index="Train4" Time="30">
            <Button DefaultButtonFace="Marauder" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Marauder"/>
        </InfoArray>
        <InfoArray index="Train5" Time="25">
            <Button DefaultButtonFace="Medic" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Medic"/>
        </InfoArray>
        <InfoArray index="Train6" Time="30">
            <Button DefaultButtonFace="FlameMech" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Firebat"/>
        </InfoArray>
        <InfoArray index="Train7" Time="50">
            <Button DefaultButtonFace="Spectre" State="Restricted" Requirements="AP_HaveAttachedBarrTechLabOrAttachedTechReactorAndShadowOps"/>
            <Unit value="AP_Spectre"/>
        </InfoArray>
        <InfoArray index="Train8" Time="30">
            <Button DefaultButtonFace="AP_HERC" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_HERC"/>
        </InfoArray>
        <InfoArray index="Train9" Time="25">
            <Button DefaultButtonFace="AP_TrooperMengsk" State="Restricted"/>
            <Unit value="AP_TrooperMengsk"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilMorph id="AP_FactoryReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Reactor" Requirements="AP_ShowIfHaveAPFactAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_FactoryReactor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_FactoryTechLabMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLabFactory" Requirements="AP_ShowIfHaveAPFactAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_FactoryTechLab"/>
    </CAbilMorph>
    <CAbilResearch id="AP_FactoryTechLabResearch">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <!-- Unit upgrades are granted by triggers in AP -->
    </CAbilResearch>
    <CAbilMorph id="AP_FactoryTechReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLabFactory" Requirements="AP_ShowIfHaveAPFactAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_FactoryTechReactor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphToTechReactor">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_TechReactor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLab" Requirements="ShowIfHaveNoAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_Reactor">
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_StarportReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Reactor" Requirements="AP_ShowIfHaveAPStarportAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_StarportReactor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_StarportTechLabMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLabStarport" Requirements="AP_ShowIfHaveAPStarportAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_StarportTechLab"/>
    </CAbilMorph>
    <CAbilResearch id="AP_StarportTechLabResearch">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <!-- Unit upgrades are granted by triggers in AP -->
    </CAbilResearch>
    <CAbilMorph id="AP_StarportTechReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLabStarport" Requirements="AP_ShowIfHaveAPStarportAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_StarportTechReactor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_TechLabMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLab" Requirements="ShowIfHaveNoAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_TechLab">
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_TechReactorMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLab" Requirements="ShowIfHaveNoAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_TechReactor">
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorphPlacement id="AP_BarracksLand" parent="TerranBuildingLand" unit="AP_Barracks">
        <Name value="Abil/Name/AP_BarracksLand"/>
        <InfoArray index="0" Unit="AP_Barracks" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorphPlacement id="AP_BarracksMengskLand" parent="TerranBuildingLand" unit="AP_BarracksMengsk">
        <Name value="Abil/Name/AP_BarracksMengskLand"/>
        <InfoArray index="0" Unit="AP_BarracksMengsk" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilResearch id="AP_EngineeringBayResearch">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <InfoArray index="Research3" Time="160" Upgrade="AP_TerranInfantryWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="TerranInfantryWeaponsLevel1" State="Restricted" Requirements="AP_LearnTerranInfantryWeapon1"/>
        </InfoArray>
        <InfoArray index="Research4" Time="190" Upgrade="AP_TerranInfantryWeaponsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="TerranInfantryWeaponsLevel2" State="Restricted" Requirements="AP_LearnTerranInfantryWeapon2"/>
        </InfoArray>
        <InfoArray index="Research5" Time="220" Upgrade="AP_TerranInfantryWeaponsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="TerranInfantryWeaponsLevel3" State="Restricted" Requirements="AP_LearnTerranInfantryWeapon3"/>
        </InfoArray>
        <InfoArray index="Research7" Time="160" Upgrade="AP_TerranInfantryArmorsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="TerranInfantryArmorLevel1" State="Restricted" Requirements="AP_LearnTerranInfantryArmor1"/>
        </InfoArray>
        <InfoArray index="Research8" Time="190" Upgrade="AP_TerranInfantryArmorsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="TerranInfantryArmorLevel2" State="Restricted" Requirements="AP_LearnTerranInfantryArmor2"/>
        </InfoArray>
        <InfoArray index="Research9" Time="220" Upgrade="AP_TerranInfantryArmorsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="TerranInfantryArmorLevel3" State="Restricted" Requirements="AP_LearnTerranInfantryArmor3"/>
        </InfoArray>
        <InfoArray index="Research11" Time="160" Upgrade="AP_TerranInfantryWeaponsUltraCapacitorsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsUltraCapacitorsLevel1" State="Restricted" Requirements="AP_LearnTerranInfantryWeaponUltraCapacitors1"/>
        </InfoArray>
        <InfoArray index="Research12" Time="190" Upgrade="AP_TerranInfantryWeaponsUltraCapacitorsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsUltraCapacitorsLevel2" State="Restricted" Requirements="AP_LearnTerranInfantryWeaponUltraCapacitors2"/>
        </InfoArray>
        <InfoArray index="Research13" Time="220" Upgrade="AP_TerranInfantryWeaponsUltraCapacitorsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsUltraCapacitorsLevel3" State="Restricted" Requirements="AP_LearnTerranInfantryWeaponUltraCapacitors3"/>
        </InfoArray>
        <InfoArray index="Research14" Time="160" Upgrade="AP_TerranInfantryArmorsVanadiumPlatingLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorVanadiumPlatingLevel1" State="Restricted" Requirements="AP_LearnTerranInfantryArmorVanadiumPlating1"/>
        </InfoArray>
        <InfoArray index="Research15" Time="190" Upgrade="AP_TerranInfantryArmorsVanadiumPlatingLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorVanadiumPlatingLevel2" State="Restricted" Requirements="AP_LearnTerranInfantryArmorVanadiumPlating2"/>
        </InfoArray>
        <InfoArray index="Research16" Time="220" Upgrade="AP_TerranInfantryArmorsVanadiumPlatingLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorVanadiumPlatingLevel3" State="Restricted" Requirements="AP_LearnTerranInfantryArmorVanadiumPlating3"/>
        </InfoArray>
        <InfoArray index="Research17" Time="250" Upgrade="AP_TerranInfantryWeaponsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsLevel4" State="Restricted" Requirements="AP_LearnTerranInfantryWeapon4"/>
        </InfoArray>
        <InfoArray index="Research18" Time="280" Upgrade="AP_TerranInfantryWeaponsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsLevel5" State="Restricted" Requirements="AP_LearnTerranInfantryWeapon5"/>
        </InfoArray>
        <InfoArray index="Research19" Time="250" Upgrade="AP_TerranInfantryWeaponsUltraCapacitorsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsUltraCapacitorsLevel4" State="Restricted" Requirements="AP_LearnTerranInfantryWeaponUltraCapacitors4"/>
        </InfoArray>
        <InfoArray index="Research20" Time="280" Upgrade="AP_TerranInfantryWeaponsUltraCapacitorsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranInfantryWeaponsUltraCapacitorsLevel5" State="Restricted" Requirements="AP_LearnTerranInfantryWeaponUltraCapacitors5"/>
        </InfoArray>
        <InfoArray index="Research21" Time="250" Upgrade="AP_TerranInfantryArmorsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorLevel4" State="Restricted" Requirements="AP_LearnTerranInfantryArmor4"/>
        </InfoArray>
        <InfoArray index="Research22" Time="280" Upgrade="AP_TerranInfantryArmorsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorLevel5" State="Restricted" Requirements="AP_LearnTerranInfantryArmor5"/>
        </InfoArray>
        <InfoArray index="Research23" Time="250" Upgrade="AP_TerranInfantryArmorsVanadiumPlatingLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorVanadiumPlatingLevel4" State="Restricted" Requirements="AP_LearnTerranInfantryArmorVanadiumPlating4"/>
        </InfoArray>
        <InfoArray index="Research24" Time="280" Upgrade="AP_TerranInfantryArmorsVanadiumPlatingLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranInfantryArmorVanadiumPlatingLevel5" State="Restricted" Requirements="AP_LearnTerranInfantryArmorVanadiumPlating5"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilMorph id="AP_PerditionTurretBurrow">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PerditionTurretUnderground">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
        <ValidatorArray value="AP_NotAttacking"/>
    </CAbilMorph>
    <CAbilMorph id="AP_PerditionTurretUnburrow">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="MoveBlockers" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PerditionTurret" CollideRange="0">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.6"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.6"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.6"/>
            </SectionArray>
        </InfoArray>
        <ErrorAlert value=""/>
        <AutoCastFilters value="Ground,Visible;Self,Player,Ally,Neutral,Hover,Missile,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="4"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilResearch id="AP_ArmoryResearch">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <InfoArray index="Research3" Time="160" Upgrade="AP_TerranVehicleArmorsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="TerranVehiclePlatingLevel1" State="Restricted" Requirements="AP_LearnTerranVehicleArmor1"/>
        </InfoArray>
        <InfoArray index="Research4" Time="190" Upgrade="AP_TerranVehicleArmorsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="TerranVehiclePlatingLevel2" State="Restricted" Requirements="AP_LearnTerranVehicleArmor2"/>
        </InfoArray>
        <InfoArray index="Research5" Time="220" Upgrade="AP_TerranVehicleArmorsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="TerranVehiclePlatingLevel3" State="Restricted" Requirements="AP_LearnTerranVehicleArmor3"/>
        </InfoArray>
        <InfoArray index="Research6" Time="160" Upgrade="AP_TerranVehicleWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="TerranVehicleWeaponsLevel1" State="Restricted" Requirements="AP_LearnTerranVehicleWeapon1"/>
        </InfoArray>
        <InfoArray index="Research7" Time="190" Upgrade="AP_TerranVehicleWeaponsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="TerranVehicleWeaponsLevel2" State="Restricted" Requirements="AP_LearnTerranVehicleWeapon2"/>
        </InfoArray>
        <InfoArray index="Research8" Time="220" Upgrade="AP_TerranVehicleWeaponsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="TerranVehicleWeaponsLevel3" State="Restricted" Requirements="AP_LearnTerranVehicleWeapon3"/>
        </InfoArray>
        <InfoArray index="Research9" Time="160" Upgrade="AP_TerranShipArmorsLevel1">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="TerranShipPlatingLevel1" State="Restricted" Requirements="AP_LearnTerranShipArmor1"/>
        </InfoArray>
        <InfoArray index="Research10" Time="190" Upgrade="AP_TerranShipArmorsLevel2">
            <Resource index="Minerals" value="225"/>
            <Resource index="Vespene" value="225"/>
            <Button DefaultButtonFace="TerranShipPlatingLevel2" State="Restricted" Requirements="AP_LearnTerranShipArmor2"/>
        </InfoArray>
        <InfoArray index="Research11" Time="220" Upgrade="AP_TerranShipArmorsLevel3">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="TerranShipPlatingLevel3" State="Restricted" Requirements="AP_LearnTerranShipArmor3"/>
        </InfoArray>
        <InfoArray index="Research12" Time="160" Upgrade="AP_TerranShipWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="TerranShipWeaponsLevel1" State="Restricted" Requirements="AP_LearnTerranShipWeapon1"/>
        </InfoArray>
        <InfoArray index="Research13" Time="190" Upgrade="AP_TerranShipWeaponsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="TerranShipWeaponsLevel2" State="Restricted" Requirements="AP_LearnTerranShipWeapon2"/>
        </InfoArray>
        <InfoArray index="Research14" Time="220" Upgrade="AP_TerranShipWeaponsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="TerranShipWeaponsLevel3" State="Restricted" Requirements="AP_LearnTerranShipWeapon3"/>
        </InfoArray>
        <InfoArray index="Research16" Time="160" Upgrade="AP_TerranVehicleWeaponsUltraCapacitorsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsUltraCapacitorsLevel1" State="Restricted" Requirements="AP_LearnTerranVehicleWeaponUltraCapacitors1"/>
        </InfoArray>
        <InfoArray index="Research17" Time="190" Upgrade="AP_TerranVehicleWeaponsUltraCapacitorsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsUltraCapacitorsLevel2" State="Restricted" Requirements="AP_LearnTerranVehicleWeaponUltraCapacitors2"/>
        </InfoArray>
        <InfoArray index="Research18" Time="220" Upgrade="AP_TerranVehicleWeaponsUltraCapacitorsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsUltraCapacitorsLevel3" State="Restricted" Requirements="AP_LearnTerranVehicleWeaponUltraCapacitors3"/>
        </InfoArray>
        <InfoArray index="Research19" Time="160" Upgrade="AP_TerranShipWeaponsUltraCapacitorsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsUltraCapacitorsLevel1" State="Restricted" Requirements="AP_LearnTerranShipWeaponUltraCapacitors1"/>
        </InfoArray>
        <InfoArray index="Research20" Time="190" Upgrade="AP_TerranShipWeaponsUltraCapacitorsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsUltraCapacitorsLevel2" State="Restricted" Requirements="AP_LearnTerranShipWeaponUltraCapacitors2"/>
        </InfoArray>
        <InfoArray index="Research21" Time="220" Upgrade="AP_TerranShipWeaponsUltraCapacitorsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsUltraCapacitorsLevel3" State="Restricted" Requirements="AP_LearnTerranShipWeaponUltraCapacitors3"/>
        </InfoArray>
        <InfoArray index="Research22" Time="160" Upgrade="AP_TerranVehicleArmorsVanadiumPlatingLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingVanadiumPlatingLevel1" State="Restricted" Requirements="AP_LearnTerranVehicleArmorVanadiumPlating1"/>
        </InfoArray>
        <InfoArray index="Research23" Time="190" Upgrade="AP_TerranVehicleArmorsVanadiumPlatingLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingVanadiumPlatingLevel2" State="Restricted" Requirements="AP_LearnTerranVehicleArmorVanadiumPlating2"/>
        </InfoArray>
        <InfoArray index="Research24" Time="220" Upgrade="AP_TerranVehicleArmorsVanadiumPlatingLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingVanadiumPlatingLevel3" State="Restricted" Requirements="AP_LearnTerranVehicleArmorVanadiumPlating3"/>
        </InfoArray>
        <InfoArray index="Research25" Time="160" Upgrade="AP_TerranShipArmorsVanadiumPlatingLevel1">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingVanadiumPlatingLevel1" State="Restricted" Requirements="AP_LearnTerranShipArmorVanadiumPlating1"/>
        </InfoArray>
        <InfoArray index="Research26" Time="190" Upgrade="AP_TerranShipArmorsVanadiumPlatingLevel2">
            <Resource index="Minerals" value="225"/>
            <Resource index="Vespene" value="225"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingVanadiumPlatingLevel2" State="Restricted" Requirements="AP_LearnTerranShipArmorVanadiumPlating2"/>
        </InfoArray>
        <InfoArray index="Research27" Time="220" Upgrade="AP_TerranShipArmorsVanadiumPlatingLevel3">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingVanadiumPlatingLevel3" State="Restricted" Requirements="AP_LearnTerranShipArmorVanadiumPlating3"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilResearch id="AP_ArmoryResearch2">
        <InfoArray index="Research1" Time="250" Upgrade="AP_TerranVehicleArmorsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingLevel4" State="Restricted" Requirements="AP_LearnTerranVehicleArmor4"/>
        </InfoArray>
        <InfoArray index="Research2" Time="280" Upgrade="AP_TerranVehicleArmorsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingLevel5" State="Restricted" Requirements="AP_LearnTerranVehicleArmor5"/>
        </InfoArray>
        <InfoArray index="Research3" Time="250" Upgrade="AP_TerranVehicleWeaponsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsLevel4" State="Restricted" Requirements="AP_LearnTerranVehicleWeapon4"/>
        </InfoArray>
        <InfoArray index="Research4" Time="280" Upgrade="AP_TerranVehicleWeaponsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsLevel5" State="Restricted" Requirements="AP_LearnTerranVehicleWeapon5"/>
        </InfoArray>
        <InfoArray index="Research5" Time="250" Upgrade="AP_TerranVehicleArmorsVanadiumPlatingLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingVanadiumPlatingLevel4" State="Restricted" Requirements="AP_LearnTerranVehicleArmorVanadiumPlating4"/>
        </InfoArray>
        <InfoArray index="Research6" Time="280" Upgrade="AP_TerranVehicleArmorsVanadiumPlatingLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranVehiclePlatingVanadiumPlatingLevel5" State="Restricted" Requirements="AP_LearnTerranVehicleArmorVanadiumPlating5"/>
        </InfoArray>
        <InfoArray index="Research7" Time="250" Upgrade="AP_TerranVehicleWeaponsUltraCapacitorsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsUltraCapacitorsLevel4" State="Restricted" Requirements="AP_LearnTerranVehicleWeaponUltraCapacitors4"/>
        </InfoArray>
        <InfoArray index="Research8" Time="280" Upgrade="AP_TerranVehicleWeaponsUltraCapacitorsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranVehicleWeaponsUltraCapacitorsLevel5" State="Restricted" Requirements="AP_LearnTerranVehicleWeaponUltraCapacitors5"/>
        </InfoArray>
        <InfoArray index="Research9" Time="250" Upgrade="AP_TerranShipArmorsLevel4">
            <Resource index="Minerals" value="375"/>
            <Resource index="Vespene" value="375"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingLevel4" State="Restricted" Requirements="AP_LearnTerranShipArmor4"/>
        </InfoArray>
        <InfoArray index="Research10" Time="280" Upgrade="AP_TerranShipArmorsLevel5">
            <Resource index="Minerals" value="450"/>
            <Resource index="Vespene" value="450"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingLevel5" State="Restricted" Requirements="AP_LearnTerranShipArmor5"/>
        </InfoArray>
        <InfoArray index="Research11" Time="250" Upgrade="AP_TerranShipWeaponsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsLevel4" State="Restricted" Requirements="AP_LearnTerranShipWeapon4"/>
        </InfoArray>
        <InfoArray index="Research12" Time="280" Upgrade="AP_TerranShipWeaponsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsLevel5" State="Restricted" Requirements="AP_LearnTerranShipWeapon5"/>
        </InfoArray>
        <InfoArray index="Research13" Time="250" Upgrade="AP_TerranShipArmorsVanadiumPlatingLevel4">
            <Resource index="Minerals" value="375"/>
            <Resource index="Vespene" value="375"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingVanadiumPlatingLevel4" State="Restricted" Requirements="AP_LearnTerranShipArmorVanadiumPlating4"/>
        </InfoArray>
        <InfoArray index="Research14" Time="250" Upgrade="AP_TerranShipArmorsVanadiumPlatingLevel5">
            <Resource index="Minerals" value="450"/>
            <Resource index="Vespene" value="450"/>
            <Button DefaultButtonFace="AP_TerranShipPlatingVanadiumPlatingLevel5" State="Restricted" Requirements="AP_LearnTerranShipArmorVanadiumPlating5"/>
        </InfoArray>
        <InfoArray index="Research15" Time="250" Upgrade="AP_TerranShipWeaponsUltraCapacitorsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsUltraCapacitorsLevel4" State="Restricted" Requirements="AP_LearnTerranShipWeaponUltraCapacitors4"/>
        </InfoArray>
        <InfoArray index="Research16" Time="250" Upgrade="AP_TerranShipWeaponsUltraCapacitorsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_TerranShipWeaponsUltraCapacitorsLevel5" State="Restricted" Requirements="AP_LearnTerranShipWeaponUltraCapacitors5"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilArmMagazine id="AP_ArmSiloWithNuke">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Launch value="ReleaseAtSource"/>
        <Flags index="BestUnit" value="1"/>
        <InfoArray index="Ammo1" Time="60" Unit="AP_Nuke">
            <Button DefaultButtonFace="NukeArm" Requirements="AP_TrainNuke"/>
        </InfoArray>
        <CalldownEffect value="AP_Nuke"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_ArmSiloWithNukeMengsk">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Launch value="ReleaseAtSource"/>
        <Flags index="BestUnit" value="1"/>
        <InfoArray index="Ammo1" Time="0" Unit="AP_NukeMengsk">
            <Charge Link="Abil/AP_ArmSiloWithNukeMengsk"/>
            <Cooldown Link="Abil/AP_ArmSiloWithNukeMengsk">
                <TimeStart value="0"/>
                <TimeUse value="90"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_NukeMengskArm" Requirements="AP_TrainNukeMengsk"/>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <CalldownEffect value="AP_GhostMengskNukeCalldown"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_ArmSiloWithNukeMengskCountDisplay">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Launch value="ReleaseAtSource"/>
        <Flags index="BestUnit" value="1"/>
        <InfoArray index="Ammo1" Time="90" Unit="AP_NukeMengsk">
            <Charge Link="Abil/AP_ArmSiloWithNukeMengsk"/>
            <Cooldown Link="Abil/AP_ArmSiloWithNukeMengsk"/>
            <Button DefaultButtonFace="AP_NukeMengskArm" Requirements="AP_NukeSiloOccupiedMengsk"/>
<!--            <Flags index="AutoBuild" value="1"/>-->
<!--            <Flags index="AutoBuildOn" value="1"/>-->
        </InfoArray>
        <CalldownEffect value="AP_GhostMengskNukeCalldown"/>
    </CAbilArmMagazine>
    <CAbilMerge id="AP_ArchonWarp">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AWrp" State="Restricted">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="ArchonWarpTarget" State="Restricted"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Info Unit="AP_Archon" Time="12"/>
    </CAbilMerge>
    <CAbilMerge id="AP_ArchonAdvancedMerge">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AWrp" State="Restricted">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="ArchonWarpTarget" State="Restricted"/>
        <!-- This unit is commented out in Void and looks like a stub in coop -->
        <Info Unit="AP_ArchonAdvanced" Time="3">
            <Resource index="Minerals" value="-175"/>
            <Resource index="Vespene" value="-275"/>
        </Info>
    </CAbilMerge>
    <CAbilEffectTarget id="AP_AscendantSacrifice">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="10"/>
        </Cost>
        <TargetFilters value="-;Self,Enemy,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AscendantSacrifice"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ArbiterMPRecall">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ArbiterMPRecallSearch"/>
        <Cost>
            <Vital index="Energy" value="150"/>
            <Charge Link=""/>
            <Cooldown Link=""/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_ArbiterMPRecallSearch"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArbiterMPRecall"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ArbiterMPStasisField">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ArbiterMPStasisFieldSearch"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="150"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_ArbiterMPStasisFieldSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArbiterMPStasisField"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ArbiterMPEternalStasisField">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ArbiterMPEternalStasisFieldSearch"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="150"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_ArbiterMPEternalStasisFieldSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArbiterEternalStasisField" Requirements="AP_HaveArbiterSustainingStasisField"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_AdeptPhaseShift">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_AdeptPhaseShiftInitialSet"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Cooldown TimeUse="16"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AdeptPhaseShift">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_AdeptPhaseShiftCancel">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_AdeptPhaseShiftCancelAB"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Cancel" Requirements="AP_AdeptPhaseShifting"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_AdeptShadePhaseShiftCancel">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Cancel"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_AssimilatorPipesMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_Assimilator" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_AssimilatorToAutomatedAssimilator">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_AutomatedAssimilator" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_AssimilatorToAutomatedAssimilatorRich">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_AutomatedAssimilatorRich" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ExtractorToAutomatedExtractor">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_AutomatedExtractor" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ExtractorToAutomatedExtractorRich">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_AutomatedExtractorRich" CollideRange="0"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_Apocalypse">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ApocalypseInitialSet"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown>
                <Link value="ApocalypseAP_Apocalypse"/>
                <Location value="Unit"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
        </Cost>
        <Range value="12"/>
        <PrepTime value="3"/>
        <ShowProgressArray index="Prep" value="1"/>
        <CursorEffect value="AP_Apocalypse"/>
        <ProgressButtonArray index="Prep" value="AP_Apocalypse"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Apocalypse" Requirements="AP_HaveK5Apocalypse"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilMorph id="BarracksReactorMorph">
        <!-- Override -->
        <!-- Exclude AP_Barracks from all Barracks-like so for AP_Barracks AP_BarracksReactorMorph is called instead -->
        <CmdButtonArray index="Execute" Requirements="AP_ShowIfHaveVanillaBarrAddOnParent"/>
    </CAbilMorph>
    <CAbilBuild id="AP_FactoryAddOns" parent="TerranAddOns">
        <Name value="Abil/Name/AP_FactoryAddOns"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <BuildMorphAbil value="AP_FactoryLiftOff"/>
        <InfoArray index="Build1" Unit="AP_FactoryTechLab" Time="25">
            <Button DefaultButtonFace="BuildTechLabFactory" State="Restricted" Requirements="AP_UseTechReactorHide"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_FactoryReactor" Time="50">
            <Button Requirements="AP_UseTechReactorHide"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_FactoryTechReactor" Time="25" AddOnParentCmdPriority="-1">
            <Button DefaultButtonFace="AP_TechReactor" Requirements="AP_UseTechReactor"/>
        </InfoArray>
    </CAbilBuild>
    <CAbilBuild id="AP_StarportAddOns" parent="TerranAddOns">
        <Name value="Abil/Name/AP_StarportAddOns"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <BuildMorphAbil value="AP_StarportLiftOff"/>
        <InfoArray index="Build1" Unit="AP_StarportTechLab" Time="25">
            <Button DefaultButtonFace="BuildTechLabStarport" State="Restricted" Requirements="AP_UseTechReactorHide"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_StarportReactor" Time="50">
            <Button Requirements="AP_UseTechReactorHide"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_StarportTechReactor" Time="25" AddOnParentCmdPriority="-1">
            <Button DefaultButtonFace="AP_TechReactor" Requirements="AP_UseTechReactor"/>
        </InfoArray>
    </CAbilBuild>
    <CAbilMorphPlacement id="AP_FactoryLand" parent="TerranBuildingLand" unit="AP_Factory">
        <Name value="Abil/Name/AP_FactoryLand"/>
        <InfoArray index="0" Unit="AP_Factory" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_FactoryLiftOff" parent="TerranBuildingLiftOff" unit="AP_FactoryFlying">
        <Name value="Abil/Name/AP_FactoryLiftOff"/>
    </CAbilMorph>
    <CAbilMorphPlacement id="AP_FactoryMengskLand" parent="TerranBuildingLand" unit="AP_FactoryMengsk">
        <Name value="Abil/Name/AP_FactoryMengskLand"/>
        <InfoArray index="0" Unit="AP_FactoryMengsk" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_FactoryMengskLiftOff" parent="TerranBuildingLiftOff" unit="AP_FactoryMengskFlying">
        <Name value="Abil/Name/AP_FactoryLiftOff"/>
    </CAbilMorph>
    <CAbilTrain id="AP_CommandCenterTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <InfoArray index="Train1" Time="17">
            <Button DefaultButtonFace="AP_SCV" State="Restricted">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Unit value="AP_SCV"/>
        </InfoArray>
        <Alert value="TrainWorkerComplete"/>
    </CAbilTrain>
    <CAbilTransport id="AP_CommandCenterTransport">
        <AbilSetId value="ULdS"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Load">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAll" DefaultButtonFace="AP_CommandCenterUnloadAll">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll" DefaultButtonFace="AP_CommandCenterLoad"/>
        <Flags index="AllowPassengerSmartCmd" value="0"/>
        <Flags index="AllowSmartCmd" value="0"/>
        <MaxCargoCount value="5"/>
        <MaxCargoSize value="1"/>
        <TotalCargoSpace value="5"/>
        <LoadCargoBehavior value="AP_CCTransportDummy"/>
        <LoadCargoEffect value="AP_CCLoadDummy"/>
        <UnloadCargoEffect value="AP_CCUnloadDummy"/>
        <SearchRadius value="8"/>
        <LoadValidatorArray value="AP_CommandCenterTransportCombine"/>
        <DeathUnloadEffect value="AP_RemoveCommandCenterCargo"/>
    </CAbilTransport>
    <CAbilEffectTarget id="AP_CalldownMULE">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_CalldownMULECreateUnit"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="CalldownMULE" Requirements="AP_HaveOrbitalRelayMULE"/>
    </CAbilEffectTarget>
    <CAbilMorphPlacement id="AP_CommandCenterLand" parent="TerranBuildingLand" unit="AP_CommandCenter">
        <Name value="Abil/Name/AP_CommandCenterLand"/>
        <InfoArray index="0" Unit="AP_CommandCenter" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_CommandCenterLiftOff" parent="TerranBuildingLiftOff" unit="AP_CommandCenterFlying">
        <Name value="Abil/Name/AP_CommandCenterLiftOff"/>
    </CAbilMorph>
    <CAbilMorphPlacement id="AP_PlanetaryFortressLand" parent="TerranBuildingLand" unit="AP_PlanetaryFortress">
        <Name value="Abil/Name/AP_PlanetaryFortressLand"/>
        <InfoArray index="0" Unit="AP_PlanetaryFortress" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_PlanetaryFortressLiftOff" parent="TerranBuildingLiftOff" unit="AP_PlanetaryFortressFlying">
        <Name value="Abil/Name/AP_PlanetaryFortressLiftOff"/>
        <CmdButtonArray index="Execute" Requirements="AP_HavePlanetaryFortressLiftOff"/>
    </CAbilMorph>
    <CAbilAugment id="AP_Charge">
        <Alignment value="Negative"/>
        <AbilSetId value="AP_Charge"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Charge">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown Link="Charge" Location="Unit" TimeUse="10"/>
        </Cost>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
    </CAbilAugment>
    <CAbilAugment id="AP_ChargePredator">
        <Alignment value="Negative"/>
        <Effect value="AP_PredatorChargeSet"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ChargePredator" Requirements="AP_HavePredatorCharge"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown Link="Charge" Location="Unit" TimeUse="10"/>
        </Cost>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
    </CAbilAugment>
    <CAbilMorph id="AP_BurrowRoachDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_RoachBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowRoachUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Roach" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowRavagerDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_RavagerBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowRavagerUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Ravager" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowInfestedAbominationDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestedAbominationBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowInfestedAbominationUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestedAbomination" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.0556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowUltraliskDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_UltraliskBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.8332"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowUltraliskUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Ultralisk" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPygaliskDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PygaliskBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPygaliskUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Pygalisk" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_BurrowChargeRevD">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BurrowChargeInitialRevD"/>
        <Flags index="RangeUsePathing" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="AP_BurrowChargeRevD" Location="Unit" TimeUse="30"/>
        </Cost>
        <Range value="9"/>
        <Arc value="360"/>
        <CastIntroTime value="0.5"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_BurrowChargeTargetSearchRevD"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BurrowCharge" Requirements="AP_HaveBurrowCharge"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowImpaler">
        <AbilSetId value="BrwDb"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ImpalerBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.8332"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.8332"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowLurkerDown">
        <AbilSetId value="BrwDb"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_LurkerBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.8332"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.8332"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowLurkerUp">
        <AbilSetId value="BrwUb"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Lurker" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowHydraliskDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_HydraliskBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.166"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowHydraliskUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Hydralisk" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="5"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowHunterKillerDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_HunterKillerBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.166"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowHunterKillerUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_HunterKiller" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="5"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_BuildRailGunTurret">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="21"/>
        <Effect index="0" value="AP_RailGunTurretRelease"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="Raven Build Link" Location="Unit"/>
        </Cost>
        <Placeholder value="AP_RailGunTurret"/>
        <Range value="3"/>
        <Marker Link="Abil/AutoTurret"/>
        <ErrorAlert value="Error"/>
        <ProducedUnitArray value="AP_RailGunTurret"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BuildRailGunTurret" Requirements="AP_MagrailMunitionsRaven"/>
        <PlaceUnit value="AP_RailGunTurret"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowInfestorDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_InfestorBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowInfestorUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Infestor" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="5"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilArmMagazine id="AP_CarrierAiurHanger">
        <AbilSetId value="CarrierAiurHanger"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="10" CountStart="4" Manage="Recall" Unit="AP_Interceptor">
            <Charge Link="CarrierInterceptor" Location="Unit"/>
            <Button DefaultButtonFace="Interceptor" Requirements="AP_ArmInterceptor">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="8"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_CarrierTaldarimHanger">
        <AbilSetId value="CarrierAiurHanger"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="10" CountStart="4" Manage="Recall" Unit="AP_InterceptorTaldarim">
            <Charge Link="CarrierInterceptor" Location="Unit"/>
            <Button DefaultButtonFace="AP_InterceptorTaldarim" Requirements="AP_ArmInterceptorTaldarim">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="8"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_CarrierPurifierHangar">
        <AbilSetId value="CarrierAiurHanger"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="15" CountStart="3" Manage="Recall" Unit="AP_CarrierPurifierBomber">
            <Charge Link="CarrierBomber" Location="Unit"/>
            <Cooldown Link="Abil/AP_CarrierPurifierHangar"/>
            <Button DefaultButtonFace="AP_InterceptorPurifier">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="LeashRetarget" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="6"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_CarrierHangar">
        <AbilSetId value="CarrierHanger"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="10" CountStart="4" Manage="Recall" Unit="AP_Interceptor">
            <Charge Link="CarrierInterceptor" Location="Unit"/>
            <Cooldown Link="CarrierTrainInterceptor" TimeUse="0.01"/>
            <Button DefaultButtonFace="Interceptor" Requirements="AP_ArmInterceptor">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="LeashRetarget" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="8"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_MothershipAiurHangar">
        <AbilSetId value="MothershipHangar"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="8" CountStart="0" Manage="Recall" Unit="AP_Interceptor">
            <Charge Link="CarrierInterceptor" Location="Unit"/>
            <Cooldown Link="CarrierTrainInterceptor" TimeUse="0.01"/>
            <Button DefaultButtonFace="Interceptor" Requirements="AP_HaveMothershipHangarAiurInstalled">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="LeashRetarget" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="0"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_MothershipPurifierHangar">
        <AbilSetId value="MothershipHangar"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="12" CountStart="0" Manage="Recall" Unit="AP_CarrierPurifierBomber">
            <Charge Link="CarrierBomber" Location="Unit"/>
            <Cooldown Link="Abil/AP_CarrierPurifierHangar"/>
            <Button DefaultButtonFace="AP_InterceptorPurifier" Requirements="AP_HaveMothershipHangarPurifierInstalled">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="LeashRetarget" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="0"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_MothershipTaldarimHangar">
        <AbilSetId value="MothershipHangar"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="8" CountStart="0" Manage="Recall" Unit="AP_InterceptorTaldarim">
            <Charge Link="CarrierInterceptor" Location="Unit"/>
            <Cooldown Link="CarrierTrainInterceptor" TimeUse="0.01"/>
            <Button DefaultButtonFace="Interceptor" Requirements="AP_HaveMothershipHangarTaldarimInstalled">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="LeashRetarget" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <MaxCount value="0"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_CarrierRepairDroneHanger">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Launch value="ReleaseAtSource"/>
        <Flags index="AutoCreate" value="1"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="4"/>
        <InfoArray index="Ammo1" Time="0.1" CountStart="0" Manage="Recall" Unit="AP_CarrierRepairDrone">
            <Charge HideCount="1" Link="CarrierRepairDrone" Location="Unit"/>
            <Button DefaultButtonFace="AP_RepairDrones" Requirements="AP_HaveCarrierAiurRepairDrones">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="External" value="1"/>
        </InfoArray>
        <EffectArray index="Create" value="AP_CarrierRepairDroneRecall"/>
        <ExternalAngle value="-135"/>
        <ExternalAngle value="135"/>
        <MaxCount value="0"/>
    </CAbilArmMagazine>
    <CAbilEffectTarget id="AP_CarrierHyperjump">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <!--<Effect index="0" value="AP_HyperjumpCreatePrecursor"/>-->
        <Effect index="0" value="AP_SkylordJumpSet"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown TimeUse="12"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_CarrierHyperjump" Requirements="AP_HaveSkylordHyperjump"/>
        <!--CmdButtonArray index="Execute" DefaultButtonFace="CarrierHyperjump" Requirements="HaveVoidCarrierHyperjump"/-->
        <PrepTime value="0.125"/>
        <UninterruptibleArray index="Prep" value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_CarrierRepairDroneHeal">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_CarrierRepairDroneHealSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <TargetFilters value="Mechanical,Visible;Self,Neutral,Enemy,Missile,Uncommandable,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Mechanical,Visible;Self,Neutral,Enemy,Missile,Dead,Hidden,Invulnerable"/>
        <AutoCastRange value="8"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <AutoCastValidatorArray value="AP_CarrierRepairDroneHealNotCasting"/>
        <AutoCastValidatorArray value="AP_CarrierRepairDroneHealTargetNotBeingHealed"/>
        <AutoCastValidatorArray value="AP_CasterIsNotMovingOrStopped"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="CarrierRepairDroneHeal"/>
        <AcquireAttackers value="1"/>
        <RangeSlop value="2"/>
    </CAbilEffectTarget>
    <CAbilArmMagazine id="AP_BroodLordHangar">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="AutoCastOffOwnerLeave" value="0"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="12"/>
        <InfoArray index="Ammo1" Time="2.5" CountStart="2" Manage="Recall" Unit="AP_BroodlingEscort">
            <Button DefaultButtonFace="Broodling" Requirements="AP_ArmBroodlingEscort"/>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
            <Flags index="External" value="1"/>
        </InfoArray>
        <Alert value=""/>
        <EffectArray index="Death" value="InterceptorFate"/>
        <EffectArray index="Release" value="AP_KillsToCaster"/>
        <ExternalAngle value="-149.9853"/>
        <ExternalAngle value="149.9853"/>
    </CAbilArmMagazine>
    <CAbilQueue id="AP_BroodLordQueue2">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <QueueSize value="2"/>
        <Flags index="Hidden" value="1"/>
        <Flags index="Passive" value="1"/>
    </CAbilQueue>
    <CAbilEffectTarget id="AP_DisablingCloud">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_DisablingCloudSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DisablingCloud"/>
    </CAbilEffectTarget>
    <CAbilMerge id="AP_DarkArchonMerge">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AP_DarkArchonMeld" Requirements="AP_HaveDarkArchonMeld">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="AP_DarkArchonMergeTarget" Requirements="AP_HaveDarkArchonMeld"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Info Unit="AP_DarkArchon" Time="12"/>
    </CAbilMerge>
    <CAbilEffectTarget id="AP_DarkTemplarShadowFury">
        <AbilSetId value="AP_DarkTemplarShadowFury"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_DarkTemplarShadowFuryPersistent"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Cost>
            <Cooldown TimeUse="15"/>
        </Cost>
        <TargetFilters value="Ground;Self,Player,Ally,Neutral,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="5"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure"/>
        <AutoCastRange value="4"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
        <AutoCastValidatorArray value="AP_ShadowFuryAutoCast"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
        <UninterruptibleArray index="Wait" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <UninterruptibleArray index="Bail" value="1"/>
        <CursorEffect value="AP_DarkTemplarShadowFurySearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidDarkTemplarShadowFury" Requirements="AP_HaveDarkTemplarShadowFury">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PredatorFury">
        <AbilSetId value="AP_DarkTemplarShadowFury"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_PredatorShadowFuryPersistent"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Cost>
            <Cooldown TimeUse="15"/>
        </Cost>
        <TargetFilters value="Ground;Self,Player,Ally,Neutral,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="5"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure"/>
        <AutoCastRange value="4"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
        <AutoCastValidatorArray value="AP_ShadowFuryAutoCast"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
        <UninterruptibleArray index="Wait" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <UninterruptibleArray index="Bail" value="1"/>
        <CursorEffect value="AP_DarkTemplarShadowFurySearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidDarkTemplarShadowFury" Requirements="AP_HavePredatorFury">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DarkTemplarVoidStasis">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DarkTemplarVoidStasisSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown TimeUse="15"/>
        </Cost>
        <TargetFilters value="Ground;Player,Ally,Heroic,Missile,Stasis,UnderConstruction,Hidden,Invulnerable"/>
        <Range value="6"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="AP_DarkTemplarVoidStasis"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidStasis"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DarkTemplarBlink">
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Range value="500"/>
        <!--Blink like Zeratul, Instead of Stalker-->
        <!--Arc value="360"/-->
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DarkTemplarBlink" Requirements="AP_UseDarkTemplarBlink">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DarkShrineAssignRally">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Range value="500"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DarkShrineAssignRally"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_Blink">
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="AP_BlinkBlink" TimeUse="8"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Blink" State="Restricted" Requirements="AP_NotHaveStalkerPhaseReactor">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SiegeTankMengskBlink">
        <AbilSetId value="Blnk"/>
        <Effect index="0" value="AP_Blink"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="AP_BlinkBlink" TimeUse="8"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankMengskBlink" State="Restricted" Requirements="AP_HaveHoverSiegeTank">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GoliathMengskBlink">
        <AbilSetId value="Blnk"/>
        <Effect index="0" value="AP_Blink"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="AP_BlinkBlink" TimeUse="8"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankMengskBlink" State="Restricted" Requirements="AP_HaveGoliathJumpJets">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BlinkMultiple">
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_VoidStalkerBlinkMultiple"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <TimeStart value="4"/>
                <TimeUse value="4"/>
            </Charge>
            <Cooldown Link="Blink"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StalkerBlinkMultiple">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BlinkShieldRestore">
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_VoidStalkerBlinkShieldRestore"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="Blink" TimeUse="8"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StalkerBlinkShieldRestoreBase" Requirements="AP_ShowStalkerPhaseReactor">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DisruptorBlink">
        <AbilSetId value="DisruptorBlnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DisruptorBlink"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge TimeStart="8" TimeUse="8"/>
            <Cooldown Link="Blink" TimeUse="8"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StalkerBlinkMultiple" Requirements="AP_UseRestructThrust">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BlinkDummy">
        <!-- Dummy Ability for CActorRange -->
        <!-- See Effect AP_Blink -->
        <Range value="8"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowBanelingDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_BanelingBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowBanelingUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Baneling" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="1"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowHotSSplitterlingMediumDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_HotSSplitterlingMediumBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowHotSSplitterlingMediumUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_HotSSplitterlingMedium" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="1"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_Explode">
        <AbilSetId value="Explode"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HotSBanelingDeathExplodeLargeSet"/>
        <Cost>
            <Cooldown TimeUse="0.5"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="Explode"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ExplodeHeal">
        <AbilSetId value="Explode"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HotSBanelingDeathExplodeLargeSet"/>
        <Cost>
            <Cooldown Link="Abil/AP_Explode" TimeUse="0.5"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="Explode" Requirements="AP_HaveHotSBanelingHeal"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ExplodeHealSmall">
        <AbilSetId value="Explode"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HotSBanelingDeathExplodeSmallSet"/>
        <Cost>
            <Cooldown Link="Abil/AP_ExplodeSmall" TimeUse="0.5"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="Explode" Requirements="AP_HaveHotSBanelingHeal"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ExplodeSmall">
        <AbilSetId value="Explode"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HotSBanelingDeathExplodeSmallSet"/>
        <Cost>
            <Cooldown TimeUse="0.5"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="Explode"/>
    </CAbilEffectInstant>
    <CAbilResearch id="AP_CyberneticsCoreResearch">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <InfoArray index="Research1" Time="160" Upgrade="AP_ProtossAirWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_ProtossAirWeaponsLevel1" State="Restricted" Requirements="AP_LearnProtossAirWeapon1"/>
        </InfoArray>
        <InfoArray index="Research2" Time="190" Upgrade="AP_ProtossAirWeaponsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="AP_ProtossAirWeaponsLevel2" State="Restricted" Requirements="AP_LearnProtossAirWeapon2"/>
        </InfoArray>
        <InfoArray index="Research3" Time="220" Upgrade="AP_ProtossAirWeaponsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_ProtossAirWeaponsLevel3" State="Restricted" Requirements="AP_LearnProtossAirWeapon3"/>
        </InfoArray>
        <InfoArray index="Research4" Time="160" Upgrade="AP_ProtossAirArmorsLevel1">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="AP_ProtossAirArmorLevel1" State="Restricted" Requirements="AP_LearnProtossAirArmor1"/>
        </InfoArray>
        <InfoArray index="Research5" Time="190" Upgrade="AP_ProtossAirArmorsLevel2">
            <Resource index="Minerals" value="225"/>
            <Resource index="Vespene" value="225"/>
            <Button DefaultButtonFace="AP_ProtossAirArmorLevel2" State="Restricted" Requirements="AP_LearnProtossAirArmor2"/>
        </InfoArray>
        <InfoArray index="Research6" Time="220" Upgrade="AP_ProtossAirArmorsLevel3">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="AP_ProtossAirArmorLevel3" State="Restricted" Requirements="AP_LearnProtossAirArmor3"/>
        </InfoArray>
        <InfoArray index="Research7" Time="250" Upgrade="AP_ProtossAirWeaponsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_ProtossAirWeaponsLevel4" State="Restricted" Requirements="AP_LearnProtossAirWeapon4"/>
        </InfoArray>
        <InfoArray index="Research8" Time="280" Upgrade="AP_ProtossAirWeaponsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_ProtossAirWeaponsLevel5" State="Restricted" Requirements="AP_LearnProtossAirWeapon5"/>
        </InfoArray>
        <InfoArray index="Research9" Time="250" Upgrade="AP_ProtossAirArmorsLevel4">
            <Resource index="Minerals" value="375"/>
            <Resource index="Vespene" value="375"/>
            <Button DefaultButtonFace="AP_ProtossAirArmorLevel4" State="Restricted" Requirements="AP_LearnProtossAirArmor4"/>
        </InfoArray>
        <InfoArray index="Research10" Time="280" Upgrade="AP_ProtossAirArmorsLevel5">
            <Resource index="Minerals" value="450"/>
            <Resource index="Vespene" value="450"/>
            <Button DefaultButtonFace="AP_ProtossAirArmorLevel5" State="Restricted" Requirements="AP_LearnProtossAirArmor5"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilRally id="AP_DarkShrineRally">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <InfoArray SetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
        <InfoArray SetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
        <InfoArray SetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
    </CAbilRally>
    <CAbilWarpTrain id="AP_ChampionWarpTrain">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <!--        <InfoArray index="Train1" Time="5" Unit="FenixChampion">-->
        <!--            <Cooldown Link="Abil/AP_ChampionWarpTrain1" Location="Player" TimeUse="60"/>-->
        <!--            <Button DefaultButtonFace="WarpInFenixChampion" State="Restricted" Requirements="FenixChampionNotActive"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train2" Time="5" Unit="VorazunChampion">-->
        <!--            <Cooldown Location="Player" TimeUse="60"/>-->
        <!--            <Button DefaultButtonFace="WarpInDarkTemplarChampion" State="Restricted" Requirements="VorazunChampionNotActive"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train4" Time="5" Unit="AlarakChampion">-->
        <!--            <Cooldown Link="Abil/AP_ChampionWarpTrain4" Location="Player" TimeUse="60"/>-->
        <!--            <Button DefaultButtonFace="WarpInDarkArchonChampion" State="Restricted" Requirements="AlarakChampionNotActive"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train6" Time="5" Unit="KaraxChampion">-->
        <!--            <Cooldown Link="Abil/AP_ChampionWarpTrain6" Location="Player" TimeUse="60"/>-->
        <!--            <Button DefaultButtonFace="WarpInVulcanChampion" State="Restricted" Requirements="KaraxChampionNotActive"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train7" Time="5" Unit="ArtanisVoid">-->
        <!--            <Cooldown Link="Abil/AP_ChampionWarpTrain7" Location="Player" TimeUse="60"/>-->
        <!--            <Button DefaultButtonFace="WarpInArtanisChampion" State="Restricted" Requirements="ArtanisChampionNotActive"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train8" Time="5" Unit="ZeratulVoidAiur01">-->
        <!--            <Cooldown Link="Abil/AP_ChampionWarpTrain8" Location="Player" TimeUse="60"/>-->
        <!--            <Button DefaultButtonFace="WarpInZeratulChampion" State="Restricted" Requirements="ZeratulChampionEnabledAndNotActive"/>-->
        <!--        </InfoArray>-->
        <Flags index="WarpTrainersButton" value="0"/>
    </CAbilWarpTrain>
    <CAbilEffectTarget id="AP_CorsairMPDisruptionWeb">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_CorsairMPDisruptionWebCreatePersistentSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <Range value="9"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_IsNotDisruptionWebbed"/>
        <AutoCastValidatorArray value="TargetIsGround"/>
        <AutoCastValidatorArray value="TargetCanAttack"/>
        <AutoCastValidatorArray value="AP_DisruptionWebFilters"/>
        <CursorEffect value="AP_CorsairMPDisruptionWebSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_CorsairMPDisruptionWeb" Requirements="AP_NotHaveCorsairArgusJewel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_CorsairMPDisruptionWebArgusJewel">
        <AbilSetId value="AP_CorsairMPDisruptionWeb"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_CorsairMPDisruptionWebCreatePersistentSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <TimeUse value="30"/>
            </Charge>
        </Cost>
        <Range value="9"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_IsNotDisruptionWebbed"/>
        <AutoCastValidatorArray value="TargetIsGround"/>
        <AutoCastValidatorArray value="TargetCanAttack"/>
        <AutoCastValidatorArray value="AP_DisruptionWebFilters"/>
        <CursorEffect value="AP_CorsairMPDisruptionWebSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_CorsairMPDisruptionWeb" Requirements="AP_HaveCorsairArgusJewel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DarkArchonConfusion">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DarkArchonConfusionSearch"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="2"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_DarkArchonConfusionSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="DarkArchonConfusion"/>
    </CAbilEffectTarget>
    <CAbilMergeable id="AP_DarkArchonMergeable">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Cancelable value="0"/>
    </CAbilMergeable>
    <CAbilEffectTarget id="AP_DarkArchonMindControl">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DarkArchonMindControlSet"/>
        <Flags index="AbortOnAllianceChange" value="0"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown TimeUse="10"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Robotic,Structure,Heroic,Missile,Stasis,Dead,Invulnerable"/>
        <Range value="7"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DarkArchonMindControl"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BlinkSlayer">
        <Name value="Abil/Name/Blink"/>
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <DataCollection value="Blink"/>
        <Effect index="0" value="AP_PhaseBlinkSet"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/Blink"/>
            <Cooldown Link="Blink" TimeUse="8"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/Blink"/>
            <Cooldown Link="Abil/Blink"/>
        </InterruptCost>
        <Range value="500"/>
        <Arc value="360"/>
        <Marker Link="Abil/Blink"/>
        <AINotifyEffect value="Blink"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Blink" Requirements="AP_HaveSlayerBlink">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowZerglingDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ZerglingBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowZerglingUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Zergling" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="1.0625"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ExtractorPipesToExtractor">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise"/>
        <InfoArray Unit="AP_Extractor" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowDroneDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_DroneBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.8332"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.1665"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilHarvest id="AP_DroneHarvest">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
    </CAbilHarvest>
    <CAbilMorph id="AP_BurrowCreepTumorDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Cost>
            <Cooldown Link="BurrowCreepTumorDownAP_BurrowCreepTumorDown" Location="Unit"/>
        </Cost>
        <InfoArray Unit="AP_CreepTumorBurrowed" RandomDelayMax="0.37">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_CreepTumorUsed">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="CreepTumor"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_CreepTumorUsed"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowQueenDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_QueenBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.8332"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.6665"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_QueenDeepTunnel">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Cooldown Location="Unit"/>
        </Cost>
        <TargetFilters value="Structure;Ally,Neutral,Enemy,Dead"/>
        <Range value="500"/>
        <CastIntroTime value="1"/>
        <FinishTime value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="DeepTunnel" Requirements="AP_HaveQueenDeepTunnel">
            <Flags index="ShowInGlossary" value="0"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowPrimalZerglingDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_PrimalZerglingBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalZerglingUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PrimalZergling" RandomDelayMax="0.1">
            <SectionArray index="Abils">
                <DurationArray index="Duration" value="1.0625"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalHydraliskDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_PrimalHydraliskBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.166"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalHydraliskUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PrimalHydralisk" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalRoachDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_PrimalRoachBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalRoachUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PrimalRoach" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalUltraliskDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_PrimalUltraliskBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.8332"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowPrimalUltraliskUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PrimalUltralisk" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowInfestorTerranDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestorTerranBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowInfestorTerranUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestorTerran" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="5"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="FactoryReactorMorph">
        <!-- Override -->
        <!-- Exclude AP_Barracks from all Factory-like so for AP_Barracks AP_FactoryReactorMorph is called instead -->
        <CmdButtonArray index="Execute" Requirements="AP_ShowIfHaveVanillaFactAddOnParent"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_MindControl">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Charge Link=""/>
            <Cooldown Link=""/>
        </Cost>
        <TargetFilters value="-;Self,Player,Ally,Neutral,Structure,Heroic,Worker,Missile,Stasis,UnderConstruction,Dead,Invulnerable"/>
        <Range value="11"/>
        <RangeSlop value="2"/>
        <Arc value="360"/>
        <SmartValidatorArray value="AP_UseHiveMindEmulatorAny"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MindControl"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_FactoryTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Activity value="UI/Building"/>
        <InfoArray index="Train2" Time="45">
            <Button DefaultButtonFace="AP_SiegeTank" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_SiegeTank"/>
        </InfoArray>
        <InfoArray index="Train5" Time="60">
            <Button DefaultButtonFace="AP_Thor" State="Restricted" Requirements="AP_HaveArmoryAndAttachedTechLabOrAttachedTechReactor"/>
            <Unit value="AP_Thor"/>
        </InfoArray>
        <InfoArray index="Train6" Time="30">
            <Button DefaultButtonFace="AP_Hellion" State="Restricted"/>
            <Unit value="AP_Hellion"/>
        </InfoArray>
        <InfoArray index="Train7" Time="40">
            <Button DefaultButtonFace="AP_Goliath" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Goliath"/>
        </InfoArray>
        <InfoArray index="Train8" Time="50">
            <Button DefaultButtonFace="AP_Diamondback" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Diamondback"/>
        </InfoArray>
        <InfoArray index="Train9" Time="25">
            <Button DefaultButtonFace="AP_Vulture" State="Restricted"/>
            <Unit value="AP_Vulture"/>
        </InfoArray>
        <InfoArray index="Train10" Time="40">
            <Button DefaultButtonFace="AP_Predator" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Predator"/>
        </InfoArray>
        <InfoArray index="Train11" Time="40">
            <Button DefaultButtonFace="AP_WidowMine" State="Restricted"/>
            <Unit value="AP_WidowMine"/>
        </InfoArray>
        <InfoArray index="Train12" Time="45">
            <Button DefaultButtonFace="AP_BuildCyclone" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Cyclone"/>
        </InfoArray>
        <InfoArray index="Train13" Time="45">
            <Button DefaultButtonFace="AP_WarHound" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_WarHound"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilMorphPlacement id="AP_StarportLand" parent="TerranBuildingLand" unit="AP_Starport">
        <Name value="Abil/Name/AP_StarportLand"/>
        <InfoArray index="0" Unit="AP_Starport" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_StarportLiftOff" parent="TerranBuildingLiftOff" unit="AP_StarportFlying">
        <Name value="Abil/Name/AP_StarportLiftOff"/>
    </CAbilMorph>
    <CAbilMorphPlacement id="AP_StarportMengskLand" parent="TerranBuildingLand" unit="AP_StarportMengsk">
        <Name value="Abil/Name/AP_StarportMengskLand"/>
        <InfoArray index="0" Unit="AP_StarportMengsk" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_StarportMengskLiftOff" parent="TerranBuildingLiftOff" unit="AP_StarportMengskFlying">
        <Name value="Abil/Name/AP_StarportMengskLiftOff"/>
    </CAbilMorph>
    <CAbilArmMagazine id="AP_HeroArmNuke">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Launch value="ReleaseAtSource"/>
        <InfoArray index="Ammo1" Time="0" Unit="AP_HeroNuke">
            <Button DefaultButtonFace="AP_NovaNukeArm" Requirements="AP_TrainNukeHero"/>
            <Charge Link="Abil/AP_HeroArmNuke"/>
            <Cooldown Link="Abil/AP_HeroArmNuke" Location="Unit">
                <TimeUse value="300"/>
                <TimeStart value="300"/>
            </Cooldown>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <CalldownEffect value="AP_HeroNukeCalldown"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_HeroArmNukeCountDisplay">
        <!-- Exist to freeze the cooldown -->
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Launch value="ReleaseAtSource"/>
        <InfoArray index="Ammo1" Time="300" Unit="AP_HeroNuke">
            <Button DefaultButtonFace="AP_NovaNukeArm" Requirements="AP_NukeSiloOccupied"/>
            <Charge Link="Abil/AP_HeroArmNukeCountDisplay"/>
            <Cooldown Link="Abil/AP_HeroArmNukeCountDisplay"/>
<!--            <Flags index="AutoBuild" value="1"/>-->
<!--            <Flags index="AutoBuildOn" value="1"/>-->
        </InfoArray>
        <CalldownEffect value="AP_HeroNukeCalldown"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="AP_SpectreNukeSiloArmMagazine">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Launch value="ReleaseAtSource"/>
        <InfoArray index="Ammo2" Time="60" Unit="AP_SpectreNuke">
            <Button DefaultButtonFace="AP_SpectreNukeArm" Requirements="AP_SpectreTrainNuke"/>
        </InfoArray>
        <CalldownEffect value="AP_SpectreNuke"/>
    </CAbilArmMagazine>
    <CAbilRally id="AP_RallyCommand">
        <OrderArray index="0">
            <DisplayType value="Rally"/>
            <Color value="255,245,140,70"/>
            <Model value="Assets\UI\Feedback\WayPointRally\WayPointRally.m3"/>
            <LineTexture value="Assets\Textures\WayPointLine.dds"/>
        </OrderArray>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
    </CAbilRally>
    <CAbilHarvest id="AP_MULEGather">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Gather" DefaultButtonFace="GatherMULE"/>
        <FlagArray index="BypassResourceQueue" value="1"/>
        <Range value="0.5"/>
        <ReservedMarker Link="Abil/MULEGather"/>
        <ResourceAllowed index="Vespene" value="0"/>
        <ResourceAllowed index="Terrazine" value="0"/>
        <ResourceAllowed index="Custom" value="0"/>
        <ResourceAmountMultiplier index="Minerals" value="6"/>
        <ResourceTimeMultiplier index="Minerals" value="2.05"/>
    </CAbilHarvest>
    <CAbilEffectTarget id="AP_MULERepair">
        <AbilSetId value="Repair"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_Repair"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOffOwnerLeave" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <TargetFilters value="Mechanical,Visible;Self,Enemy,Missile,UnderConstruction,Dead,Hidden"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="-;Neutral,Enemy"/>
        <AutoCastRange value="7"/>
        <AutoCastValidatorArray value="HackingTRace"/>
        <Marker Link="Abil/Repair">
            <MatchFlags index="Link" value="0"/>
            <MismatchFlags index="Id" value="0"/>
        </Marker>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <UseMarkerArray index="Cast" value="0"/>
        <UseMarkerArray index="Channel" value="0"/>
        <InheritAttackPriorityArray index="Prep" value="1"/>
        <InheritAttackPriorityArray index="Cast" value="1"/>
        <InheritAttackPriorityArray index="Channel" value="1"/>
        <AINotifyEffect value="Repair"/>
        <DefaultError value="RequiresRepairTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Repair">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorphPlacement id="AP_OrbitalCommandLand" parent="TerranBuildingLand" unit="AP_OrbitalCommand">
        <Name value="Abil/Name/AP_OrbitalCommandLand"/>
        <InfoArray index="0" Unit="AP_OrbitalCommand" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_OrbitalLiftOff" parent="TerranBuildingLiftOff" unit="AP_OrbitalCommandFlying">
        <Name value="Abil/Name/AP_OrbitalLiftOff"/>
    </CAbilMorph>
    <CAbilHarvest id="AP_SCVHarvest">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
    </CAbilHarvest>
    <CAbilEffectTarget id="AP_ScannerSweep">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_ScannerSweep"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Scan" Requirements="AP_HaveOrbitalRelayScannerSweep"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_Repair">
        <AbilSetId value="Repair"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOffOwnerLeave" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <TargetFilters value="Mechanical,Visible;Self,Enemy,Missile,UnderConstruction,Dead,Hidden"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy"/>
        <AutoCastRange value="7"/>
        <Marker>
            <MatchFlags index="Link" value="0"/>
            <MismatchFlags index="Id" value="0"/>
        </Marker>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <UseMarkerArray index="Cast" value="0"/>
        <UseMarkerArray index="Channel" value="0"/>
        <InheritAttackPriorityArray index="Prep" value="1"/>
        <InheritAttackPriorityArray index="Cast" value="1"/>
        <InheritAttackPriorityArray index="Channel" value="1"/>
        <DefaultError value="RequiresRepairTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Repair">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilAugment id="AP_ShadowCharge">
        <Alignment value="Negative"/>
        <AbilSetId value="AP_Charge"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidZealotShadowCharge">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown Link="Charge" Location="Unit" TimeUse="10"/>
        </Cost>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
    </CAbilAugment>
    <CAbilAugment id="AP_ShadowChargeStun">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidZealotShadowChargeStun"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Effect value="AP_VoidZealotShadowChargeSearch"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden,Invulnerable,Unstoppable"/>
        <AutoCastValidatorArray value="AP_TargetNotShadowStunnedAndNotShadowSlowed"/>
        <AutoCastValidatorArray value="AP_VoidZealotShadowStunRange"/>
        <AutoCastValidatorArray value="AP_VoidZealotNotShadowCharging"/>
    </CAbilAugment>
    <CAbilEffectInstant id="AP_PoisonNova">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="10"/>
        </Cost>
        <Arc value="360"/>
        <AutoCastRange value="2"/>
        <AutoCastValidatorArray value="AP_PoisonNovaEnemiesNearby"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PoisonNova" Requirements="AP_HaveHotSNoxious"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_HealingDroneHeal">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Visible;Self,Enemy,Structure,Missile,Uncommandable,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <Arc value="360"/>
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy,Missile,Stasis,Dead,Invulnerable"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BioMechanicalHeal"/>
        <AcquireAttackers value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PlaceHealingDrone">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="11"/>
        <Effect index="0" value="AP_HealingDroneReleaseCreateUnit"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="Raven Build Link" Location="Unit"/>
        </Cost>
        <Placeholder value="AP_HealingDrone"/>
        <Range value="3"/>
        <ProducedUnitArray value="AP_HealingDrone"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BuildHealingDrone" Requirements="AP_HaveRavenBioMechanicalRepairDrone"/>
        <PlaceUnit value="AP_HealingDrone"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_RavenDeploySpiderMines">
        <Effect index="0" value="AP_DeploySpiderMinesPersistent"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="5.5"/>
        <Arc value="360"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ProducedUnitArray value="AP_SpiderMine"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DeploySpiderMines" Requirements="AP_HaveSpiderMinesRaven"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_RavenScramblerMissile">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_RavenScramblerSwitchInitial"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="ChannelingMinimum" value="0"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <TargetFilters value="Visible;Self,Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Invulnerable"/>
        <Range value="9"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ValidatedArray index="Wait" value="1"/>
        <ValidatedArray index="Channel" value="0"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RavenScramblerMissile" Requirements="AP_HaveRavenInterferenceMatrix"/>
        <DefaultError value="MustTargetUnit,Error/MustTargetMechanicalorPsionic"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_RavenShredderMissile">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_RavenShredderMissileLaunchMissile"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <TargetFilters value="Visible;Self,Neutral,Structure,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <Arc value="29.9926"/>
        <ArcSlop value="0"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RavenShredderMissile" Requirements="AP_HaveRavenAntiArmorMissile"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DeepTunnel">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DeepTunnelCU"/>
        <Flags index="BestUnit" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="30"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CastIntroTime value="2"/>
        <CastOutroTime value="1"/>
        <FinishTime value="0.5"/>
        <ShowProgressArray index="Cast" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="AP_DeepTunnelCU"/>
        <ProgressButtonArray index="Cast" value="AP_DeepTunnel"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DeepTunnel" Requirements="AP_HotSHaveDeepTunnel">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_RavagerCorrosiveBile">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_RavagerCorrosiveBileLaunchSet"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_RavagerCorrosiveBileCursorDummy"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RavagerCorrosiveBile"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_MorphToRavager">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Ravager" Requirements="AP_HaveLairAndRoachWarren"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="Rally" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_RavagerCocoon"/>
        <InfoArray Score="1" Unit="AP_Ravager">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="17"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="17"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="17"/>
                <EffectArray index="Finish" value="PostMorphHeal"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilMorph>
    <CAbilTrain id="AP_MorphlingToRavager">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="RavagerAspect"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_RavagerCocoon"/>
        <InfoArray index="Train1" Time="39" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_Ravager" Requirements="AP_HaveLairAndRoachWarren">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Ravager"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphRoachToImpaler">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="ImpalerAspect"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_ImpalerEgg"/>
        <InfoArray index="Train1" Time="15" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_Impaler" Requirements="AP_HaveImpalerDen">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Impaler"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToImpaler">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="ImpalerAspect"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_ImpalerEgg"/>
        <InfoArray index="Train1" Time="40" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_Impaler" Requirements="AP_HaveImpalerDen">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Impaler"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphHydraliskToLurker">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="LurkerAspect"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_HydraliskLurkerEgg"/>
        <InfoArray index="Train1" Time="15" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_Lurker" Requirements="AP_HaveLurkerDen">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Lurker"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToLurker">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="LurkerAspect"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_HydraliskLurkerEgg"/>
        <InfoArray index="Train1" Time="40" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_Lurker" Requirements="AP_HaveLurkerDen">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Lurker"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilEffectInstant id="AP_HydraliskFrenzy">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HydraliskFrenzyApplyBehavior"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <AutoCastRange value="5"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HydraliskFrenzy" Requirements="AP_HaveHotSHydraliskFrenzy"/>
        <AutoCastValidatorArray value="AP_CasterIsFiringOrAnimatingWeapon"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_MorphToHellion">
        <AbilSetId value="HellionMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToHellion" Requirements="AP_HaveHellbatAspect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_Hellion" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.33"/>
                <DurationArray index="Duration" value="3.67"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="4"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.33"/>
                <DurationArray index="Duration" value="3.67"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphToHellionTank">
        <AbilSetId value="TankMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToHellionTank" Requirements="AP_HaveHellbatAspect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_HellionTank" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.33"/>
                <DurationArray index="Duration" value="3.67"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="4"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.33"/>
                <DurationArray index="Duration" value="3.67"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilAugment id="AP_HellbatCharge">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HellbatCharge" Requirements="AP_HaveHoverHellbat"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <TargetType value="UnitOrPoint"/>
        <Cost>
            <Cooldown Link="AP_HellbatCharge" Location="Unit" TimeUse="1.8"/>
        </Cost>
        <Effect value="AP_HellbatLeap"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
    </CAbilAugment>
    <CAbilEffectTarget id="AP_LocustLaunch">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LocustCreateSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="15"/>
        </Cost>
        <Range value="18"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LocustLaunch" Requirements="AP_UseGroundLocusts">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_MorphToSwarmHost">
        <AbilSetId value="BrwUc"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="MorphToSwarmHost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_SwarmHost" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.1"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphToSwarmHostBurrowed">
        <AbilSetId value="BrwDc"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToSwarmHostBurrowed" Requirements="AP_HaveHotSBurrowSwarmHost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SwarmHostBurrowed" RallyResetPhase="Delay" RandomDelayMax="0.25">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphToSwarmHostRooted">
        <AbilSetId value="BrwDd"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToSwarmHostBurrowed" Requirements="AP_NotHaveHotSBurrowSwarmHost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="RootDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_SwarmHostRooted" RallyResetPhase="Delay" RandomDelayMax="0.25">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphToSwarmHostUprooted">
        <AbilSetId value="BrwUd"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToSwarmHost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="RootUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_SwarmHost" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.1"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_LocustFlyingLaunch">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LocustFlyingCreateSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Link="Abil/AP_LocustLaunch" Location="Unit" TimeUse="15"/>
        </Cost>
        <Range value="25"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LocustLaunch" Requirements="AP_UseAirLocusts">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HeroNuclearStrike">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HeroNukeCalldown"/>
        <Range value="12"/>
        <FinishTime value="0"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ValidatedArray index="Channel" value="0"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <CursorEffect value="AP_HeroNukeDamage"/>
        <CalldownEffect value="AP_HeroNukeCalldown"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NukeCalldown" Requirements="AP_HaveNukeHero"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_NovaApolloCloak">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NovaApolloCloakAB"/>
        <Flags index="Transient" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="40"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ApolloCloakOnNova" Requirements="AP_UseNovaCloak"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_NovaArmorBlinkSuitBlink">
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown TimeUse="8"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaArmorBlinkSuitBlink" Requirements="AP_HaveNovaArmorBlinkSuit">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaGadgetDefensiveDroneSummon">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="11"/>
        <Effect index="0" value="AP_NovaGadgetDefensiveDroneSummonCU"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Charge Link="Abil/PlacePointDefenseDrone"/>
            <Cooldown Link="Raven Build Link" Location="Unit" TimeUse="30"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/PlacePointDefenseDrone"/>
            <Cooldown Link="Abil/PlacePointDefenseDrone"/>
        </InterruptCost>
        <Placeholder value="AP_NovaDefensiveDrone"/>
        <Range value="7"/>
        <ProducedUnitArray value="AP_PointDefenseDrone"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HaveNovaGadgetDefensiveDroneSummon" Requirements="AP_HaveNovaGadgetDefensiveDrone"/>
        <PlaceUnit value="NovaDefensiveDrone"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaGadgetFlashBangGrenades">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_NovaGadgetFlashBangGrenadeLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Cooldown TimeUse="5"/>
        </Cost>
        <Range value="7"/>
        <Arc value="9.9975"/>
        <PrepTime value="0.1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <CursorEffect value="AP_NovaGadgetFlashBangGrenadeSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaGadgetFlashBangGrenades" Requirements="AP_HaveNovaGadgetFlashBangGrenades"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaGadgetHiveMindAmplifier">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_NovaGadgetHiveMindAmplifierDummy"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="10"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaGadgetHiveMindAmplifier" Requirements="AP_HaveNovaGadgetHiveMindAmplifier"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaGadgetHolographicDecoy">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NovaHolographicDecoySpawnSet"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Range value="7"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaGadgetHolographicDecoy" Requirements="AP_HaveNovaGadgetHolographicDecoy"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaGadgetPulseGrenades">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_NovaGadgetPulseGrenadesLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="5"/>
        </Cost>
        <Range value="7"/>
        <Arc value="9.9975"/>
        <PrepTime value="0.1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <CursorEffect value="AP_NovaGadgetPulseGrenadesDamage"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaGadgetPulseGrenades" Requirements="AP_HaveNovaGadgetPulseGrenades"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaGadgetSwarmGrenades">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_AP_NovaGadgetSwarmGrenadesLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="10"/>
        <Arc value="9.9975"/>
        <PrepTime value="0.361"/>
        <CursorEffect value="AP_SwarmGrenadeSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaGadgetSwarmGenades" Requirements="AP_HaveNovaGadgetSwarmGrenades"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaHelmetDomination">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NovaDominationPersistent"/>
        <Flags index="AbortOnAllianceChange" value="0"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Cooldown TimeUse="30"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Robotic,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Invulnerable"/>
        <Range value="7"/>
        <RangeSlop value="100"/>
        <AINotifyEffect value="AP_DominationApplySet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaDomination" Requirements="AP_UseDominationVisor"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaHelmetHiveMindAmplifier">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_NovaHelmetHiveMindAmplifierDummy"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="10"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaHelmetHiveMindAmplifier" Requirements="AP_HaveNovaHelmetHiveMindAmplifier"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_NovaHoldFire">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostHoldFire"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostHoldFire" Requirements="AP_GhostNotHoldingFire">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NovaNukeTimer">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaNukeTimer" Requirements="AP_NovaNukeTimer"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NovaPersonalDefensiveMatrix">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PersonalDefensiveMatrixSet"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Cooldown TimeUse="30"/>
        </Cost>
        <AINotifyEffect value="AP_PersonalDefensiveMatrix"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PersonalDefensiveMatrix" Requirements="AP_HaveNovaGadgetPersonalDefensiveMatrix"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_NovaPsiStrike">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Location="Unit"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <PrepTime value="0.01"/>
        <CursorEffect value="AP_NovaPsiStrikeDummySearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponPsiBlade" Requirements="AP_HaveNovaWeaponPsiBladeBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_NovaReleaseMinion">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaReleaseMinion" Requirements="AP_NovaUseReleaseMinion"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_NovaSilentkill">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NovaSilentkillSeparatistSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Biological,Visible;Self,Player,Ally,Neutral,Missile,UnderConstruction,Dead,Hidden"/>
        <Range value="0.01"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaSilentkill" Requirements="AP_HaveNovaSilentkill"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaWeaponBlazefireBladeShadowFury">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_NovaWeaponBlazefireBladeShadowFuryPersistent"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RangeUsePathing" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="Ground,Visible;Self,Player,Ally,Neutral,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="5"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure"/>
        <AutoCastRange value="4"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
        <AutoCastValidatorArray value="AP_NovaWeaponBlazefireBladeShadowFuryAutoCast"/>
        <UninterruptibleArray index="Wait" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <UninterruptibleArray index="Bail" value="1"/>
        <CursorEffect value="AP_NovaWeaponBlazefireBladeShadowFurySearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponBlazefireBladeShadowFury" Requirements="AP_HaveNovaWeaponBlazefireBladeBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaWeaponCanisterRifleSnipe">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="Visible;Self,Player,Ally,Structure,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <CastIntroTime value="0.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponCanisterRifleSnipe" Requirements="AP_HaveNovaWeaponCanisterRifleBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaWeaponHellfireShotgunBlast">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="1"/>
        </Cost>
        <Range value="250"/>
        <CastIntroTime value="0.125"/>
        <CursorEffect value="AP_NovaWeaponHellfireShotgunBlastSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponHellfireShotgunBlast" Requirements="AP_HaveNovaWeaponHellfireShotgunBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaWeaponInvictusLongshotLockdown">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_NovaWeaponInvictusLongshotLockdownLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="-;Player,Ally,Heroic"/>
        <Range value="9"/>
        <CastIntroTime value="0.25"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponInvictusLongshotLockdown" Requirements="AP_HaveNovaWeaponInvictusLongshotBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaWeaponPlasmaBlastNew" parent="WizSimpleSkillshot">
        <Cost index="0">
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" Requirements="AP_HaveNovaWeaponPlasmaRifleBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NovaWeaponPsiRifleAbduct">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <Range value="9"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponPsiRifleAbduct" Requirements="AP_HaveNovaWeaponPsiRifleBehavior"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_NovaWeaponsFree">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostWeaponsFree"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WeaponsFree" Requirements="AP_GhostHoldingFire">
            <Flags index="ShowInGlossary" value="0"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NovaWeaponCanisterRifleSwap">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponCanisterRifleSwap" Requirements="AP_NovaWeaponCanSwapToCanisterRifle"/>
        <Effect index="0" value="AP_NovaWeaponCanisterRifleABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NovaWeaponHellfireShotgunSwap">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponHellfireShotgunSwap" Requirements="AP_NovaWeaponCanSwapToHellfireShotgun"/>
        <Effect index="0" value="AP_NovaWeaponHellfireShotgunABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NovaWeaponPlasmaRifleSwap">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponPlasmaRifleSwap" Requirements="AP_NovaWeaponCanSwapToPlasmaRifle"/>
        <Effect index="0" value="AP_NovaWeaponPlasmaRifleABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NovaWeaponBlazefireBladeSwap">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponBlazefireBladeSwap" Requirements="AP_NovaWeaponCanSwapToBlazefireBlade"/>
        <Effect index="0" value="AP_NovaWeaponBlazefireBladeABSet"/>
    </CAbilEffectInstant>
    <!--    <CAbilEffectInstant id="AP_NovaWeaponInvictusLongshotSwap">-->
    <!--        <EditorCategories value="AbilityorEffectType:Units"/>-->
    <!--        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponInvictusLongshotSwap" Requirements="AP_HaveNovaWeaponInvictusLongshotAndNovaEquipmentSwapVisible"/>-->
    <!--        <Effect index="0" value="AP_NovaWeaponInvictusLongshotABSet"/>-->
    <!--    </CAbilEffectInstant>-->
    <!--    <CAbilEffectInstant id="AP_NovaWeaponPsiRifleSwap">-->
    <!--        <EditorCategories value="AbilityorEffectType:Units"/>-->
    <!--        <Effect index="0" value="AP_NovaWeaponPsiRifleABSet"/>-->
    <!--        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponPsiRifleSwap" Requirements="AP_HaveNovaWeaponPsiRifleAndNovaEquipmentSwapVisible"/>-->
    <!--    </CAbilEffectInstant>-->
    <CAbilEffectInstant id="AP_NovaWeaponPsiBladeSwap">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NovaWeaponPsiBladeABSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NovaWeaponPsiBladeSwap" Requirements="AP_NovaWeaponCanSwapToPsiBlade"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_FungalGrowth">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_FungalGrowthInitialSet"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown Link="Abil/Leech" Location="Unit"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_FungalGrowthSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="FungalGrowth"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_InfestorConsumption">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="10"/>
        </Cost>
        <TargetFilters value="Biological;Self,Enemy,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_InfestorConsumption"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_NPSwarm">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NPSwarmLM"/>
        <Flags index="AbortOnAllianceChange" value="0"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown Location="Unit" TimeUse="5"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Robotic,Structure,Heroic,Missile,Stasis,Dead,Invulnerable"/>
        <Range value="7"/>
        <RangeSlop value="10"/>
        <AINotifyEffect value="AP_NPSwarmApplySet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NPSwarm"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilQueue id="AP_HangarQueue5">
        <EditorCategories value="Race:Neutral,AbilityorEffectType:Structures"/>
        <QueueSize value="5"/>
        <Flags index="Passive" value="1"/>
    </CAbilQueue>
    <CAbilEffectTarget id="AP_GravitonBeamVoidCampaign">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <TargetFilters value="Ground,Visible;Self,Neutral,Massive,Structure,Heroic,Destructible,Invulnerable"/>
        <Range value="4"/>
        <RangeSlop value="4"/>
        <AutoCastFilters value="Ground,Visible;Self,Player,Ally,Neutral"/>
        <AutoCastRange value="4"/>
        <AutoCastValidatorArray value="IsNotEgg"/>
        <AutoCastValidatorArray value="AP_IsNotLarva"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GravitonBeamVoidCampaign">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GravitonBeamMirage" parent="AP_GravitonBeamVoidCampaign">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GravitonBeamVoidCampaign" Requirements="AP_HaveMirageGravitonBeam">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_MorphToBroodLord">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BroodLord" State="Restricted" Requirements="AP_HaveGreaterSpire"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="GuardianAspect"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="Rally" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_BroodLordCocoon" RandomDelayMin="0.001" RandomDelayMax="0.001"/>
        <InfoArray Score="1" Unit="AP_BroodLord">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="33.8332"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="33.8332"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="33.8332"/>
                <EffectArray index="Finish" value="PostMorphHeal"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <AbilClassEnableArray index="CAbilMove" value="1"/>
        <AbilClassEnableArray index="CAbilStop" value="1"/>
    </CAbilMorph>
    <CAbilTrain id="AP_MutaliskMorphToBroodLord">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="GuardianAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_BroodLordCocoon"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="15" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="BroodLord" State="Restricted" Requirements="AP_HaveGreaterSpireAndHotSBroodlord">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_BroodLord"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToBroodLord">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="GuardianAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_BroodLordCocoon"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="69" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="BroodLord" State="Restricted" Requirements="AP_HaveGreaterSpireAndHotSBroodlord">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_BroodLord"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MutaliskMorphToViper">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="ViperAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_ViperCocoon"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="15" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="BroodLord" State="Restricted" Requirements="AP_HaveGreaterSpireAndHotSViper">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Viper"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToViper">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="ViperAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_ViperCocoon"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="50" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="BroodLord" State="Restricted" Requirements="AP_HaveGreaterSpireAndHotSViper">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Viper"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_Corruption">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <TargetFilters value="Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Invulnerable"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Corruption" State="Restricted" Requirements="AP_HaveHotSCorruption"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Range value="6"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <Cost>
            <Cooldown TimeUse="45"/>
        </Cost>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_CausticSpray">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_CausticSpray_Create"/>
        <Flags index="DeferCooldown" value="1"/>
        <Cost>
            <Cooldown TimeUse="45"/>
        </Cost>
        <TargetFilters value="Structure,Visible;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="6"/>
        <RangeSlop value="2"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_CausticSpray" State="Restricted" Requirements="AP_HaveHotSCausticSpray"/>
        <TrackingArc value="0.9997"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_ScourgeDetonate">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SuicideSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScourgeDetonate" State="Restricted" Requirements="AP_HaveHotSScourgeSplash"/>
    </CAbilEffectInstant>
    <CAbilBehavior id="AP_SuicideBuilding">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_EnableBuildingAttack">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_DisableBuildingAttack">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_SuicideBuilding"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_ImmortalOverload">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ImmortalOverloadAB"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Cooldown TimeUse="60"/>
        </Cost>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="CasterShieldsLT1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ImmortalOverload"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ImmortalShakurasShadowCannon">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <PrepEffect value="AP_ImmortalShakurasShadowCannonInitialDisableAttackAB"/>
        <Effect index="0" value="AP_ImmortalShakurasShadowCannonTargetingCP"/>
        <Cost>
            <Cooldown Link="AP_ImmortalShakurasShadowCannon" Location="Unit" TimeUse="45"/>
        </Cost>
        <TargetFilters value="Ground;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="13"/>
        <Arc value="360"/>
        <PrepTime value="0.0625"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ImmortalShakurasShadowCannon" Requirements="AP_NotShowAnnihilatorAerialTracking"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ImmortalShakurasShadowCannonAA" parent="AP_ImmortalShakurasShadowCannon">
        <TargetFilters index="0" value="-;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ImmortalShakurasShadowCannon" Requirements="AP_ShowAnnihilatorAerialTracking"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_ImmortalBarrierBase">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ImmortalBarrierBaseAB"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Cooldown TimeUse="60"/>
        </Cost>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="CasterShieldsLT1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ImmortalBarrierBase"/>
    </CAbilEffectInstant>
    <CAbilMergeable id="AP_Mergeable">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Cancelable value="0"/>
    </CAbilMergeable>
    <CAbilEffectTarget id="AP_Feedback">
        <Alignment value="Negative"/>
        <AbilSetId value="AP_Feedback"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_FeedbackSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Charge Link=""/>
            <Cooldown Link=""/>
        </Cost>
        <TargetFilters value="CanHaveEnergy,Visible,HasEnergy;Self,Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Feedback">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_FeedbackArchon" parent="AP_Feedback">
        <CmdButtonArray index="Execute" Requirements="AP_HaveHighArchon"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_FeedbackSignifier" parent="AP_Feedback">
        <CmdButtonArray index="Execute" Requirements="AP_HaveSignifierFeedback"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_FeedbackDarkArchon" parent="AP_Feedback">
        <CmdButtonArray index="Execute" Requirements="AP_HaveDarkArchonFeedback"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PsiStorm">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PsiStormPersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="2"/>
        </Cost>
        <Range value="9"/>
        <CastOutroTime value="0.5"/>
        <CursorEffect value="AP_PsiStormSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PsiStorm"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HighArchonPsiStorm">
        <Alignment value="Negative"/>
        <AbilSetId value="AP_HighArchonPsiStorm"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HighArchonPsiStormPersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="2"/>
        </Cost>
        <Range value="9"/>
        <CastOutroTime value="0.5"/>
        <CursorEffect value="AP_HighArchonPsiStormSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PsiStorm">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HighArchonPsiStormArchon" parent="AP_HighArchonPsiStorm">
        <CmdButtonArray index="Execute" Requirements="AP_HaveHighArchon"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PsiStormShakuras">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PsiStormShakurasPersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="2"/>
        </Cost>
        <Range value="9"/>
        <CastOutroTime value="0.5"/>
        <CursorEffect value="AP_PsiStormShakurasSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_CripplingPsionicStorm"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_StargateTrain">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <Activity value="UI/Warping"/>
        <InfoArray index="Train1" Time="35" Effect="WarpInEffect15">
            <Button DefaultButtonFace="AP_PhoenixAiur" State="Restricted"/>
            <Unit value="AP_PhoenixAiur"/>
        </InfoArray>
        <InfoArray index="Train2" Time="35" Effect="WarpInEffect15">
            <Button DefaultButtonFace="AP_PhoenixPurifier" State="Restricted"/>
            <Unit value="AP_PhoenixPurifier"/>
        </InfoArray>
        <InfoArray index="Train3" Time="35" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_Corsair" State="Restricted"/>
            <Unit value="AP_CorsairMP"/>
        </InfoArray>
        <InfoArray index="Train4" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_VoidRayShakuras" State="Restricted"/>
            <Unit value="AP_VoidRayShakuras"/>
        </InfoArray>
        <InfoArray index="Train5" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_VoidRayTaldarim" State="Restricted"/>
            <Unit value="AP_VoidRayTaldarim"/>
        </InfoArray>
        <InfoArray index="Train6" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_TempestPurifier" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
            <Unit value="AP_TempestPurifier"/>
        </InfoArray>
        <InfoArray index="Train7" Time="120" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_CarrierAiur" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
            <Unit value="AP_CarrierAiur"/>
        </InfoArray>
        <InfoArray index="Train8" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_Arbiter" State="Restricted"/>
            <Unit value="AP_ArbiterMP"/>
        </InfoArray>
        <InfoArray index="Train9" Time="120" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_MothershipTaldarim" State="Restricted" Requirements="AP_TalDarimMothershipRequirements"/>
            <Unit value="AP_SOAMothershipv4"/>
        </InfoArray>
        <InfoArray index="Train10" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_Scout" State="Restricted"/>
            <Unit value="AP_ScoutMP"/>
        </InfoArray>
        <InfoArray index="Train11" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_Oracle" State="Restricted"/>
            <Unit value="AP_Oracle"/>
        </InfoArray>
        <InfoArray index="Train12" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_VoidRayAiur" State="Restricted"/>
            <Unit value="AP_VoidRayAiur"/>
        </InfoArray>
        <InfoArray index="Train13" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_VoidRayPurifier" State="Restricted"/>
            <Unit value="AP_VoidRayPurifier"/>
        </InfoArray>
        <InfoArray index="Train14" Time="120" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_CarrierTaldarim" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
            <Unit value="AP_CarrierTaldarim"/>
        </InfoArray>
        <InfoArray index="Train15" Time="120" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_CarrierPurifier" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
            <Unit value="AP_CarrierPurifier"/>
        </InfoArray>
        <InfoArray index="Train16" Time="35" Effect="WarpInEffect15">
            <Button DefaultButtonFace="AP_PhoenixTaldarim" State="Restricted"/>
            <Unit value="AP_PhoenixTaldarim"/>
        </InfoArray>
        <InfoArray index="Train17" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_ScoutTaldarim" State="Restricted"/>
            <Unit value="AP_ScoutTaldarim"/>
        </InfoArray>
        <InfoArray index="Train18" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_ScoutPurifier" State="Restricted"/>
            <Unit value="AP_ScoutPurifier"/>
        </InfoArray>
        <InfoArray index="Train19" Time="60" Effect="WarpInEffect">
            <Button DefaultButtonFace="AP_ScoutNerazim" State="Restricted"/>
            <Unit value="AP_ScoutNerazim"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_StargateTrainRedirect" parent="AP_StargateTrain"/>
    <CAbilWarpTrain id="AP_StargateWarpTrain">
        <InfoArray index="Train1" Time="5" Unit="AP_PhoenixAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_PhoenixAiur" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train2" Time="5" Unit="AP_PhoenixPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_PhoenixPurifier" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train3" Time="5" Unit="AP_CorsairMP">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_Corsair" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train4" Time="5" Unit="AP_VoidRayShakuras">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_VoidRayShakuras" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train5" Time="5" Unit="AP_VoidRayTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_VoidRayTaldarim" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train6" Time="5" Unit="AP_TempestPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_TempestPurifier" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
        </InfoArray>
        <InfoArray index="Train7" Time="5" Unit="AP_CarrierAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="96"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_CarrierAiur" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
        </InfoArray>
        <InfoArray index="Train8" Time="5" Unit="AP_ArbiterMP">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_Arbiter" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train9" Time="5" Unit="AP_SOAMothershipv4">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="96"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_MothershipTaldarim" State="Restricted" Requirements="AP_TalDarimMothershipRequirements"/>
        </InfoArray>
        <InfoArray index="Train10" Time="5" Unit="AP_ScoutMP">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_Scout" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train11" Time="5" Unit="AP_Oracle">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_Oracle" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train12" Time="5" Unit="AP_VoidRayAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_VoidRayAiur" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train13" Time="5" Unit="AP_VoidRayPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_VoidRayPurifier" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train14" Time="5" Unit="AP_CarrierTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="96"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_CarrierTaldarim" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
        </InfoArray>
        <InfoArray index="Train15" Time="5" Unit="AP_CarrierPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="96"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_CarrierPurifier" State="Restricted" Requirements="AP_HaveFleetBeacon"/>
        </InfoArray>
        <InfoArray index="Train16" Time="5" Unit="AP_PhoenixTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_PhoenixTaldarim" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train17" Time="5" Unit="AP_ScoutTaldarim">
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <Location value="Unit"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ScoutTaldarim" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train18" Time="5" Unit="AP_ScoutPurifier">
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <Location value="Unit"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ScoutPurifier" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train19" Time="5" Unit="AP_ScoutNerazim">
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <Location value="Unit"/>
                <TimeStart value="30"/>
                <TimeUse value="48"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ScoutNerazim" State="Restricted"/>
        </InfoArray>
    </CAbilWarpTrain>
    <CAbilWarpTrain id="AP_StargateWarpTrainRedirect" parent="AP_StargateWarpTrain"/>
    <CAbilMorph id="AP_MorphBackToRoboticsFacility">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphBackToRoboticsFacility"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_RoboticsFacility">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
        </InfoArray>
        <Alert value="AP_TransformationComplete"/>
        <Activity value="UI/AP_Transforming"/>
    </CAbilMorph>
    <CAbilTrain id="AP_RoboticsFacilityTrain">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <Activity value="UI/Warping"/>
        <InfoArray index="Train1" Time="50" Effect="WarpInEffect15">
            <Button DefaultButtonFace="AP_WarpPrism" State="Restricted"/>
            <Unit value="AP_WarpPrism"/>
        </InfoArray>
        <InfoArray index="Train2" Time="30" Effect="WarpInEffect15">
            <Button DefaultButtonFace="Observer" State="Restricted"/>
            <Unit value="AP_Observer"/>
        </InfoArray>
        <InfoArray index="Train3" Time="75">
            <Button DefaultButtonFace="AP_ColossusPurifier" State="Restricted" Requirements="AP_HaveRoboticsBay"/>
            <Unit value="AP_ColossusPurifier"/>
        </InfoArray>
        <InfoArray index="Train4" Time="55">
            <Button DefaultButtonFace="AP_ImmortalAiur" State="Restricted"/>
            <Unit value="AP_ImmortalAiur"/>
        </InfoArray>
        <InfoArray index="Train5" Time="75">
            <Button DefaultButtonFace="AP_ColossusTaldarim" State="Restricted" Requirements="AP_HaveRoboticsBay"/>
            <Unit value="AP_ColossusTaldarim"/>
        </InfoArray>
        <InfoArray index="Train6" Time="55">
            <Button DefaultButtonFace="AP_ImmortalShakuras" State="Restricted"/>
            <Unit value="AP_ImmortalShakuras"/>
        </InfoArray>
        <InfoArray index="Train7" Time="55">
            <Button DefaultButtonFace="AP_ImmortalTaldarim" State="Restricted"/>
            <Unit value="AP_ImmortalTaldarim"/>
        </InfoArray>
        <InfoArray index="Train8" Time="75">
            <Button DefaultButtonFace="AP_Reaver" State="Restricted" Requirements="AP_HaveRoboticsBay"/>
            <Unit value="AP_Reaver"/>
        </InfoArray>
        <InfoArray index="Train9" Time="60">
            <Button DefaultButtonFace="AP_Disruptor" State="Restricted"/>
            <Unit value="AP_Disruptor"/>
        </InfoArray>
        <InfoArray index="Train10" Time="55">
            <Button DefaultButtonFace="AP_ImmortalPurifier" State="Restricted"/>
            <Unit value="AP_ImmortalPurifier"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_RoboticsFacilityTrainRedirect" parent="AP_RoboticsFacilityTrain"/>
    <CAbilWarpTrain id="AP_RoboticsFacilityWarpTrain">
        <InfoArray index="Train1" Time="5" Unit="AP_WarpPrism">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="40"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_WarpPrism" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train2" Time="5" Unit="AP_Observer">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="30"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="Observer" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train3" Time="5" Unit="AP_ColossusPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="60"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ColossusPurifier" State="Restricted" Requirements="AP_HaveRoboticsBay"/>
        </InfoArray>
        <InfoArray index="Train4" Time="5" Unit="AP_ImmortalAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="44"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ImmortalAiur" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train5" Time="5" Unit="AP_ColossusTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="60"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ColossusTaldarim" State="Restricted" Requirements="AP_HaveRoboticsBay"/>
        </InfoArray>
        <InfoArray index="Train6" Time="5" Unit="AP_ImmortalShakuras">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="44"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ImmortalShakuras" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train7" Time="5" Unit="AP_ImmortalTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="44"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ImmortalTaldarim" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train8" Time="5" Unit="AP_Reaver">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="60"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_Reaver" State="Restricted" Requirements="AP_HaveRoboticsBay"/>
        </InfoArray>
        <InfoArray index="Train9" Time="5" Unit="AP_Disruptor">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_Disruptor" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train10" Time="5" Unit="AP_ImmortalPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="44"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_ImmortalPurifier" State="Restricted"/>
        </InfoArray>
    </CAbilWarpTrain>
    <CAbilWarpTrain id="AP_RoboticsFacilityWarpTrainRedirect" parent="AP_RoboticsFacilityWarpTrain"/>
    <CAbilEffectTarget id="AP_PhaseCannon">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="RangeUseCasterRadius" value="0"/>
        <Cost>
            <Charge Link="Abil/AP_SpawnPhaseCannon"/>
            <Cooldown Link="SpawnPhaseCannonSpawnAP_PhaseCannon" Location="Unit" TimeUse="10"/>
        </Cost>
        <Placeholder value="AP_PhotonCannon"/>
        <Range value="8"/>
        <ProducedUnitArray value="AP_PhotonCannon"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PhaseCannon"/>
        <PlaceUnit value="AP_PhotonCannon"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PhotonCannonBlast">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <Range value="7"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PhotonCannonBlast" Requirements="AP_HaveSOAPhotonCannon"/>
        <TargetFilters value="Visible;Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Effect index="0" value="AP_PhotonCannonBlastLM"/>
    </CAbilEffectTarget>
    <CAbilResearch id="AP_ForgeResearch">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <InfoArray index="Research1" Time="160" Upgrade="AP_ProtossGroundWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="ProtossGroundWeaponsLevel1" State="Restricted" Requirements="AP_LearnProtossGroundWeapon1"/>
        </InfoArray>
        <InfoArray index="Research2" Time="190" Upgrade="AP_ProtossGroundWeaponsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="ProtossGroundWeaponsLevel2" State="Restricted" Requirements="AP_LearnProtossGroundWeapon2"/>
        </InfoArray>
        <InfoArray index="Research3" Time="220" Upgrade="AP_ProtossGroundWeaponsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="ProtossGroundWeaponsLevel3" State="Restricted" Requirements="AP_LearnProtossGroundWeapon3"/>
        </InfoArray>
        <InfoArray index="Research4" Time="160" Upgrade="AP_ProtossGroundArmorsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="ProtossGroundArmorLevel1" State="Restricted" Requirements="AP_LearnProtossGroundArmor1"/>
        </InfoArray>
        <InfoArray index="Research5" Time="190" Upgrade="AP_ProtossGroundArmorsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="ProtossGroundArmorLevel2" State="Restricted" Requirements="AP_LearnProtossGroundArmor2"/>
        </InfoArray>
        <InfoArray index="Research6" Time="220" Upgrade="AP_ProtossGroundArmorsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="ProtossGroundArmorLevel3" State="Restricted" Requirements="AP_LearnProtossGroundArmor3"/>
        </InfoArray>
        <InfoArray index="Research7" Time="160" Upgrade="AP_ProtossShieldsLevel1">
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="200"/>
            <Button DefaultButtonFace="ProtossShieldsLevel1" State="Restricted" Requirements="AP_LearnProtossShield1"/>
        </InfoArray>
        <InfoArray index="Research8" Time="190" Upgrade="AP_ProtossShieldsLevel2">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="ProtossShieldsLevel2" State="Restricted" Requirements="AP_LearnProtossShield2"/>
        </InfoArray>
        <InfoArray index="Research9" Time="220" Upgrade="AP_ProtossShieldsLevel3">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="ProtossShieldsLevel3" State="Restricted" Requirements="AP_LearnProtossShield3"/>
        </InfoArray>
        <InfoArray index="Research10" Time="250" Upgrade="AP_ProtossGroundWeaponsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_ProtossGroundWeaponsLevel4" State="Restricted" Requirements="AP_LearnProtossGroundWeapon4"/>
        </InfoArray>
        <InfoArray index="Research11" Time="280" Upgrade="AP_ProtossGroundWeaponsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_ProtossGroundWeaponsLevel5" State="Restricted" Requirements="AP_LearnProtossGroundWeapon5"/>
        </InfoArray>
        <InfoArray index="Research12" Time="250" Upgrade="AP_ProtossGroundArmorsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_ProtossGroundArmorLevel4" State="Restricted" Requirements="AP_LearnProtossGroundArmor4"/>
        </InfoArray>
        <InfoArray index="Research13" Time="280" Upgrade="AP_ProtossGroundArmorsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_ProtossGroundArmorLevel5" State="Restricted" Requirements="AP_LearnProtossGroundArmor5"/>
        </InfoArray>
        <InfoArray index="Research14" Time="250" Upgrade="AP_ProtossShieldsLevel4">
            <Resource index="Minerals" value="500"/>
            <Resource index="Vespene" value="500"/>
            <Button DefaultButtonFace="AP_ProtossShieldsLevel4" State="Restricted" Requirements="AP_LearnProtossShield4"/>
        </InfoArray>
        <InfoArray index="Research15" Time="280" Upgrade="AP_ProtossShieldsLevel5">
            <Resource index="Minerals" value="600"/>
            <Resource index="Vespene" value="600"/>
            <Button DefaultButtonFace="AP_ProtossShieldsLevel5" State="Restricted" Requirements="AP_LearnProtossShield5"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilEffectTarget id="AP_NexusInvulnerability">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_NexusInvulnerabilityApplyBehavior"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <TargetFilters value="-;Ally,Neutral,Enemy,Massive,Missile,Stasis,UnderConstruction,Hidden,Invulnerable"/>
        <Range value="10"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NexusInvulnerability"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_NexusTrain">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <Activity value="UI/Warping"/>
        <InfoArray index="Train1" Time="17">
            <Button DefaultButtonFace="AP_Probe"/>
            <Unit value="AP_Probe"/>
        </InfoArray>
        <InfoArray index="Train2" Time="17">
            <Button DefaultButtonFace="AP_BuildProbe" Requirements="AP_HaveProbeWarpin"/>
            <Unit value="AP_Probe"/>
        </InfoArray>
        <Alert value="TrainWorkerComplete"/>
    </CAbilTrain>
    <CAbilTrain id="AP_NexusTrainMothership">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <Activity value="UI/Warping"/>
        <!--        <InfoArray index="Train1" Time="160">-->
        <!--            <Button DefaultButtonFace="Mothership" State="Restricted" Requirements="MothershipRequirements"/>-->
        <!--            <Unit value="Mothership"/>-->
        <!--        </InfoArray>-->
        <Alert value="MothershipComplete"/>
    </CAbilTrain>
    <CAbilTrain id="AP_NexusTrainMothershipCore">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <Activity value="UI/Warping"/>
        <InfoArray index="Train1" Time="25">
            <Button DefaultButtonFace="AP_MothershipCoreAiur" State="Restricted" Requirements="AP_AiurMothershipCoreRequirements"/>
            <Unit value="AP_MothershipCoreAiur"/>
        </InfoArray>
        <InfoArray index="Train2" Time="30">
            <Button DefaultButtonFace="AP_MothershipCorePurifier" State="Restricted" Requirements="AP_PurifierMothershipCoreRequirements"/>
            <Unit value="AP_MothershipCorePurifier"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilRally id="AP_RallyNexus">
        <OrderArray index="0">
            <DisplayType value="Rally"/>
            <Color value="255,245,140,70"/>
            <Model value="Assets\UI\Feedback\WayPointRally\WayPointRally.m3"/>
            <LineTexture value="Assets\Textures\WayPointLine.dds"/>
        </OrderArray>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Rally1" Requirements="AP_NotHaveVoidCasualRallyBlock"/>
        <CmdButtonArray index="Rally2" DefaultButtonFace="Rally" Requirements="AP_HaveVoidCasualRallyBlock"/>
        <InfoArray index="0" AllowSetFilters="HarvestableResource;-">
            <UseValidators value="AP_NotHaveVoidCasualRallyBlock"/>
        </InfoArray>
        <InfoArray AllowSetOnGround="0" AllowSetFilters="HarvestableResource;-">
            <UseValidators value="AP_HaveVoidCasualRallyBlock"/>
        </InfoArray>
        <InfoArray AllowSetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
        <InfoArray AllowSetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
    </CAbilRally>
    <CAbilEffectTarget id="AP_LightningBomb">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_LightningBombLM"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Cooldown TimeUse="90"/>
        </Cost>
        <TargetFilters value="-;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="15"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LightningBomb" Requirements="AP_HaveTempestDisintegration"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_MorphZerglingToBaneling">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="BanelingAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <MorphUnit value="AP_BanelingCocoon"/>
        <InfoArray index="Train1" Time="10" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="Baneling" Requirements="AP_HotSHaveBaneling">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Baneling"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToBaneling">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="BanelingAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <MorphUnit value="AP_BanelingCocoon"/>
        <InfoArray index="Train1" Time="29" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="Baneling" Requirements="AP_HotSHaveBaneling">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_Baneling"/>
            <Unit value="AP_Baneling"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilAugment id="AP_HotSRaptorCharge">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HotSRaptorCharge" Requirements="AP_HaveHotSHaveRaptor"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <TargetType value="UnitOrPoint"/>
        <Cost>
            <Cooldown Link="AP_HotSRaptorCharge" Location="Unit" TimeUse="2"/>
        </Cost>
        <Effect value="AP_HotSRaptorLeap"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
    </CAbilAugment>
    <CAbilEffectTarget id="AP_OracleRevelation">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_OracleRevelationSearch"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="2.5"/>
        </Cost>
        <Range value="9"/>
        <CastOutroTime value="0.5"/>
        <CursorEffect value="AP_OracleRevelationSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OracleRevelation"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_OracleStasisTrap">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_OracleStasisTrapCU"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Placeholder value="AP_OracleStasisTrap"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OracleBuildStasisTrap"/>
        <PlaceUnit value="AP_OracleStasisTrap"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_OracleStasisTrapActivate">
        <Effect index="0" value="AP_OracleStasisTrapActivateSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Cost>
            <Cooldown TimeUse="0.5"/>
        </Cost>
        <Arc value="360"/>
        <AutoCastRange value="3"/>
        <AutoCastValidatorArray value="AP_ActivateStasisWardTargetInRange"/>
        <PrepTime value="0"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="ActivateStasisWard"/>
    </CAbilEffectInstant>
    <CAbilBuild id="AP_OracleStasisTrapBuild">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <FlagArray index="RequireFacing" value="1"/>
        <InfoArray index="Build1" Unit="AP_OracleStasisTrap" Time="5">
            <Vital index="Energy" value="50"/>
            <Button DefaultButtonFace="AP_OracleBuildStasisTrap">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
        </InfoArray>
        <Range value="5"/>
        <EffectArray index="Start" value="AP_OracleStasisTrapBuildBeamOn"/>
        <EffectArray index="Finish" value="AP_OracleStasisTrapBuildBeamOff"/>
        <EffectArray index="Cancel" value="AP_OracleStasisTrapBuildBeamOff"/>
    </CAbilBuild>
    <CAbilBehavior id="AP_OracleWeapon">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_OracleWeaponOn" Requirements="AP_NotHaveOracleSustainablePulsarBeam">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_OracleWeaponOff" Requirements="AP_NotHaveOracleSustainablePulsarBeam">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Cooldown TimeUse="4"/>
        </Cost>
        <BehaviorArray value="AP_OracleWeapon"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_SOAMothershipBlink">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAMothershipBlinkCP"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Cooldown TimeUse="8"/>
        </Cost>
        <Range value="10"/>
        <Arc value="360"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAMothershipBlink"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAMothershipLineAttack">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAMothershipLineAttackInitialCP"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAMothershipLineAttack" Requirements="AP_HaveThermalLanceInstalled"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_AutoMorphToMothershipTaldarim">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveMothershipTaldarimIntegratedPower"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_MothershipTaldarim" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_AutoMorphToMothershipPurifierPowerSource">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveMothershipPurifierPowerSource"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_MothershipPurifierPowerSource" CollideRange="0"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_InduceScopophobia">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_ScopophobiaTargetAB"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Cooldown TimeUse="2"/>
        </Cost>
        <AutoCastFilters value="Visible,Enemy;Self,Player,Ally,Neutral,Missile,Structure"/>
        <AutoCastRange value="11"/>
        <AutoCastValidatorArray value="AP_NotHaveScopophobia"/>
        <AutoCastValidatorArray value="IsNotEgg"/>
        <AutoCastValidatorArray value="AP_IsNotLarva"/>
        <TargetFilters value="Enemy;Self,Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <Range value="11"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Scopophobia" Requirements="AP_HaveObserverScopophobia"/>
    </CAbilEffectTarget>
    <CAbilArmMagazine id="AP_ReaverHangar">
        <AbilSetId value="ReaverHanger"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Leash value="20"/>
        <InfoArray index="Ammo1" Time="8" CountStart="5" Unit="AP_Scarab">
            <Charge Link="AP_ReaverScarabs" Location="Unit"/>
            <Button DefaultButtonFace="AP_ReaverScarabs" Requirements="AP_ArmScarab">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
        <MaxCount value="5"/>
    </CAbilArmMagazine>
    <CAbilEffectInstant id="AP_PurificationNova">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PurificationNovaSet"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PurificationNova"/>
        <SharedFlags index="RegisterChargeEvent" value="1"/>
        <SharedFlags index="RegisterCooldownEvent" value="1"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_PurificationNovaMorph">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PurificationNova"/>
        <InfoArray Unit="AP_DisruptorPhased"/>
        <Flags index="Transient" value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_PurificationNovaMorphBack">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PurificationNova"/>
        <Flags index="Transient" value="1"/>
        <InfoArray Unit="AP_Disruptor"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_PurificationNovaTargeted">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <SharedFlags index="RegisterChargeEvent" value="1"/>
        <SharedFlags index="RegisterCooldownEvent" value="1"/>
        <Effect index="0" value="AP_PurificationNovaTargettedInitialSet"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/PurificationNovaTargetted"/>
            <Cooldown Link="Abil/PurificationNovaTargetted" TimeUse="25"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PurificationNovaTargeted">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_PurificationNovaEarly">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <SharedFlags index="RegisterChargeEvent" value="1"/>
        <SharedFlags index="RegisterCooldownEvent" value="1"/>
        <Effect index="0" value="Kill"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PurificationNovaEarly"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_PurificationNovaCaster">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <SharedFlags index="RegisterChargeEvent" value="1"/>
        <SharedFlags index="RegisterCooldownEvent" value="1"/>
        <Effect index="0" value="AP_PurificationNovaRemoveCasterSet"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PurificationNovaEarly" Requirements="AP_HaveDisruptorPurificationNova"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ChargedBlastTargeted">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="ChargedBlastSet"/>
        <Flags index="RangeUsePathing" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Range value="15"/>
        <Arc value="360"/>
        <CursorEffect value="AP_ChargedBlastSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ChargedBlast"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_PhasingMode">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PhasingMode"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_WarpPrismPhasing">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_ForceFieldMonitor">
        <AbilSetId value="ForceField"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ForceField"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="9"/>
        <Marker>
            <MatchFlags index="Link" value="0"/>
            <MatchFlags index="CasterUnit" value="1"/>
        </Marker>
        <CursorEffect value="AP_ForceFieldPlacement"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SentryTaldarimForceField">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <PlaceUnit value="AP_ForceField"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_GuardianShieldVoid">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GuardianShieldPersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown Link="GuardianShield" TimeUse="15"/>
        </Cost>
        <AutoCastFilters value="Visible;Neutral,Enemy"/>
        <AutoCastValidatorArray value="AP_VoidSentryNearbyFriendlyUnitInCombat"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="GuardianShield"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ActivateSquadSight">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SquadSightPersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Location="Unit" TimeUse="15"/>
        </Cost>
        <AutoCastFilters value="Visible;Neutral,Enemy"/>
        <AutoCastValidatorArray value="AP_HavocNearbyFriendlyUnitInCombat"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ActivateSquadSight" Requirements="AP_NotHaveHavocEnduringSight"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_AstralRestoration">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_AstralRestorationABCaster"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown Location="Unit" TimeUse="240"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AstralRestoration" Requirements="AP_HaveAstralRestorationInstalled"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_OverloadWeaponSystems">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_OverloadWeaponSystemsABCaster"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="12"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OverloadWeaponSystems" Requirements="AP_HaveOverloadWeaponSystemsInstalled"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ObserverTargetLock">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ObserverTargetLockCP"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="3"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Invulnerable"/>
        <TargetSorts>
            <SortArray value="TSLifeLargestFirst"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="8"/>
        <AutoCastRange value="8"/>
        <AutoCastValidatorArray value="AP_NotHaveTargetLock"/>
        <AutoCastValidatorArray value="AP_NotInterceptor"/>
        <CastOutroTime value="0.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TargetLock"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ShieldBatteryRechargeChanneled">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ShieldBatteryRechargeChanneledSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Visible;Self,Enemy,Missile,UnderConstruction,Dead,Hidden"/>
        <Range value="4"/>
        <Arc value="360"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Self,Neutral,Enemy,Missile,UnderConstruction,Dead,Hidden"/>
        <AutoCastRange value="4"/>
        <AutoCastValidatorArray value="AP_ShieldBatteryHasEnergy"/>
        <AutoCastValidatorArray value="AP_UnitOrAttackingStructure"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ShieldBatteryRecharge"/>
    </CAbilEffectTarget>
    <CAbilResearch id="AP_SpireResearch">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <InfoArray index="Research1" Time="160" Upgrade="AP_ZergFlyerWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="zergflyerattack1" State="Restricted" Requirements="AP_LearnZergFlyerAttack1">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research2" Time="190" Upgrade="AP_ZergFlyerWeaponsLevel2">
            <Resource index="Minerals" value="175"/>
            <Resource index="Vespene" value="175"/>
            <Button DefaultButtonFace="zergflyerattack2" State="Restricted" Requirements="AP_LearnZergFlyerAttack2">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research3" Time="220" Upgrade="AP_ZergFlyerWeaponsLevel3">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="zergflyerattack3" State="Restricted" Requirements="AP_LearnZergFlyerAttack3">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research4" Time="160" Upgrade="AP_ZergFlyerArmorsLevel1">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="zergflyerarmor1" State="Restricted" Requirements="AP_LearnZergFlyerArmor1">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research5" Time="190" Upgrade="AP_ZergFlyerArmorsLevel2">
            <Resource index="Minerals" value="225"/>
            <Resource index="Vespene" value="225"/>
            <Button DefaultButtonFace="zergflyerarmor2" State="Restricted" Requirements="AP_LearnZergFlyerArmor2">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research6" Time="220" Upgrade="AP_ZergFlyerArmorsLevel3">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="zergflyerarmor3" State="Restricted" Requirements="AP_LearnZergFlyerArmor3">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research7" Time="250" Upgrade="AP_ZergFlyerWeaponsLevel4">
            <Resource index="Minerals" value="325"/>
            <Resource index="Vespene" value="325"/>
            <Button DefaultButtonFace="AP_zergflyerattack4" State="Restricted" Requirements="AP_LearnZergFlyerAttack4">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research8" Time="280" Upgrade="AP_ZergFlyerWeaponsLevel5">
            <Resource index="Minerals" value="400"/>
            <Resource index="Vespene" value="400"/>
            <Button DefaultButtonFace="AP_zergflyerattack5" State="Restricted" Requirements="AP_LearnZergFlyerAttack5">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research9" Time="250" Upgrade="AP_ZergFlyerArmorsLevel4">
            <Resource index="Minerals" value="375"/>
            <Resource index="Vespene" value="375"/>
            <Button DefaultButtonFace="AP_zergflyerarmor4" State="Restricted" Requirements="AP_LearnZergFlyerArmor4">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Research10" Time="280" Upgrade="AP_ZergFlyerArmorsLevel5">
            <Resource index="Minerals" value="450"/>
            <Resource index="Vespene" value="450"/>
            <Button DefaultButtonFace="AP_zergflyerarmor5" State="Restricted" Requirements="AP_LearnZergFlyerArmor5">
                <Flags index="ToSelection" value="1"/>
            </Button>
        </InfoArray>
    </CAbilResearch>
    <CAbilMorph id="AP_SpineCrawlerUproot">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpineCrawlerUproot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="Uproot"/>
        <Flags index="FastBuild" value="1"/>
        <InfoArray Unit="AP_SpineCrawlerUprooted">
            <SectionArray index="Abils">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorphPlacement id="AP_SpineCrawlerRoot">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpineCrawlerRoot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="Root"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_SpineCrawler" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
        </InfoArray>
        <ProgressButton value="AP_SpineCrawlerRootCancel"/>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_AutoMorphToSpineCrawler">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveZergCreepStomach"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_SpineCrawler" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorph id="AP_AutoMorphToSporeCrawler">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveZergCreepStomach"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_SporeCrawler" CollideRange="0"/>
    </CAbilMorph>
    <CAbilMorphPlacement id="AP_SporeCrawlerRoot">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SporeCrawlerRoot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="Root"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_SporeCrawler" CollideRange="0">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
        </InfoArray>
        <ProgressButton value="AP_SporeCrawlerRootCancel"/>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_SporeCrawlerUproot">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SporeCrawlerUproot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="Uproot"/>
        <Flags index="FastBuild" value="1"/>
        <InfoArray Unit="AP_SporeCrawlerUprooted">
            <SectionArray index="Abils">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilAttack id="AP_BileLauncherAttack">
        <MinAttackSpeedMultiplier value="0.25"/>
        <MaxAttackSpeedMultiplier value="128"/>
        <CmdButtonArray index="Execute">
            <Flags index="IgnoreUser" value="1"/>
        </CmdButtonArray>
    </CAbilAttack>
    <CAbilEffectTarget id="AP_BileLauncherTargetSet">
        <Flags index="Smart" value="1"/>
        <Effect index="0" value="AP_BileLauncherTargetSetCP"/>
        <Range value="15"/>
        <Arc value="360"/>
        <CursorEffect value="AP_BileLauncherBombardmentDamageSearch"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_GatewayTrain">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <Activity value="UI/Warping"/>
        <InfoArray index="Train1" Time="38">
            <Button DefaultButtonFace="AP_ZealotAiur" State="Restricted"/>
            <Unit value="AP_ZealotAiur"/>
        </InfoArray>
        <InfoArray index="Train2" Time="42">
            <Button DefaultButtonFace="AP_StalkerShakuras" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_StalkerShakuras"/>
        </InfoArray>
        <!--        <InfoArray index="Train3" Time="37">-->
        <!--            <Button DefaultButtonFace="WarpInReplicant" State="Restricted" Requirements="HaveVoidSentryReplicant"/>-->
        <!--            <Unit value="Replicant"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Train4" Time="55">
            <Button DefaultButtonFace="AP_HighTemplarAiur" State="Restricted" Requirements="AP_HaveTemplarArchives"/>
            <Unit value="AP_HighArchonTemplar"/>
        </InfoArray>
        <InfoArray index="Train5" Time="55">
            <Button DefaultButtonFace="AP_DarkTemplarShakuras" State="Restricted" Requirements="AP_HaveDarkShrine"/>
            <Unit value="AP_DarkTemplarShakuras"/>
        </InfoArray>
        <InfoArray index="Train6" Time="37">
            <Button DefaultButtonFace="AP_SentryAiur" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_SentryAiur"/>
        </InfoArray>
        <InfoArray index="Train7" Time="38">
            <Button DefaultButtonFace="AP_WarpInAdept" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_Adept"/>
        </InfoArray>
        <!--        <InfoArray index="Train8" Time="55">-->
        <!--            <Button DefaultButtonFace="HighArchon" State="Restricted" Requirements="HaveVoidHighTemplarArchonAdvanced"/>-->
        <!--            <Unit value="ArchonAdvanced"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Train9" Time="38">
            <Button DefaultButtonFace="AP_ZealotPurifier" State="Restricted"/>
            <Unit value="AP_ZealotPurifier"/>
        </InfoArray>
        <InfoArray index="Train10" Time="38">
            <Button DefaultButtonFace="AP_ZealotShakuras" State="Restricted"/>
            <Unit value="AP_ZealotShakuras"/>
        </InfoArray>
        <InfoArray index="Train11" Time="28">
            <Button DefaultButtonFace="AP_WarpInSupplicant" State="Restricted"/>
            <Unit value="AP_Supplicant"/>
            <Unit value="AP_Supplicant"/>
        </InfoArray>
        <InfoArray index="Train12" Time="42">
            <Button DefaultButtonFace="AP_StalkerPurifier" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_StalkerPurifier"/>
        </InfoArray>
        <InfoArray index="Train13" Time="42">
            <Button DefaultButtonFace="AP_Slayer" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_Slayer"/>
        </InfoArray>
        <InfoArray index="Train14" Time="55">
            <Button DefaultButtonFace="AP_HighTemplarShakuras" State="Restricted" Requirements="AP_HaveTemplarArchives"/>
            <Unit value="AP_HighTemplarShakuras"/>
        </InfoArray>
        <InfoArray index="Train15" Time="55">
            <Button DefaultButtonFace="AP_HighTemplarTaldarim" State="Restricted" Requirements="AP_HaveTemplarArchives"/>
            <Unit value="AP_HighTemplarTaldarim"/>
        </InfoArray>
        <InfoArray index="Train16" Time="55">
            <Button DefaultButtonFace="AP_DarkTemplarAiur" State="Restricted" Requirements="AP_HaveDarkShrine"/>
            <Unit value="AP_DarkTemplarAiur"/>
        </InfoArray>
        <InfoArray index="Train17" Time="55">
            <Button DefaultButtonFace="AP_DarkTemplarTaldarim" State="Restricted" Requirements="AP_HaveDarkShrine"/>
            <Unit value="AP_DarkTemplarTaldarim"/>
        </InfoArray>
        <InfoArray index="Train18" Time="42">
            <Button DefaultButtonFace="AP_Dragoon" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_Dragoon"/>
        </InfoArray>
        <InfoArray index="Train19" Time="55">
            <Button DefaultButtonFace="AP_DarkArchon" State="Restricted" Requirements="AP_HaveTemplarArchivesDarkArchon"/>
            <Unit value="AP_DarkArchon"/>
        </InfoArray>
        <InfoArray index="Train20" Time="37">
            <Button DefaultButtonFace="AP_SentryPurifier" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_SentryPurifier"/>
        </InfoArray>
        <InfoArray index="Train21" Time="37">
            <Button DefaultButtonFace="AP_Monitor" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
            <Unit value="AP_Monitor"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_GatewayTrainRedirect" parent="AP_GatewayTrain"/>
    <CAbilMorph id="AP_MorphBackToGateway">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="MorphBackToGateway"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Cost>
            <Cooldown Link="AP_WarpGateTrain" Location="Unit"/>
        </Cost>
        <InfoArray Unit="AP_Gateway">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete"/>
    </CAbilMorph>
    <CAbilHarvest id="AP_ProbeHarvest">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
    </CAbilHarvest>
    <CAbilBuild id="AP_ProtossBuild">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <FlagArray index="PeonDisableCollision" value="1"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <InfoArray index="Build1" Unit="AP_Nexus" Time="100">
            <Button DefaultButtonFace="AP_Nexus"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_Pylon" Time="25">
            <Button DefaultButtonFace="AP_Pylon"/>
        </InfoArray>
        <InfoArray index="Build3" Unit="AP_Assimilator" Time="30">
            <Button DefaultButtonFace="AP_Assimilator" Requirements="AP_NotHaveSOAAutoAssimilator"/>
            <ValidatorArray value="HasVespene"/>
        </InfoArray>
        <!--        <InfoArray index="Build4" Unit="AP_Gateway" Time="65">-->
        <!--            <Button DefaultButtonFace="AP_Gateway" State="Restricted" Requirements="AP_HaveNexusAndNotHaveSOAWarpTech"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build5" Unit="AP_Forge" Time="45">
            <Button DefaultButtonFace="AP_Forge" Requirements="AP_HaveNexus"/>
        </InfoArray>
        <InfoArray index="Build6" Unit="AP_FleetBeacon" Time="60">
            <Button DefaultButtonFace="AP_FleetBeacon" State="Restricted" Requirements="AP_HaveStargate"/>
        </InfoArray>
        <InfoArray index="Build8" Unit="AP_PhotonCannon" Time="40">
            <Button DefaultButtonFace="AP_PhotonCannon" State="Restricted" Requirements="AP_HaveForge"/>
        </InfoArray>
        <InfoArray index="Build9" Time="25"/>
        <InfoArray index="Build10" Unit="AP_Stargate" Time="60">
            <Button DefaultButtonFace="AP_Stargate" State="Restricted" Requirements="AP_HaveNexusAndNotHaveSOAWarpTech"/>
        </InfoArray>
        <InfoArray index="Build11" Unit="AP_TemplarArchive" Time="50">
            <Button DefaultButtonFace="AP_TemplarArchive" State="Restricted" Requirements="AP_HaveGateway"/>
        </InfoArray>
        <InfoArray index="Build12" Unit="AP_DarkShrine" Time="50">
            <Button DefaultButtonFace="AP_DarkShrine" State="Restricted" Requirements="AP_HaveGateway"/>
        </InfoArray>
        <InfoArray index="Build13" Unit="AP_RoboticsBay" Time="65">
            <Button DefaultButtonFace="AP_RoboticsBay" State="Restricted" Requirements="AP_HaveRoboticsFa"/>
        </InfoArray>
        <InfoArray index="Build14" Unit="AP_RoboticsFacility" Time="65">
            <Button DefaultButtonFace="AP_RoboticsFacility" State="Restricted" Requirements="AP_HaveNexusAndNotHaveSOAWarpTech"/>
        </InfoArray>
        <InfoArray index="Build15" Unit="AP_CyberneticsCore" Time="50">
            <Button DefaultButtonFace="AP_CyberneticsCore" State="Restricted" Requirements="AP_HaveGatewayOrStargate"/>
        </InfoArray>
        <!--        <InfoArray index="Build20" Unit="PsionicAmplifier" Time="40">-->
        <!--            <Button DefaultButtonFace="PsionicAmplifier" State="Restricted"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Build21" Unit="VoidPylon" Time="60">-->
        <!--            <Button DefaultButtonFace="VoidPylon"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build22" Unit="AP_ShieldBattery" Time="30">
            <Button DefaultButtonFace="AP_ShieldBattery" Requirements="AP_HaveNexus"/>
        </InfoArray>
        <!--        <InfoArray index="Build23" Unit="SoACaster" Time="40">-->
        <!--            <Button DefaultButtonFace="WarpinSoACaster" Requirements="NoSoACaster"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build24" Unit="AP_AutomatedAssimilator" Time="30">
            <Button DefaultButtonFace="AP_AutomatedAssimilator" Requirements="AP_HaveSOAAutoAssimilator"/>
        </InfoArray>
        <InfoArray index="Build25" Unit="AP_KhaydarinMonolith" Time="80">
            <Button DefaultButtonFace="AP_KhaydarinMonolith" State="Restricted" Requirements="AP_HaveForge"/>
        </InfoArray>
        <InfoArray index="Build26" Unit="AP_WarpGate" Time="65">
            <Button DefaultButtonFace="AP_WarpInWarpGate" State="Restricted" Requirements="AP_HaveNexus"/>
        </InfoArray>
        <InfoArray index="Build27" Unit="AP_StargateWarp" Time="60">
            <Button DefaultButtonFace="AP_WarpInStarWarpGate" State="Restricted" Requirements="AP_HaveNexusAndHaveSOAWarpTech"/>
        </InfoArray>
        <InfoArray index="Build28" Unit="AP_RoboticsFacilityWarp" Time="65">
            <Button DefaultButtonFace="AP_WarpInRoboticsWarpFacility" State="Restricted" Requirements="AP_HaveNexusAndHaveSOAWarpTech"/>
        </InfoArray>
        <InfoArray index="Build29" Unit="AP_TradeStructure" Time="40">
            <Button DefaultButtonFace="AP_TradeStructure" State="Restricted" Requirements="AP_NotHaveTradeStructure"/>
        </InfoArray>
        <ConstructionMover value="Construction"/>
    </CAbilBuild>
    <CAbilRally id="AP_RallyHatchery">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Rally2" DefaultButtonFace="RallyEgg"/>
        <InfoArray index="0">
            <SetValidators value="NotResourcesOrEnemyTargetType"/>
            <UseValidators value="NotDroneAndNotOverlord"/>
        </InfoArray>
        <InfoArray SetOnGround="0">
            <UseValidators value="IsDroneOrOverlord"/>
        </InfoArray>
        <InfoArray SetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
    </CAbilRally>
    <CAbilTrain id="AP_LarvaTrain">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <Activity value="UI/Morphing"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_Egg"/>
        <Range value="4"/>
        <InfoArray index="Train1" Time="17" Alert="TrainWorkerComplete">
            <Button DefaultButtonFace="AP_Drone"/>
            <Unit value="AP_Drone"/>
            <Unit value=""/>
        </InfoArray>
        <InfoArray index="Train2" Time="24">
            <Button DefaultButtonFace="AP_Zergling" Requirements="AP_HaveSpawningPool"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <InfoArray index="Train3" Time="25">
            <Button DefaultButtonFace="AP_Overlord"/>
            <Unit value="AP_Overlord"/>
        </InfoArray>
        <InfoArray index="Train4" Time="33">
            <Button DefaultButtonFace="AP_Hydralisk" Requirements="AP_HaveHydraliskDen"/>
            <Unit value="AP_Hydralisk"/>
        </InfoArray>
        <InfoArray index="Train5" Time="33">
            <Button DefaultButtonFace="AP_Mutalisk" Requirements="AP_HaveSpire"/>
            <Unit value="AP_Mutalisk"/>
        </InfoArray>
        <InfoArray index="Train7" Time="70">
            <Button DefaultButtonFace="AP_Ultralisk" Requirements="AP_HaveUltraliskCavern"/>
            <Unit value="AP_Ultralisk"/>
        </InfoArray>
        <!--        <InfoArray index="Train8" Time="35">-->
        <!--            <Button DefaultButtonFace="AP_Baneling" Requirements="HaveBanelingNest"/>-->
        <!--            <Unit value="AP_Baneling"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Train10" Time="27">
            <Button DefaultButtonFace="AP_Roach" Requirements="AP_HaveRoachWarren"/>
            <Unit value="AP_Roach"/>
        </InfoArray>
        <InfoArray index="Train11" Time="50">
            <Button DefaultButtonFace="AP_Infestor" Requirements="AP_HaveInfestationPit"/>
            <Unit value="AP_Infestor"/>
        </InfoArray>
        <InfoArray index="Train12" Time="40">
            <Button DefaultButtonFace="AP_Corruptor" Requirements="AP_HaveSpire"/>
            <Unit value="AP_Corruptor"/>
        </InfoArray>
        <InfoArray index="Train13" Time="40">
            <Button DefaultButtonFace="AP_SIQueen" Requirements="AP_HaveSpire"/>
            <Unit value="AP_SIQueen"/>
        </InfoArray>
        <InfoArray index="Train14" Time="50">
            <Button DefaultButtonFace="AP_DefilerSCBW" Requirements="AP_HaveInfestationPit"/>
            <Unit value="AP_DefilerSCBW"/>
        </InfoArray>
        <InfoArray index="Train15" Time="40">
            <Button DefaultButtonFace="AP_SwarmHost" Requirements="AP_HaveInfestationPit"/>
            <Unit value="AP_SwarmHost"/>
        </InfoArray>
        <InfoArray index="Train16" Time="10">
            <Button DefaultButtonFace="AP_Morphling" Requirements="AP_MorphlingEnabled"/>
            <Unit value="AP_Morphling"/>
        </InfoArray>
        <InfoArray index="Train17" Time="24">
            <Button DefaultButtonFace="AP_Pygalisk" Requirements="AP_HaveSpawningPool"/>
            <Unit value="AP_Pygalisk"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_LarvaTrainSwarm">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_Egg"/>
        <Range value="4"/>
        <InfoArray index="Train1" Time="27">
            <Button DefaultButtonFace="AP_RoachVile" Requirements="AP_HaveRoachWarrenAndVile"/>
            <Unit value="AP_Roach"/>
        </InfoArray>
        <!--        <InfoArray index="Train3" Time="50">-->
        <!--            <Button DefaultButtonFace="MorphtoDefiler" State="Restricted" Requirements="HaveInfestationPit"/>-->
        <!--            <Unit value="Defiler"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train4" Time="40">-->
        <!--            <Button DefaultButtonFace="MorphtoDevourer" State="Restricted" Requirements="HaveSpire"/>-->
        <!--            <Unit value="Devourer"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Train7" Time="24">
            <Button DefaultButtonFace="AP_MorphToRaptor" Requirements="AP_HaveSpawningPoolAndRaptor"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
            <Unit value=""/>
            <Unit value=""/>
        </InfoArray>
        <!--        <InfoArray index="Train10" Time="24">-->
        <!--            <Resource index="Minerals" value="50"/>-->
        <!--            <Button DefaultButtonFace="AP_MorphToSwarmling" State="Restricted" Requirements="AP_HaveSpawningPool"/>-->
        <!--            <Unit value="AP_Zergling"/>-->
        <!--            <Unit value="AP_Zergling"/>-->
        <!--            <Unit value=""/>-->
        <!--            <Unit value=""/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Train13" Time="40">-->
        <!--            <Button DefaultButtonFace="Lurker" State="Restricted" Requirements="HaveLurkerDen"/>-->
        <!--            <Unit value="Lurker"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Train17" Time="60">
            <Button DefaultButtonFace="AP_HotSTorrasque" Requirements="AP_HaveUltraliskCavernAndTorrasque"/>
            <Unit value="AP_Ultralisk"/>
        </InfoArray>
        <InfoArray index="Train18" Time="60">
            <Button DefaultButtonFace="AP_HotSNoxious" Requirements="AP_HaveUltraliskCavernAndNoxious"/>
            <Unit value="AP_Ultralisk"/>
        </InfoArray>
        <InfoArray index="Train21" Time="30">
            <Button DefaultButtonFace="AP_HydraliskImpaler" Requirements="AP_HaveHydraliskDenAndImpaler"/>
            <Unit value="AP_Hydralisk"/>
        </InfoArray>
        <InfoArray index="Train22" Time="30">
            <Button DefaultButtonFace="AP_HydraliskLurker" Requirements="AP_HaveHydraliskDenAndLurker"/>
            <Unit value="AP_Hydralisk"/>
        </InfoArray>
        <InfoArray index="Train23" Time="27">
            <Button DefaultButtonFace="AP_MorphToCorpser" Requirements="AP_HaveRoachWarrenAndCorpser"/>
            <Unit value="AP_Roach"/>
        </InfoArray>
        <InfoArray index="Train24" Time="33">
            <Button DefaultButtonFace="AP_MutaliskBroodlord" Requirements="AP_HaveSpireAndBroodLord"/>
            <Unit value="AP_Mutalisk"/>
        </InfoArray>
        <InfoArray index="Train25" Time="33">
            <Button DefaultButtonFace="AP_MutaliskViper" Requirements="AP_HaveSpireAndViper"/>
            <Unit value="AP_Mutalisk"/>
        </InfoArray>
        <InfoArray index="Train26" Time="40">
            <Button DefaultButtonFace="AP_SwarmHostSplitA" Requirements="AP_HaveInfestationPitAndCarrion"/>
            <Unit value="AP_SwarmHost"/>
        </InfoArray>
        <InfoArray index="Train27" Time="40">
            <Button DefaultButtonFace="AP_SwarmHostSplitB" Requirements="AP_HaveInfestationPitAndCreeper"/>
            <Unit value="AP_SwarmHost"/>
        </InfoArray>
        <InfoArray index="Train28" Time="30">
            <Button DefaultButtonFace="AP_InfestedAbomination" Requirements="AP_HaveLairAndEvolutionChamber"/>
            <Unit value="AP_InfestedAbomination"/>
        </InfoArray>
        <InfoArray index="Train30" Time="30">
            <Resource index="Minerals" value="25"/>
            <Resource index="Vespene" value="75"/>
            <Button DefaultButtonFace="AP_Scourge" Requirements="AP_HaveSpire"/>
            <Unit value="AP_Scourge"/>
            <Unit value="AP_Scourge"/>
            <Unit value=""/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_LarvaTrainSwarmling">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_Egg"/>
        <Range value="4"/>
        <InfoArray index="Train1" Time="2.4">
            <Resource index="Minerals" value="50"/>
            <Button DefaultButtonFace="AP_MorphToSwarmling" State="Restricted" Requirements="AP_HaveSpawningPoolAndSwarmling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <InfoArray index="Train2" Time="2.4">
            <Resource index="Minerals" value="50"/>
            <Button DefaultButtonFace="AP_MorphToRaptor" State="Restricted" Requirements="AP_HaveSpawningPoolAndRaptorSwarmling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilBehavior id="AP_KerriganEnhance">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="KerriganEnhance" State="Restricted">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="KerriganEnhanceOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_KerriganEnhanceBeam"/>
    </CAbilBehavior>
    <CAbilBuild id="AP_QueenBuild">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <FlagArray index="RangeIncludesBuilding" value="0"/>
        <Alert value="BuildComplete_Zerg"/>
        <InfoArray index="Build1" Unit="AP_CreepTumorQueen" Delay="2" Time="3">
            <Cooldown TimeUse="15"/>
            <Button DefaultButtonFace="AP_CreepTumor">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
        </InfoArray>
        <InfoArray index="Build2" Time="30"/>
        <InfoArray index="Build3" Time="30"/>
    </CAbilBuild>
    <CAbilBuild id="AP_OverseerBuild" parent="AP_QueenBuild">
        <InfoArray index="Build1" Delay="0"/>
    </CAbilBuild>
    <CAbilEffectTarget id="AP_QueenBurstHeal">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <TargetMessage value="Abil/TargetMessage/HealTargetMessage"/>
        <Effect index="0" value="AP_QueenBurstHealApplyBehavior"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Vital index="Energy" value="10"/>
            <Cooldown Location="Unit" TimeUse="3"/>
        </Cost>
        <TargetFilters value="Biological,Visible;Self,Enemy,Missile,Uncommandable,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSLifeFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="4"/>
        <Arc value="14.9963"/>
        <SmartValidatorArray value="healSmartTargetFilters"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy,Missile,Stasis,Dead,Invulnerable"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="healCasterMinEnergy"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <AutoCastValidatorArray value="AP_NotTimedLifeUnitAndNotLarva"/>
        <AutoCastValidatorArray value="AP_UnitOrAttackable"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_QueenBurstHeal" Requirements="AP_NotHaveAbathurBioMechanicalTransfusion"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_QueenBioMechBurstHeal" parent="AP_QueenBurstHeal">
        <TargetFilters index="0" value="Visible;Self,Enemy,Missile,Uncommandable,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveAbathurBioMechanicalTransfusion"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HotSBioPlasmidDischarge">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HotSBioPlasmidDischargeLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="10"/>
        </Cost>
        <TargetFilters value="-;Self,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <RangeSlop value="11"/>
        <PrepTime value="0"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="AP_BioPlasmidDischargeLaunchMissile"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HotSBioPlasmidDischarge"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HotSBioStasis">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HotSBioStasisLaunchMissile"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="7"/>
        <Arc value="360"/>
        <CursorEffect value="AP_HotSBioStasisSearchArea"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HotSBioStasis"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_K5DropPods">
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown>
                <Link value="K5DropPodsAP_K5DropPods"/>
                <Location value="Unit"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
        </Cost>
        <Range value="13"/>
        <Arc value="14.9963"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_K5DropPods" Requirements="AP_HaveK5DropPods"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_K5KerriganBurrow">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_K5KerriganBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.8332"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.8332"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_K5KerriganPsiStrikeMorph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <!-- The button doesn't exist -->
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_KerriganBrawlerPsiStrikeMorph"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_K5KerriganPsiStrike"/>
    </CAbilMorph>
    <CAbilMorph id="AP_K5KerriganUnburrow">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_K5Kerrigan" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_K5Leviathan">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown Location="Unit" TimeStart="300" TimeUse="300"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_K5Leviathan" Requirements="AP_HaveK5Leviathan"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_MindBolt">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MindBoltLaunchMissile"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="MindBoltAP_MindBolt" Location="Unit" TimeUse="10"/>
        </Cost>
        <TargetFilters value="Visible;Self,Player,Ally,Missile,Item,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <RangeSlop value="7"/>
        <PrepTime value="0"/>
        <ShowProgressArray index="Prep" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MindBolt" Requirements="AP_HaveK5MindBolt"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_PrimalHeal">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="30"/>
            <Cooldown Link="PrimalHealAP_PrimalHeal" Location="Unit" TimeUse="8"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PrimalHeal" Requirements="AP_HaveK5Mend"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_PrimalSlash">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PrimalSlashUpgraded"/>
        <Flags index="AbortOnAllianceChange" value="0"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="0.125"/>
        </Cost>
        <Range value="6"/>
        <TrackingArc value="360"/>
        <PrepTime value="0.125"/>
        <IgnoreFilters value="Ground;Self"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PrimalSlash" Requirements="AP_HaveK5PrimalSlash"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PsiStrikeWalk">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Location="Unit"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <PrepTime value="0.01"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PsiStrike" Requirements="AP_HaveK5PsiStrike"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PsiStrikeBlink">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cost>
            <Vital index="Energy" value="35"/>
            <Cooldown Location="Unit" TimeUse="5"/>
        </Cost>
        <PrepTime value="0.01"/>
        <Range value="500"/>
        <Arc value="0.9997"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PsiStrike"/>
        <Alignment value="Negative"/>
        <!-- <CursorEffect value="PsiStrikeTargetSearch"/> -->
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PsionicLift">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <TargetMessage value="Abil/TargetMessage/AreaTargetMessage"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="PsionicLiftAP_PsionicLift" Location="Unit" TimeUse="10"/>
        </Cost>
        <Range value="7"/>
        <CursorEffect value="AP_PsionicLiftDummySearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PsionicLift" Requirements="AP_HaveK5CrushingGrip"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SpawnBanelings">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="SpawnBanelingsAP_SpawnBanelings" Location="Unit" TimeUse="30"/>
        </Cost>
        <Range value="6"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpawnBanelings" Requirements="AP_HaveK5SpawnBanelings"/>
    </CAbilEffectTarget>
    <CAbilRevive id="AP_KerriganRevive" parent="ReviveSelf">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Revive1" DefaultButtonFace="AP_KerriganRevive"/>
        <CmdButtonArray index="ReviveAtTarget1" DefaultButtonFace="AP_KerriganRevivePlacement"/>
        <!--Flags index="Transient" value="1"/-->
        <Flags index="UnitOrderQueue" value="1"/>
        <BaseInfo>
            <Cooldown Location="Player" TimeUse="0.1"/>
        </BaseInfo>
        <Effect value="AP_KerriganReviveHeal"/>
        <Range value="10"/>
        <Offset value="0,0"/>
        <Alert value="AP_KerriganReviveComplete"/>
    </CAbilRevive>
    <CAbilRevive id="AP_NovaRevive" parent="ReviveSelf">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <CmdButtonArray index="Revive1" DefaultButtonFace="AP_KerriganRevive"/>
        <CmdButtonArray index="ReviveAtTarget1" DefaultButtonFace="AP_KerriganRevivePlacement"/>
        <Flags index="UnitOrderQueue" value="1"/>
        <BaseInfo>
            <Cooldown TimeUse="0.1"/>
        </BaseInfo>
        <Effect value="AP_KerriganReviveHeal"/>
        <Offset value="0,0"/>
        <Range value="10"/>
        <ErrorAlert value="ReviveError_Terr"/>
        <Alert value="AP_NovaReviveComplete"/>
    </CAbilRevive>
    <CAbilRally id="AP_RallyReviveCocoon">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <InfoArray index="0" UseFilters="-;Worker"/>
        <InfoArray SetOnGround="0" UseFilters="Worker;-">
            <SetValidators value="Failure"/>
        </InfoArray>
        <InfoArray SetOnGround="0">
            <SetValidators value="Failure"/>
        </InfoArray>
    </CAbilRally>
    <CAbilAugment id="AP_FenixSOACharge">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_FenixSOACharge"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
    </CAbilAugment>
    <CAbilEffectInstant id="AP_FenixSoAWhirlwind">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="4"/>
        </Cost>
        <TargetFilters value="-;Ally,Neutral,Enemy"/>
        <AutoCastRange value="2"/>
        <AutoCastValidatorArray value="AP_FenixSOAWhirlwindCheck"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_FenixWhirlwind"/>
    </CAbilEffectInstant>
    <CAbilWarpTrain id="AP_SOACasterWarpTrain">
        <InfoArray index="Train2" Time="5" Unit="AP_Dragoon">
            <Charge>
                <CountMax value="1000"/>
                <CountUse value="1"/>
                <Link value="Abil/ZealotRespawn"/>
                <Location value="Player"/>
            </Charge>
            <Button DefaultButtonFace="AP_SOADragoonRevive" Requirements="AP_HaveSOADragoonRevive"/>
        </InfoArray>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="WarpTrainersButton" value="0"/>
    </CAbilWarpTrain>
    <CAbilEffectInstant id="AP_SOAEmergencyRecall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAEmergencyRecallSearch"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAEmergencyRecall" State="Restricted"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_SOAFenixCalldown">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_FenixSOACreateUnit"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeStart="180" TimeUse="180"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_FenixSOASpawnSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAFenix" Requirements="AP_HaveSOAFenix"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_SOAGlobalCloak">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAGlobalCloakSearch"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Charge Link="Abil/AP_SOACloak"/>
            <Cooldown Link="Abil/AP_SOACloak" TimeUse="60"/>
        </Cost>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAGlobalCloak" Requirements="AP_HaveSOAGlobalCloak"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_SOAGravitonBomb">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAGravitonBombDummy"/>
        <Flags index="Transient" value="1"/>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_SOAGravitonBombSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAGravitonBomb" Requirements="AP_HaveSOAGravitonBomb"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_SOAGravitonBombActivate">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_SOAGravitonBomb" Requirements="AP_HaveSOAGravitonBomb"/>
        <CmdButtonArray index="Off" DefaultButtonFace="Cancel"/>
        <Flags index="Toggle" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <BehaviorArray value="AP_SOAGravitonBombActivate"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_SOAGravitonBombExecute">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAGravitonBombLM"/>
        <Range value="500"/>
        <Arc value="360"/>
        <PrepTime value="0.125"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAGravitonBomb" Requirements="AP_HaveSOAGravitonBomb"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAMothership">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAPurifierMothershipCreate"/>
        <Cost>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAMothership" Requirements="AP_HaveSOAMothership"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_SOAOrbitalStrikeActivate">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_SOAOrbitalStrike" Requirements="AP_HaveSOAOrbitalStrike"/>
        <CmdButtonArray index="Off" DefaultButtonFace="Cancel"/>
        <Flags index="Toggle" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <BehaviorArray value="AP_SOAOrbitalStrikeActivate"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_SOAOrbitalStrikeExecute">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAOrbitalStrikeCP"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Range value="500"/>
        <Arc value="360"/>
        <PrepTime value="0.125"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAOrbitalStrike" Requirements="AP_HaveSOAOrbitalStrike"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAOrbitalStrikeTargetingDummy">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_SOAOrbitalStrikeImpactSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAOrbitalStrike" Requirements="AP_HaveSOAOrbitalStrike"/>
    </CAbilEffectTarget>
    <CAbilBuild id="AP_SOAProxyPylon">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <FlagArray index="IgnoreUnitCost" value="1"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <InfoArray index="Build1" Unit="AP_Pylon" Time="3">
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="60"/>
            <Button DefaultButtonFace="AP_SOAProxyPylon" Requirements="AP_HaveSOAProxyPylon"/>
            <ValidatorArray value="HasVisionOfTarget"/>
        </InfoArray>
        <Range value="500"/>
        <EffectArray index="Start" value="AP_SOAProxyPylonVisualAB"/>
    </CAbilBuild>
    <CAbilEffectTarget id="AP_SOAPurifierBeam">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAPurifierBeamCU"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_SOAPurifierBeamSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAPurifierBeam" Requirements="AP_HaveSOAPurifierBeam"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAPylonPower">
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="AP_SOACaster" Location="Unit" TimeUse="60"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAPylonPower" Requirements="AP_HaveSOAPylonPower"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAPylonWeapon">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAPylonWeaponAB"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="30"/>
        </Cost>
        <TargetFilters value="-;Neutral,Enemy,Stasis,UnderConstruction,Dead"/>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAPylonOvercharge" Requirements="AP_HaveSOAPylonOvercharge"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOARecall">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAMassRecallSearch"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Charge Link="Abil/AP_SOAMassRecall"/>
            <Cooldown Link="Abil/AP_SOAMassRecall" TimeStart="60" TimeUse="60"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_SOAMassRecallSearch"/>
        <AINotifyEffect value="AP_MassRecall"/>
        <!--This effect doesn't exist -->
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOARecall" Requirements="AP_HaveNexusAndHaveSOARecall"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOARepairBeam">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOARepairBeamAB"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <TargetFilters value="Visible;Self,Neutral,Enemy,Missile,Uncommandable,UnderConstruction,Dead,Hidden"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSLifeFraction"/>
        </TargetSorts>
        <Range value="500"/>
        <Arc value="360"/>
        <AutoCastFilters value="Visible;Neutral,Enemy"/>
        <AutoCastRange value="500"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOARepairBeam" Requirements="AP_UseSOARepairBeam"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_SOAShieldRegeneration">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAShieldRegenerationStagger"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAShieldRegeneration"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_SOAStrafeAttack">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <SharedFlags index="TargetCursorVisibleInBlackMask" value="1"/>
        <Effect index="0" value="AP_SOAStrafeAttackCreateTargeter"/>
        <Cost>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <AINotifyEffect value="AP_SOAStrafeAttackCreateTargeter"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAStrafeAttack" Requirements="AP_HaveSOAStrafeAttack"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_SOAStrafeAttackActivate">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <SharedFlags index="TargetCursorVisibleInBlackMask" value="1"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_SOAStrafeAttack" Requirements="AP_HaveSOAStrafeAttack"/>
        <CmdButtonArray index="Off" DefaultButtonFace="Cancel"/>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <BehaviorArray value="AP_SOAStrafeAttackActivate"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_SOASuperChrono">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <TargetFilters value="Structure;Ally,Neutral,Enemy,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="500"/>
        <Arc value="360"/>
        <UninterruptibleArray index="Approach" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="ChronoBoost"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOASuperChrono" Requirements="AP_HaveSOASuperChrono"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_SOASuperPowerField">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SoASuperPowerFieldSearch"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOASuperPowerField"/>
    </CAbilEffectInstant>
    <CAbilBehavior id="AP_SOAThermalLanceActivate">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_SOAThermalLance" Requirements="AP_HaveSOAThermalLance"/>
        <CmdButtonArray index="Off" DefaultButtonFace="Cancel"/>
        <Flags index="Toggle" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <BehaviorArray value="AP_SOAThermalLanceActivate"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_SOAThermalLanceExecute">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAThermalLanceCP"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAThermalLance"/>
        <SharedFlags index="TargetCursorVisibleInBlackMask" value="1"/>
        <CursorEffect value="AP_SOAThermalLanceSearchWithModel"/>
        <Cost>
            <Cooldown TimeUse="0.25"/>
        </Cost>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAThermalLanceTargetingDummy">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown TimeUse="0.25"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOAThermalLance" Requirements="AP_HaveSOAThermalLance"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_SOATimeFreeze">
        <Cost>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOATimeFreeze" Requirements="AP_HaveSOATimeFreeze"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_SOATimeWarp">
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="60"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_SOASuperTimeWarpSlowSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOATimeWarp" Requirements="AP_HaveSOATimeWarp"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SOAVortex">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOAVortexCreatePersistent"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Charge Link="Abil/AP_ArtanisVortex"/>
            <Cooldown TimeStart="300" TimeUse="300"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_SOAVortexSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Vortex" Requirements="AP_HaveSOAVortex"/>
    </CAbilEffectTarget>
    <CAbilBuild id="AP_SOAWarpInReinforcements">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <FlagArray index="IgnoreUnitCost" value="1"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <InfoArray index="Build1" Unit="AP_Pylon" Time="3">
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="60"/>
            <Button DefaultButtonFace="AP_SOAWarpInReinforcements" Requirements="AP_HaveSOAWarpInReinforcements"/>
            <ValidatorArray value="HasVisionOfTarget"/>
        </InfoArray>
        <!--            <ValidatorArray value="AP_SOAWarpInReinforcementsFoodUsedLT200"/>-->
        <Range value="500"/>
        <EffectArray index="Start" value="AP_SOAWarpInReinforcementsInitialSet"/>
    </CAbilBuild>
    <CAbilEffectInstant id="AP_SoASuperShield">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SOASuperShieldDummy"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeStart="180" TimeUse="180"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SOASuperShield" State="Restricted" Requirements="AP_HaveSOASuperShield"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_HyperjumpHercules">
        <AbilSetId value="FleetwideJump"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HyperjumpCreatePrecursor"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown TimeUse="60"/>
        </Cost>
        <Range value="500"/>
        <CastIntroTime value="0"/>
        <CastOutroTime value="1.2624"/>
        <ShowProgressArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ProgressButtonArray index="Channel" value="AP_HyperjumpHercules"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HyperjumpHercules" Requirements="AP_HaveHerculesHyperjump">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_QueenClassicParasite">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_QueenClassicParasiteLM"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="-;Neutral,Enemy,Structure,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="12"/>
        <PrepTime value="0.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_QueenClassicParasite"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_QueenStukovSpawnBroodlings">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_QueenStukovSpawnBroodlingsLaunch"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="-;Player,Ally,Structure,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <PrepTime value="0.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_QueenStukovSpawnBroodlings"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SIQueenFungalGrowth">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SIQueenFungalGrowthLM"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <Range value="10"/>
        <CursorEffect value="AP_FungalGrowthSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SIQueenFungalGrowth" Requirements="AP_HaveSIQueenFungalGrowth"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HercGrapple">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HercGrappleCreatePlaceholder"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="9"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HercGrapple"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HercGrapplePull">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GrapplePullStartSwitch"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="9"/>
        <TargetFilters value="Ground,Visible;Self,Structure,Heroic,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HercGrapple" Requirements="AP_HaveHERCGrapplePull"/>
    </CAbilEffectTarget>
   <CAbilEffectTarget id="AP_PowerRedirection">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PowerRedirectionSet"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown TimeUse="30"/>
        </Cost>
        <TargetFilters value="Visible;Self,Neutral,Enemy,Heroic,Missile,Item,Uncommandable,Stasis,Dead,Hidden"/>
        <Range value="8"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryChronoBeam"/>
    </CAbilEffectTarget>
   <CAbilEffectTarget id="AP_PowerRedirectionUpgrade">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PowerRedirectionBuildingSet"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="25"/>
        </Cost>
        <TargetFilters value="Visible;Self,Neutral,Enemy,Heroic,Missile,Item,Uncommandable,Stasis,Dead,Hidden"/>
        <Range value="8"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryChronoBeam" Requirements="AP_HavePowerRedirectionInstalled"/>
    </CAbilEffectTarget>
   <CAbilEffectInstant id="AP_PowerRedirectionInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PowerRedirection" Requirements="AP_CanInstallPowerRedirection"/>
        <Cost>
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="50"/>
        </Cost>
        <Effect index="0" value="AP_PowerRedirectionInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_RevitalizeShields">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_RevitalizeShieldsSearchArea"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_RevitalizeShieldsSearchArea"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RevitalizeShields" Requirements="AP_HaveRevitalizeShieldsInstalled"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BatteryOvercharge">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BatteryOverchargeAB"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="15"/>
        </Cost>
        <Range value="8"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BatteryOvercharge"/>
        <TargetFilters value="-;Neutral,Enemy,Stasis,UnderConstruction,Dead"/>
    </CAbilEffectTarget>
   <CAbilEffectTarget id="AP_BatteryOverchargeUpgrade">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BatteryOverchargeAB"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="15"/>
        </Cost>
        <Range value="8"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BatteryOvercharge" Requirements="AP_HaveBatteryOverchargeInstalled"/>
        <TargetFilters value="-;Neutral,Enemy,Stasis,UnderConstruction,Dead"/>
    </CAbilEffectTarget>
   <CAbilEffectInstant id="AP_BatteryOverchargeInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BatteryOvercharge" Requirements="AP_CanInstallBatteryOvercharge"/>
        <Cost>
            <Resource index="Minerals" value="25"/>
            <Resource index="Vespene" value="25"/>
        </Cost>
        <Effect index="0" value="AP_BatteryOverchargeInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SummonDeathFleet">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SummonDeathFleet"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown TimeUse="300"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidRayTaldarim" Requirements="AP_HaveSummonDeathFleetInstalled"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_RefinedWeaponsInstallPurifier">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RefinedWeaponsPurifier"/>
        <Cost>
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="75"/>
        </Cost>
        <Effect index="0" value="AP_RefinedWeaponsABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_BolsteredPlatingInstallPurifier">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BolsteredPlatingPurifier"/>
        <Cost>
            <Resource index="Minerals" value="75"/>
            <Resource index="Vespene" value="25"/>
        </Cost>
        <Effect index="0" value="AP_BolsteredPlatingABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_OptimizedEnergyUsageInstallPurifier">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OptimizedEnergyUsagePurifier"/>
        <Cost>
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="100"/>
        </Cost>
        <Effect index="0" value="AP_OptimizedEnergyUsageABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_RefinedWeaponsInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RefinedWeaponsAiur"/>
        <Cost>
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="50"/>
        </Cost>
        <Effect index="0" value="AP_RefinedWeaponsABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_BolsteredPlatingInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BolsteredPlatingAiur"/>
        <Cost>
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="25"/>
        </Cost>
        <Effect index="0" value="AP_BolsteredPlatingABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_OptimizedEnergyUsageInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OptimizedEnergyUsageAiur"/>
        <Cost>
            <Resource index="Minerals" value="25"/>
            <Resource index="Vespene" value="100"/>
        </Cost>
        <Effect index="0" value="AP_OptimizedEnergyUsageABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_RefinedWeaponsInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RefinedWeaponsTaldarim" Requirements="AP_CanInstallTaldarimAuxiliary"/>
        <Cost>
            <Resource index="Minerals" value="75"/>
            <Resource index="Vespene" value="75"/>
        </Cost>
        <Effect index="0" value="AP_RefinedWeaponsABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_BolsteredPlatingInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BolsteredPlatingTaldarim" Requirements="AP_CanInstallTaldarimAuxiliary"/>
        <Cost>
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="50"/>
        </Cost>
        <Effect index="0" value="AP_BolsteredPlatingABSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_OptimizedEnergyUsageInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OptimizedEnergyUsageTaldarim" Requirements="AP_CanInstallTaldarimAuxiliary"/>
        <Cost>
            <Resource index="Minerals" value="75"/>
            <Resource index="Vespene" value="125"/>
        </Cost>
        <Effect index="0" value="AP_OptimizedEnergyUsageABSet"/>
    </CAbilEffectInstant>
    <CAbilBehavior id="AP_MothershipTaldarimBaseAttackSwap">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_MothershipTaldarimBaseAttackEnable" Requirements="AP_HaveHungerForSlaughter">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_MothershipTaldarimBaseAttackDisable" Requirements="AP_HaveHungerForSlaughter">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_EnableMothershipTaldarimAttackSwap"/>
    </CAbilBehavior>
    <CAbilResearch id="AP_MothershipAuxiliaryOneTimeInstall">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <InfoArray index="Research1" Time="0" Upgrade="AP_PurifiedEmbers">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_PurifiedEmbers" State="Restricted" Requirements="AP_CanInstallPurifiedEmbers"/>
        </InfoArray>
        <InfoArray index="Research2" Time="0" Upgrade="AP_HungerForSlaughter">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_HungerForSlaughter" State="Restricted" Requirements="AP_CanInstallHungerForSlaughter"/>
        </InfoArray>        
        <InfoArray index="Research3" Time="0" Upgrade="AP_RecursivePhotons">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="AP_RecursivePhotons" State="Restricted" Requirements="AP_CanInstallRecursivePhotons"/>
        </InfoArray>
        <InfoArray index="Research4" Time="0" Upgrade="AP_MothershipTaldarimHangar">
            <Resource index="Minerals" value="275"/>
            <Resource index="Vespene" value="200"/>
            <Button DefaultButtonFace="AP_InterceptorInstall" State="Restricted" Requirements="AP_HaveMothershipHangarUpgrade"/>
        </InfoArray>
        <InfoArray index="Research5" Time="0" Upgrade="AP_MothershipPurifierHangar">
            <Resource index="Minerals" value="275"/>
            <Resource index="Vespene" value="200"/>
            <Button DefaultButtonFace="AP_InterceptorMothershipPurifier" State="Restricted" Requirements="AP_HaveMothershipHangarUpgrade"/>
        </InfoArray>        
        <InfoArray index="Research6" Time="0" Upgrade="AP_MothershipAiurHangar">
            <Resource index="Minerals" value="275"/>
            <Resource index="Vespene" value="200"/>
            <Button DefaultButtonFace="AP_InterceptorMothershipAiur" State="Restricted" Requirements="AP_HaveMothershipHangarUpgrade"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilEffectInstant id="AP_PlanetCrackerInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PlanetCracker" Requirements="AP_CanInstallPlanetCracker"/>
        <Cost>
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="200"/>
        </Cost>
        <Effect index="0" value="AP_PlanetCrackerInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ThermalLanceInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThermalLance" Requirements="AP_CanInstallThermalLance"/>
        <Cost>
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="50"/>
        </Cost>
        <Effect index="0" value="AP_ThermalLanceInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_RevitalizeShieldsInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RevitalizeShields" Requirements="AP_CanInstallRevitalizeShields"/>
        <Cost>
            <Resource index="Minerals" value="75"/>
            <Resource index="Vespene" value="75"/>
        </Cost>
        <Effect index="0" value="AP_RevitalizeShieldsInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_AstralRestorationInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AstralRestoration" Requirements="AP_CanInstallAstralRestoration"/>
        <Cost>
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
        </Cost>
        <Effect index="0" value="AP_AstralRestorationInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_OverloadWeaponSystemsInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_OverloadWeaponSystems" Requirements="AP_CanInstallOverloadWeaponSystems"/>
        <Cost>
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
        </Cost>
        <Effect index="0" value="AP_OverloadWeaponSystemsInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_SummonDeathFleetInstall">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SummonDeathFleet" Requirements="AP_CanInstallSummonDeathFleet"/>
        <Cost>
            <Resource index="Minerals" value="125"/>
            <Resource index="Vespene" value="75"/>
        </Cost>
        <Effect index="0" value="AP_SummonDeathFleetInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_BlackHoleInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipBlackHole" Requirements="AP_CanInstallBlackHole"/>
        <Cost>
            <Resource index="Minerals" value="75"/>
            <Resource index="Vespene" value="75"/>
        </Cost>
        <Effect index="0" value="AP_BlackHoleInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_TimeFieldInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TimeField" Requirements="AP_CanInstallTimeField"/>
        <Cost>
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
        </Cost>
        <Effect index="0" value="AP_TimeFieldInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_MassRecallInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipCoreMassRecall" Requirements="AP_CanInstallMassRecall"/>
        <Cost>
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="75"/>
        </Cost>
        <Effect index="0" value="AP_MassRecallInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NexusRecallInstallAiur">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipCoreNexusRecall" Requirements="AP_CanInstallNexusRecall"/>
        <Cost>
            <Resource index="Minerals" value="75"/>
            <Resource index="Vespene" value="100"/>
        </Cost>
        <Effect index="0" value="AP_NexusRecallInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_BlackHoleInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipBlackHole" Requirements="AP_CanInstallBlackHole"/>
        <Cost>
            <Resource index="Minerals" value="25"/>
            <Resource index="Vespene" value="25"/>
        </Cost>
        <Effect index="0" value="AP_BlackHoleInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_TimeFieldInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/> 
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TimeField" Requirements="AP_CanInstallTimeField"/>
        <Cost>
            <Resource index="Minerals" value="25"/>
            <Resource index="Vespene" value="25"/>
        </Cost>
        <Effect index="0" value="AP_TimeFieldInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_MassRecallInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipCoreMassRecall" Requirements="AP_CanInstallMassRecall"/>
        <Cost>
            <Resource index="Minerals" value="25"/>
        </Cost>
        <Effect index="0" value="AP_MassRecallInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_NexusRecallInstallTaldarim">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipCoreNexusRecall" Requirements="AP_CanInstallNexusRecall"/>
        <Cost>
            <Resource index="Vespene" value="25"/>
        </Cost>
        <Effect index="0" value="AP_NexusRecallInstallSet"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_PlanetCracker">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PlanetCrackerSet"/>
        <Range value="11"/>
        <Arc value="360"/>
        <Cost>
            <Vital index="Energy" value="150"/>
            <Cooldown TimeUse="360"/>
        </Cost>
        <UninterruptibleArray index="Approach" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_PlanetCracker" Requirements="AP_HavePlanetCrackerInstalled"/>
        <PrepTime value="0.5"/>
        <CastIntroTime value="0.5"/>
        <FinishTime value="0.5"/>
    </CAbilEffectTarget>                                                            
    <CAbilEffectTarget id="AP_TimeField">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_TimeFieldCreatePersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CursorEffect value="AP_TimeFieldSearchArea"/>
        <AINotifyEffect value="AP_TimeFieldCreatePersistent"/>
        <Range value="9"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TimeField"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_TimeFieldEmpowered">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_TimeFieldEmpoweredCreatePersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CursorEffect value="AP_TimeFieldEmpoweredSearchArea"/>
        <AINotifyEffect value="AP_TimeFieldEmpoweredCreatePersistent"/>
        <Range value="9"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TimeField" Requirements="AP_HaveTimeFieldInstalled"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_TimeFieldTaldarim">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_TimeFieldTaldarimCreatePersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CursorEffect value="AP_TimeFieldEmpoweredSearchArea"/>
        <AINotifyEffect value="AP_TimeFieldTaldarimCreatePersistent"/>
        <Range value="9"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TimeField" Requirements="AP_HaveTimeFieldInstalled"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MothershipCoreNexusRecall">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MothershipCoreNexusRecallPrepare"/>
        <Range value="500"/>
        <Arc value="360"/>
        <AINotifyEffect value="MassRecall"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown TimeUse="30"/>
        </Cost>
        <CursorEffect value="AP_MothershipCoreNexusRecallSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipCoreNexusRecall"/>
        <TargetFilters value="-;Ally,Neutral,Enemy"/>
        <Flags index="AllowMovement" value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MothershipNexusRecall">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MothershipNexusRecallPrepare"/>
        <Range value="500"/>
        <Arc value="360"/>
        <AINotifyEffect value="MassRecall"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="15"/>
        </Cost>
        <CursorEffect value="AP_MothershipNexusRecallSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MothershipNexusRecall" Requirements="AP_HaveNexusRecallInstalled"/>
        <TargetFilters value="-;Ally,Neutral,Enemy"/>
        <Flags index="AllowMovement" value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MothershipMassRecall">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MothershipMassRecallSearch"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="15"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CursorEffect value="AP_MothershipMassRecallSearch"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArbiterMPRecall" Requirements="AP_HaveMassRecallInstalled"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_MorphToMothershipPurifier">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToMothershipPurifier" Requirements="AP_PurifierMothershipRequirements"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="AP_CancelMothershipMorph"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Score="1" Unit="AP_MothershipPurifier">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="110"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="110"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="110"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="110"/>
            </SectionArray>
        </InfoArray>
        <ProgressButton value="AP_MorphToMothership"/>
        <Alert value="AP_MothershipComplete"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphToMothershipAiur">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToMothershipAiur" Requirements="AP_AiurMothershipRequirements"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="AP_CancelMothershipMorph"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Score="1" Unit="AP_MothershipAiur">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="95"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="95"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="95"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="95"/>
            </SectionArray>
        </InfoArray>
        <ProgressButton value="AP_MorphToMothership"/>
        <Alert value="AP_MothershipComplete"/>
    </CAbilMorph>
    <CAbilRally id="AP_SIInfestedBunkerRally">
        <EditorCategories value="Race:InfestedTerran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Rally1"/>
        <InfoArray/>
    </CAbilRally>
    <CAbilMorphPlacement id="AP_SIInfestedBunkerRoot" parent="AP_SIBuildingRoot" unit="AP_SIInfestedBunker">
        <EditorCategories value="Race:InfestedTerran,AbilityorEffectType:MorphsandBurrows"/>
        <InfoTooltipPriority value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SIInfestedBunkerRoot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="RallyReset" value="0"/>
        <InfoArray index="0" Unit="AP_SIInfestedBunker" CollideRange="0" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3"/>
            </SectionArray>
        </InfoArray>
        <ProgressButton value="AP_SpineCrawlerRootCancel"/>
    </CAbilMorphPlacement>
    <CAbilMorph id="AP_AutoMorphToInfestedBunker">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveZergCreepStomach"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_SIInfestedBunker" CollideRange="0"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_SIInfestedBunkerTrainMarine">
        <Effect index="0" value="AP_SIInfestedBunkerAutoSpawnerDummyMU"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown TimeStart="30" TimeUse="30"/>
        </Cost>
        <AutoCastFilters value="Visible;Ally,Neutral,Enemy"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_InfestedTerrans"/>
    </CAbilEffectInstant>
    <CAbilTransport id="AP_SIInfestedBunkerTransport">
        <AbilSetId value="ULdS"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Load" DefaultButtonFace="BunkerLoad" Requirements="AP_StukovInfestedBunkerCargo"/>
        <CmdButtonArray index="UnloadAll" DefaultButtonFace="BunkerUnloadAll">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Range value="0"/>
        <MaxCargoCount value="4"/>
        <MaxCargoSize value="2"/>
        <TotalCargoSpace value="4"/>
        <LoadCargoBehavior value="AP_BunkerWeaponRangeBonus"/>
        <LoadCargoEffect value="AP_SIInfestedBunkerBunkerLoadSet"/>
        <UnloadCargoEffect value="AP_SIInfestedBunkerBunkerUnloadSet"/>
        <TargetFilters value="Biological,Visible;Ally,Neutral,Enemy,Dead,Hidden"/>
        <LoadValidatorArray value="AP_IsInfestedMarineOrInfestedTrooper"/>
        <LoadValidatorArray value="AP_NotWidowMineTarget"/>
        <LoadValidatorArray value="AP_IsNotHellionTank"/>
    </CAbilTransport>
    <CAbilMorph id="AP_SIInfestedBunkerUproot" parent="AP_SIBuildingUproot" unit="AP_SIInfestedBunkerUprooted">
        <AbilSetId value="Unsieged"/>
        <EditorCategories value="Race:InfestedTerran,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SIInfestedBunkerUproot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="RallyReset" value="0"/>
        <InfoArray index="0" Unit="AP_SIInfestedBunkerUprooted">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="3.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilRally id="AP_RallyInfestedCommandCenter">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
    </CAbilRally>
    <CAbilBuild id="AP_SIAdvancedBuild">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <FlagArray index="Interruptible" value="1"/>
        <FlagArray index="PeonDisableCollision" value="1"/>
        <!--        TODO: implement any of these which are necessary -->
        <!--        <InfoArray index="Build1" Unit="SICommandCenter" Time="100">-->
        <!--            <Button DefaultButtonFace="SICommandCenter"/>-->
        <!--        </InfoArray>-->
        <!--        <InfoArray index="Build3" Unit="SIRefinery" Time="30">-->
        <!--            <Button DefaultButtonFace="SIRefinery"/>-->
        <!--            <ValidatorArray value="HasVespene"/>-->
        <!--        </InfoArray>-->
                <InfoArray index="Build4" Unit="AP_SIBarracks" Time="60">
                    <Button DefaultButtonFace="AP_SIBarracks"/>
                </InfoArray>
        <!--        <InfoArray index="Build5" Unit="SIEngineeringBay" Time="35">-->
        <!--            <Button DefaultButtonFace="SIEngineeringBay" Requirements="HaveSICommandCenter"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build6" Unit="AP_SIMissileTurret" Time="25">
            <Button DefaultButtonFace="AP_SIMissileTurret" Requirements="AP_HaveSIBarracks"/>
        </InfoArray>
        <InfoArray index="Build11" Unit="AP_SIFactory" Time="60">
            <Button DefaultButtonFace="AP_SIFactory"/>
        </InfoArray>
        <InfoArray index="Build12" Unit="AP_SIStarport" Time="50">
            <Button DefaultButtonFace="AP_SIStarport"/>
        </InfoArray>
        <!--        <InfoArray index="Build14" Unit="SIArmory" Time="65">-->
        <!--            <Button DefaultButtonFace="SIArmory" Requirements="HaveInfestedFactory"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build15" Unit="AP_SIInfestedBunker" Time="45">
            <Button DefaultButtonFace="AP_SIInfestedBunker" Requirements="AP_HaveSIBarracks"/>
        </InfoArray>
        <!--            <Button DefaultButtonFace="AP_SIInfestedBunker" Requirements="HaveInfestedBarracks"/>-->
        <!--        <InfoArray index="Build17" Unit="SICivilianStructure" Time="60">-->
        <!--            <Button DefaultButtonFace="SICivilianStructure" Requirements="BuildInfestedCivilianStructure"/>-->
        <!--        </InfoArray>-->
        <FidgetDelayMin value="5"/>
        <FidgetDelayMax value="10"/>
        <ConstructionMover value="Construction"/>
    </CAbilBuild>
    <CAbilTrain id="AP_SIMorphtoInfestedSCV">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Activity value="UI/Spawning"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_SICocoonInfestedSCV"/>
        <InfoArray index="Train1" Time="17" Effect="">
            <Resource index="Minerals" value="50"/>
            <Button DefaultButtonFace="AP_SISCV">
                <Flags index="UseDefaultButton" value="1"/>
            </Button>
            <Unit value="AP_SISCV"/>
            <Flags index="AutoCast" value="1"/>
            <Flags index="AutoCastOn" value="1"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_SICommandCenterTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <InfoArray index="Train1" Effect="AP_CocoonCreateSet">
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="16"/>
                <TimeUse value="16"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown TimeStart="20"/>
            <Button DefaultButtonFace="AP_SISCV">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Unit value="AP_SICocoonInfestedSCV"/>
            <Flags index="InheritRally" value="1"/>
        </InfoArray>
        <!--        <InfoArray index="Train3" Effect="AP_CocoonCreateSet">-->
        <!--            <Charge>-->
        <!--                <CountMax value="5"/>-->
        <!--                <CountStart value="3"/>-->
        <!--                <CountUse value="1"/>-->
        <!--                <Location value="Unit"/>-->
        <!--                <TimeStart value="16"/>-->
        <!--                <TimeUse value="16"/>-->
        <!--                <Flags index="EnableChargeTimeQueuing" value="1"/>-->
        <!--            </Charge>-->
        <!--            <Button DefaultButtonFace="Overlord"/>-->
        <!--            <Unit value="SICocoonInfestedOverlord"/>-->
        <!--            <Flags index="InheritRally" value="1"/>-->
        <!--        </InfoArray>-->
        <Alert value=""/>
        <Flags index="UnitOrderQueue" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <Range value="5"/>
    </CAbilTrain>
    <CAbilMorphPlacement id="AP_SIBarracksLand" parent="AP_SIBuildingRoot" unit="AP_SIBarracks"/>
    <CAbilMorph id="AP_SIBarracksLiftOff" parent="AP_SIBuildingUproot" unit="AP_SIBarracksFlying"/>
    <CAbilTrain id="AP_SIBarracksTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Flags index="UnitOrderQueue" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <Range value="5"/>
        <InfoArray index="Train1" Effect="AP_CocoonCreateSet">
            <Charge>
                <CountMax value="10"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="5"/>
                <TimeUse value="5"/>
            </Charge>
            <Button DefaultButtonFace="AP_SIInfestedMarine"/>
            <Unit value="AP_SICocoonInfestedMarine"/>
            <Flags index="InheritRally" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_SIMorphtoInfestedMarine">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Activity value="UI/Spawning"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_SICocoonInfestedMarine"/>
        <InfoArray index="Train1" Time="10" Effect="AP_SIBarracksTrainTimedLifeAB">
            <Resource index="Minerals" value="15"/>
            <Button DefaultButtonFace="AP_SIInfestedMarine">
                <Flags index="UseDefaultButton" value="1"/>
            </Button>
            <Unit value="AP_SIInfestedMarine"/>
            <Flags index="AutoCast" value="1"/>
            <Flags index="AutoCastOn" value="1"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilMorph id="StarportReactorMorph">
        <!-- Override -->
        <!-- Exclude AP_Barracks from all Factory-like so for AP_Barracks AP_FactoryReactorMorph is called instead -->
        <CmdButtonArray index="Execute" Requirements="AP_ShowIfHaveVanillaStarportAddOnParent"/>
    </CAbilMorph>
    <CAbilMorph id="BarracksTechLabMorph">
        <!-- Override -->
        <!-- Exclude AP_Barracks from all Barracks-like so for AP_Barracks AP_BarracksReactorMorph is called instead -->
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLab" Requirements="AP_ShowIfHaveVanillaBarrAddOnParent"/>
    </CAbilMorph>
    <CAbilMorph id="FactoryTechLabMorph">
        <!-- Override -->
        <!-- Exclude AP_Factory from all Factory-like so for AP_Factory AP_FactoryReactorMorph is called instead -->
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLab" Requirements="AP_ShowIfHaveVanillaFactAddOnParent"/>
    </CAbilMorph>
    <CAbilMorph id="StarportTechLabMorph">
        <!-- Override -->
        <!-- Exclude AP_Starport from all Factory-like so for AP_Starport AP_FactoryReactorMorph is called instead -->
        <CmdButtonArray index="Execute" DefaultButtonFace="TechLab" Requirements="AP_ShowIfHaveVanillaStarportAddOnParent"/>
    </CAbilMorph>
    <CAbilAttack id="AP_BunkerAttack" parent="attack">
        <CmdButtonArray index="Execute" DefaultButtonFace="BunkerAttack" Requirements="AP_BunkerAttack"/>
    </CAbilAttack>
    <CAbilStop id="AP_BunkerStop">
        <CmdButtonArray index="Stop" DefaultButtonFace="StopBunker" Requirements="AP_BunkerAttack"/>
        <CmdButtonArray index="HoldFire" DefaultButtonFace="HoldFireSpecial"/>
        <CmdButtonArray index="Cheer" DefaultButtonFace=""/>
        <CmdButtonArray index="Dance" DefaultButtonFace=""/>
    </CAbilStop>
    <CAbilTransport id="AP_BunkerTransport">
        <AbilSetId value="ULdS"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Load" DefaultButtonFace="BunkerLoad"/>
        <CmdButtonArray index="UnloadAll" DefaultButtonFace="BunkerUnloadAll">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Range value="0"/>
        <MaxCargoCount value="4"/>
        <MaxCargoSize value="2"/>
        <TotalCargoSpace value="4"/>
        <LoadCargoBehavior value="AP_BunkerWeaponRangeBonus"/>
        <TargetFilters value="Biological,Visible;Ally,Neutral,Enemy,Dead,Hidden"/>
        <LoadValidatorArray value="RequiresTerran"/>
        <LoadValidatorArray value="AP_IsNotHellionTank"/>
    </CAbilTransport>
    <CAbilRedirectTarget id="AP_AttackRedirect">
        <Abil value="attack"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AttackRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectTarget>
    <CAbilBehavior id="AP_SalvageBunker" parent="Salvage">
        <Name value="Abil/Name/AP_SalvageBunker"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_SalvageBunkerRefund" parent="Refund">
        <Name value="Abil/Name/AP_SalvageBunkerRefund"/>
        <Cost>
            <Resource index="Minerals" value="-100"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilBehavior id="AP_SalvageShared">
        <Name value="Abil/Name/Salvage"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="On" DefaultButtonFace="Salvage">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_SalvageShared"/>
        <ValidatorArray value="HasNoCargo"/>
    </CAbilBehavior>
    <CAbilRedirectInstant id="AP_StopRedirect">
        <Abil value="stop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="StopRedirect">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilRedirectInstant>
    <CAbilRedirectTarget id="AP_healRedirect"/>
    <CAbilTrain id="AP_StarportTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Activity value="UI/Building"/>
        <InfoArray index="Train1" Time="42">
            <Button DefaultButtonFace="AP_Medivac" State="Restricted"/>
            <Unit value="AP_Medivac"/>
        </InfoArray>
        <InfoArray index="Train2" Time="60">
            <Button DefaultButtonFace="AP_Banshee" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Banshee"/>
        </InfoArray>
        <InfoArray index="Train3" Time="60">
            <Button DefaultButtonFace="AP_Raven" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Raven"/>
        </InfoArray>
        <InfoArray index="Train4" Time="110">
            <Button DefaultButtonFace="AP_Battlecruiser" State="Restricted" Requirements="AP_HaveAttachedStarportTechLabAndFusionCore"/>
            <Unit value="AP_Battlecruiser"/>
        </InfoArray>
        <InfoArray index="Train5" Time="42">
            <Button DefaultButtonFace="AP_VikingFighter" State="Restricted"/>
            <Unit value="AP_VikingFighter"/>
        </InfoArray>
        <InfoArray index="Train6" Time="70">
            <Button DefaultButtonFace="AP_BuildHercules" State="Restricted" Requirements="AP_HaveAttachedStarportTechLabAndFusionCore"/>
            <Unit value="AP_Hercules"/>
        </InfoArray>
        <InfoArray index="Train7" Time="60">
            <Button DefaultButtonFace="AP_BuildScienceVessel" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_ScienceVessel"/>
        </InfoArray>
        <InfoArray index="Train8" Time="50">
            <Button DefaultButtonFace="AP_Wraith" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_Wraith"/>
        </InfoArray>
        <InfoArray index="Train9" Time="60">
            <Button DefaultButtonFace="AP_Liberator" State="Restricted"/>
            <Unit value="AP_Liberator"/>
        </InfoArray>
        <InfoArray index="Train10" Time="42">
            <Button DefaultButtonFace="AP_ValkyrieSCBW" State="Restricted" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_ValkyrieSCBW"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_SummonMercenaries">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoArray index="Train1" Effect="AP_MercGroundDrop">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Link value="AP_KelMorianMercs"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_KelMorianMercs"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireKelmorianMiners" State="Restricted" Requirements="AP_MercCompoundInfantry"/>
            <Unit value="AP_WarPig"/>
            <Unit value="AP_WarPig"/>
            <Unit value="AP_WarPig"/>
            <Unit value="AP_WarPig"/>
        </InfoArray>
        <InfoArray index="Train2" Effect="AP_MercGroundDrop">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="75"/>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_DevilDogs"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_DevilDogs"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireDevilDogs" State="Restricted" Requirements="AP_MercCompoundInfantry"/>
            <Unit value="AP_DevilDog"/>
            <Unit value="AP_DevilDog"/>
        </InfoArray>
        <InfoArray index="Train3" Effect="AP_MercGroundDrop">
            <Resource index="Vespene" value="25"/>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_SpartanCompany"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_SpartanCompany"/>
                <Location value="Player"/>
                <TimeStart value="360"/>
                <TimeUse value="360"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireSpartanCompany" State="Restricted" Requirements="AP_MercCompoundVehicles"/>
            <Unit value="AP_SpartanCompany"/>
            <Unit value="AP_SpartanCompany"/>
        </InfoArray>
        <InfoArray index="Train4" Effect="AP_MercGroundDrop">
            <Resource index="Vespene" value="25"/>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_HammerSecurities"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_HammerSecurities"/>
                <Location value="Player"/>
                <TimeStart value="360"/>
                <TimeUse value="360"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireHammerSecurities" State="Restricted" Requirements="AP_MercCompoundInfantry"/>
            <Unit value="AP_HammerSecurity"/>
            <Unit value="AP_HammerSecurity"/>
        </InfoArray>
        <InfoArray index="Train5" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_SiegeBreakers"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_SiegeBreakers"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireSiegeBreakers" State="Restricted" Requirements="AP_MercCompoundVehicles"/>
            <Unit value="AP_SiegeBreaker"/>
            <Unit value="AP_SiegeBreaker"/>
        </InfoArray>
        <InfoArray index="Train6" Effect="AP_MercAirDrop">
            <Resource index="Minerals" value="25"/>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_HelsAngels"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_HelsAngels"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireHelsAngels" State="Restricted" Requirements="AP_MercCompoundStarships"/>
            <Unit value="AP_HelsAngelFighter"/>
            <Unit value="AP_HelsAngelFighter"/>
            <Unit value="AP_HelsAngelFighter"/>
        </InfoArray>
        <InfoArray index="Train7" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_DuskWing"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_DuskWing"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireDuskWing" State="Restricted" Requirements="AP_MercCompoundStarships"/>
            <Unit value="AP_DuskWing"/>
            <Unit value="AP_DuskWing"/>
        </InfoArray>
        <InfoArray index="Train8" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_DukesRevenge"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_DukesRevenge"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireDukesRevenge" State="Restricted" Requirements="AP_MercCompoundStarships"/>
            <Unit value="AP_DukesRevenge"/>
        </InfoArray>
        <InfoArray index="Train9" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_MercMedic"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercMedic"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireMercMedic" State="Restricted" Requirements="AP_MercCompoundInfantry"/>
            <Unit value="AP_MercMedic"/>
            <Unit value="AP_MercMedic"/>
            <Unit value="AP_MercMedic"/>
        </InfoArray>
        <InfoArray index="Train10" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_MercReaper"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercReaper"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireMercReaper" State="Restricted" Requirements="AP_MercCompoundInfantry"/>
            <Unit value="AP_MercReaper"/>
            <Unit value="AP_MercReaper"/>
            <Unit value="AP_MercReaper"/>
        </InfoArray>
        <InfoArray index="Train11" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_MercWraith"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercWraith"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireMercWraith" State="Restricted" Requirements="AP_MercCompoundStarships"/>
            <Unit value="AP_MercWraith"/>
            <Unit value="AP_MercWraith"/>
        </InfoArray>
        <InfoArray index="Train12" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_MercLiberator"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercLiberator"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireMercLiberator" State="Restricted" Requirements="AP_MercCompoundStarships"/>
            <Unit value="AP_MercLiberator"/>
            <Unit value="AP_MercLiberator"/>
        </InfoArray>
        <InfoArray index="Train13" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_BrynhildFighter"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_BrynhildFighter"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireBrynhildFighter" State="Restricted" Requirements="AP_MercCompoundStarships"/>
            <Unit value="AP_BrynhildFighter"/>
            <Unit value="AP_BrynhildFighter"/>
        </InfoArray>
        <InfoArray index="Train14" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_MercThor"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercThor"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HireMercThor" State="Restricted" Requirements="AP_MercCompoundVehicles"/>
            <Unit value="AP_MercThor"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_SupplyDrop">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SupplyDropApplyTempBehavior"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="AP_SupplyDrop"/>
        </Cost>
        <TargetFilters value="Structure,Visible;Neutral,Enemy,UnderConstruction"/>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="SupplyDrop" Requirements="AP_HaveOrbitalRelaySupplyDrop"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_UpgradeToPlanetaryFortress">
        <EditorCategories value="Race:Terran,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PlanetaryFortress" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="CancelUpgradeMorph"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_PlanetaryFortress">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="50"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="50"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="50"/>
            </SectionArray>
        </InfoArray>
        <Alert value="UpgradeComplete"/>
        <ValidatorArray value="HasNoCargo"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnPrimary"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnDeath"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawn"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnCounter"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnTrain"/>
    </CAbilMorph>
    <CAbilBuild id="AP_TerranBuild">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <FlagArray index="Interruptible" value="1"/>
        <FlagArray index="PeonDisableCollision" value="1"/>
        <InfoArray index="Build1" Unit="AP_CommandCenter" Time="100">
            <Button DefaultButtonFace="AP_CommandCenter" Requirements="AP_HideCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_SupplyDepot" Time="30">
            <Button DefaultButtonFace="AP_SupplyDepot" Requirements="AP_HideSupplyDepot"/>
        </InfoArray>
        <InfoArray index="Build3" Unit="AP_Refinery" Time="30">
            <Button DefaultButtonFace="AP_Refinery" Requirements="AP_HideRefinery"/>
            <ValidatorArray value="HasVespene"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_Barracks" Time="60">
            <Button DefaultButtonFace="AP_Barracks" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build5" Unit="AP_EngineeringBay" Time="35">
            <Button DefaultButtonFace="AP_EngineeringBay" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build6" Unit="AP_MissileTurret" Time="25">
            <Button DefaultButtonFace="AP_MissileTurret" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        </InfoArray>
        <InfoArray index="Build7" Unit="AP_Bunker" Time="30">
            <Button DefaultButtonFace="AP_Bunker" State="Restricted" Requirements="AP_HideFortifiedBunker"/>
        </InfoArray>
        <InfoArray index="Build8" Unit="AP_PsiDisruptor" Time="50">
            <Button DefaultButtonFace="AP_PsiDisruptor" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Build9" Unit="AP_SensorTower" Time="25">
            <Button DefaultButtonFace="AP_SensorTower" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        </InfoArray>
        <InfoArray index="Build10" Unit="AP_GhostAcademy" Time="40">
            <Button DefaultButtonFace="AP_GhostAcademy" State="Restricted" Requirements="AP_CanBuildShadowOps"/>
        </InfoArray>
        <InfoArray index="Build11" Unit="AP_Factory" Time="60">
            <Button DefaultButtonFace="AP_Factory" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build12" Unit="AP_Starport" Time="50">
            <Button DefaultButtonFace="AP_Starport" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build13" Unit="AP_MercCompound" Time="50">
            <Button DefaultButtonFace="AP_MercCompound" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build14" Unit="AP_Armory" Time="65">
            <Button DefaultButtonFace="AP_Armory" State="Restricted" Requirements="AP_HaveFactoryOrStarport"/>
        </InfoArray>
        <InfoArray index="Build16" Unit="AP_FusionCore" Time="80">
            <Button DefaultButtonFace="AP_FusionCore" State="Restricted" Requirements="HaveStarport"/>
        </InfoArray>
        <InfoArray index="Build19" Unit="AP_AutomatedRefinery" Time="30">
            <Button DefaultButtonFace="AP_AutomatedRefinery" Requirements="AP_UseAutomatedRefinery"/>
        </InfoArray>
        <InfoArray index="Build20" Unit="AP_PerditionTurret" Time="35">
            <Button DefaultButtonFace="AP_PerditionTurret" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        </InfoArray>
        <InfoArray index="Build21" Unit="AP_CommandCenter" Time="100">
            <Button DefaultButtonFace="AP_CommandCenterOrbRelay" State="Restricted" Requirements="AP_UseOrbitalRelay"/>
        </InfoArray>
        <InfoArray index="Build22" Unit="AP_HiveMindEmulator" Time="50">
            <Button DefaultButtonFace="AP_HiveMindEmulator" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Build23" Unit="AP_Bunker" Time="30">
            <Button DefaultButtonFace="AP_BunkerFortified" State="Restricted" Requirements="AP_UseFortifiedBunker"/>
        </InfoArray>
        <InfoArray index="Build24" Unit="AP_ThorBuild" Time="60">
            <Button DefaultButtonFace="AP_Thor" State="Restricted" Requirements="AP_BuildThorBySCV"/>
        </InfoArray>
        <InfoArray index="Build25" Unit="AP_DevastatorTurret" Time="30">
            <Button DefaultButtonFace="AP_BuildDevastatorTurret" State="Restricted" Requirements="AP_HaveFactory"/>
        </InfoArray>
        <InfoArray index="Build26" Unit="AP_StarportMengsk" Time="50">
            <Button DefaultButtonFace="AP_StarportMengsk" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build27" Unit="AP_FactoryMengsk" Time="60">
            <Button DefaultButtonFace="AP_FactoryMengsk" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build28" Unit="AP_BarracksMengsk" Time="60">
            <Button DefaultButtonFace="AP_BarracksMengsk" State="Restricted" Requirements="HaveCommandCenter"/>
        </InfoArray>
        <InfoArray index="Build29" Unit="AP_TradeStructure" Time="40">
            <Button DefaultButtonFace="AP_TradeStructure" State="Restricted" Requirements="AP_NotHaveTradeStructure"/>
        </InfoArray>
        <FidgetDelayMin value="5"/>
        <FidgetDelayMax value="10"/>
        <ConstructionMover value="Construction"/>
    </CAbilBuild>
    <CAbilBuild id="AP_TerranBuildDrop">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <FlagArray index="PeonDisableCollision" value="1"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <InfoArray index="Build1" Unit="AP_SupplyDepotDrop" Time="3">
            <Button DefaultButtonFace="AP_SupplyDepotDrop" Requirements="AP_UseSupplyDepotDrop"/>
        </InfoArray>
        <ConstructionMover value="Construction"/>
    </CAbilBuild>
    <CAbilEffectInstant id="AP_VoidZealotWhirlwind">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_VoidZealotWhirlwindSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <AutoCastRange value="1.5"/>
        <AutoCastValidatorArray value="AP_VoidZealotWhirlwindCheck"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
        <CastOutroTime value="1.2"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidZealotWhirlwind" Requirements="AP_HaveVoidZealotWhirlwind">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilStop id="AP_burrowedStop">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Stop" DefaultButtonFace="StopRoachBurrowed" Requirements="AP_HaveHotSTunnelingClaws"/>
        <CmdButtonArray index="HoldFire" DefaultButtonFace="HoldFireSpecial"/>
        <CmdButtonArray index="Cheer" DefaultButtonFace=""/>
        <CmdButtonArray index="Dance" DefaultButtonFace=""/>
    </CAbilStop>
    <CAbilEffectTarget id="AP_UltraliskBurrowCharge">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BurrowChargeSwitch"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="RangeUsePathing" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Cooldown Link="AP_UltraliskBurrowCharge" Location="Unit" TimeUse="10"/>
        </Cost>
        <Range value="9"/>
        <Arc value="360"/>
        <SmartValidatorArray value="TargetIsEnemy"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
        <AutoCastValidatorArray value="AP_UltraliskHasntRecentlyAttacked"/>
        <AutoCastValidatorArray value="AP_TargetNotHarmless"/>
        <AutoCastValidatorArray value="AP_UltraliskBurrowChargeRangeFinder"/>
        <AutoCastValidatorArray value="AP_BurrowChargeMinimumRange"/>
        <CastIntroTime value="0.5"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_BurrowChargeTargetSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BurrowChargeCampaign" Requirements="AP_HaveHotSUltraliskBurrowCharge"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_UltraliskWeaponCooldown">
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="1"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UltraliskWeaponCooldown"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_TorrasqueChrysalis">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Ultralisk"/>
        <ActorKey value="TorrasqueAspect"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="Rally" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_TorrasqueChrysalis" RallyResetPhase="Delay">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
        </InfoArray>
        <InfoArray Score="1" Unit="AP_Ultralisk">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="9.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="9.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="9.5"/>
                <EffectArray index="Finish" value="AP_TorrasqueCorpseRevive"/>
            </SectionArray>
        </InfoArray>
        <Alert value="AP_TorrasqueReviveComplete"/>
    </CAbilMorph>
    <CAbilMorph id="AP_TorrasqueCorpse">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Ultralisk"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_TorrasqueCorpse">
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="AP_TorrasqueCorpseSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_UnburrowImpaler">
        <AbilSetId value="BrwUb"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Impaler" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_SuperStimpackNova">
        <AbilSetId value="Stimpack"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_SuperStimpackNovaSet"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="25"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SuperStimpackNova" Requirements="AP_HaveSuperStimpackNova">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_ReaperPlacementMorph">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoArray Unit="AP_Reaper"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_SwarmHostDeepBurrow">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="10"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CastIntroTime value="2"/>
        <CastOutroTime value="1"/>
        <FinishTime value="0.5"/>
        <ShowProgressArray index="Cast" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ProgressButtonArray index="Cast" value="AP_SwarmHostDeepBurrow"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SwarmHostDeepBurrow" Requirements="AP_HotSHaveSwarmHostSplitB">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_VoidRayVoidDamageBoost">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="VoidRayVoidDamageBoost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ViperConsumption">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <TargetFilters value="Biological;Self,Enemy,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ViperConsumption"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_Yoink">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_YoinkStartSwitch"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="Visible;Self,Structure,Heroic,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="FaceEmbrace"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_FaceEmbrace"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_VoidMPImmortalReviveDeath">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Immortal" Requirements="AP_UseImmortalRevive"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_VoidMPImmortalReviveCorpse">
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="AP_VoidMPImmortalReviveDeadSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_VoidMPImmortalReviveRebuild">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Immortal"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="Rally" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Score="1" Unit="AP_Immortal">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="30"/>
                <EffectArray index="Finish" value="AP_VoidMPImmortalReviveSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_TemporalRift">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <!-- Looks like the Effect doesn't exist -->
        <Effect index="0" value="AP_TemporalRiftCreatePersistent"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="AP_TemporalRiftTemporalRift"/>
        </Cost>
        <Range value="9"/>
        <Arc value="360"/>
        <!-- Looks like the Effect doesn't exist -->
        <CursorEffect value="AP_TemporalRiftUnitSearchArea"/>
        <AINotifyEffect value="AP_TemporalRiftCreatePersistent"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TemporalRift"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_VoidHighTemplarMindBlast">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_VoidHighTemplarMindBlastDamage"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Cooldown TimeUse="8"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Structure,Missile,Stasis,Dead,Invulnerable"/>
        <Range value="13"/>
        <AINotifyEffect value="AP_VoidHighTemplarMindBlastDamage"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidHighTemplarMindBlast"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_VoidHighTemplarPsiOrb">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_VoidHighTemplarPsiOrbInitialPersistent"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="2"/>
        </Cost>
        <Range value="13"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidHighTemplarPsiOrb"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_VolatileBurstBuilding">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_DisableBuildingAttack">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_EnableBuildingAttack">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_VolatileBurstBuilding"/>
        <BehaviorArray value="AP_VolatileBurstLaunchBuilding"/>
    </CAbilBehavior>
    <CAbilStop id="AP_burrowedBanelingStop">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Stop" DefaultButtonFace="StopRoachBurrowed" Requirements="AP_HasBanelingBurrowedMovement"/>
        <CmdButtonArray index="HoldFire" DefaultButtonFace="HoldFireSpecial"/>
        <CmdButtonArray index="Cheer" DefaultButtonFace=""/>
        <CmdButtonArray index="Dance" DefaultButtonFace=""/>
    </CAbilStop>
    <CAbilAttack id="AP_attackProtossPylon">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <TargetMessage value="Abil/TargetMessage/attack"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AttackBuilding" Requirements="AP_HaveSOAPylonWeaponBuff"/>
        <MinAttackSpeedMultiplier value="0.25"/>
        <MaxAttackSpeedMultiplier value="128"/>
    </CAbilAttack>
    <CAbilStop id="AP_stopProtossPylon">
        <CmdButtonArray index="Stop" Requirements="AP_HaveSOAPylonWeaponBuff"/>
    </CAbilStop>
    <CAbilMorph id="AP_UpgradeToStargateWarp">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UpgradeToStargateWarp" Requirements="AP_HaveSOAWarpTech"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_StargateWarp">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
        </InfoArray>
        <Alert value="AP_TransformationComplete"/>
        <Activity value="UI/AP_Transforming"/>
        <ProgressButton value="AP_UpgradeToStargateWarp"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphBackToStargate">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <Alert value="AP_TransformationComplete"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphBackToStargate"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_Stargate">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
        </InfoArray>
        <Activity value="UI/AP_Transforming"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToStargateWarpInstant">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UpgradeToStargateWarp" Requirements="AP_HaveSOAWarpTech"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_StargateWarp"/>
        <Alert value="AP_TransformationComplete"/>
        <Activity value="UI/AP_Transforming"/>
        <ProgressButton value="AP_UpgradeToStargateWarp"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToRoboticsFacilityWarp">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UpgradeToRoboticsFacilityWarp" Requirements="AP_HaveSOAWarpTech"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_RoboticsFacilityWarp">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
        </InfoArray>
        <Alert value="AP_TransformationComplete"/>
        <Activity value="UI/AP_Transforming"/>
        <ProgressButton value="AP_UpgradeToRoboticsFacilityWarp"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToRoboticsFacilityWarpInstant">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UpgradeToRoboticsFacilityWarp" Requirements="AP_HaveSOAWarpTech"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_RoboticsFacilityWarp"/>
        <Alert value="AP_TransformationComplete"/>
        <Activity value="UI/AP_Transforming"/>
        <ProgressButton value="AP_UpgradeToRoboticsFacilityWarp"/>
    </CAbilMorph>
    <CAbilAttack id="AP_attackProtossBuilding">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <TargetMessage value="Abil/TargetMessage/attack"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AttackBuilding" Requirements="AP_HaveSOARadar"/>
        <MinAttackSpeedMultiplier value="0.25"/>
        <MaxAttackSpeedMultiplier value="128"/>
    </CAbilAttack>
    <CAbilStop id="AP_stopProtossBuilding">
        <CmdButtonArray index="Stop" Requirements="AP_HaveSOARadar"/>
    </CAbilStop>
    <CAbilEffectTarget id="AP_TimeWarp">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_TimeWarpCP"/>
        <Cost>
            <Cooldown TimeUse="5"/>
        </Cost>
        <TargetFilters value="Structure;Ally,Neutral,Enemy,Missile,Stasis,Dead,Hidden"/>
        <Range value="500"/>
        <Arc value="360"/>
        <AINotifyEffect value="ChronoBoost"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="TimeWarp"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_ZerglingRespawn">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ZerglingRespawnTrainCP"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Flags index="UpdateChargesOnLevelChange" value="0"/>
        <Cost>
            <Charge CountMax="1000" CountUse="1" Location="Player"/>
            <Cooldown Location="Player" TimeUse="30"/>
        </Cost>
        <AutoCastFilters value="Visible;-"/>
        <AutoCastRange value="16"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RespawnZergling" Requirements="AP_HaveZerglingRespawnPrimaryAndUpgrade"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ZerglingRespawnCounter">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ZerglingRespawnCounterSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Flags index="UpdateChargesOnLevelChange" value="0"/>
        <Cost>
            <Charge>
                <CountMax value="1000"/>
                <CountUse value="1"/>
                <Link value="Abil/AP_ZerglingRespawn"/>
                <Location value="Player"/>
            </Charge>
        </Cost>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RespawnZergling" Requirements="AP_HaveZerglingRespawnPrimaryAndUpgrade"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ZerglingRespawnCounterDeplete">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_Dummy"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Flags index="UpdateChargesOnLevelChange" value="0"/>
        <Cost>
            <Charge>
                <CountMax value="1000"/>
                <CountUse value="1"/>
                <Link value="Abil/AP_ZerglingRespawn"/>
                <Location value="Player"/>
            </Charge>
        </Cost>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RespawnZergling"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ZerglingRespawnDeath">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ZerglingRespawnDeathCharge"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Charge>
                <CountMax value="1000"/>
                <CountUse value="-1"/>
                <Link value="Abil/AP_ZerglingRespawn"/>
                <Location value="Player"/>
            </Charge>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_RespawnZergling"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ZerglingRespawnPrimary">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ZerglingRespawnPrimarySet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ZerglingRespawnPrimary" State="Restricted" Requirements="AP_DontHaveZerglingRespawnPrimary"/>
    </CAbilEffectInstant>
    <CAbilTrain id="AP_ZerglingRespawnTrain">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Flags index="AutoCastOffOwnerLeave" value="0"/>
        <Flags index="Transient" value="1"/>
        <InfoArray index="Train1" Effect="AP_ZerglingRespawnTrainSet">
            <Resource index="Minerals" value="-25"/>
            <Charge>
                <CountMax value="1000"/>
                <CountUse value="1"/>
                <Link value="Abil/AP_ZerglingRespawn"/>
                <Location value="Player"/>
            </Charge>
            <Button DefaultButtonFace="Zergling"/>
            <Unit value="AP_Zergling"/>
        </InfoArray>
        <Alert value="AP_ZerglingReconstitution"/>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_VoidSentryBlackHole">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_VoidSentryBlackHolePersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="10"/>
        <Arc value="360"/>
        <CursorEffect value="AP_VoidSentryBlackHoleSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryBlackHole" Requirements="AP_HaveBlackHoleInstalled"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MothershipBlackHole">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MothershipBlackHolePersistent"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="10"/>
        <Arc value="360"/>
        <CursorEffect value="AP_MothershipBlackHoleSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Vortex" Requirements="AP_HaveBlackHoleInstalled"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_TransportMode">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TransportMode"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_WarpPrism">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilTransport id="AP_WarpPrismTransport">
        <AbilSetId value="ULdM"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Load" DefaultButtonFace="MedivacLoad"/>
        <CmdButtonArray index="UnloadAll" DefaultButtonFace="BunkerUnloadAll">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt" DefaultButtonFace="MedivacUnloadAll"/>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <MaxCargoCount value="8"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="8"/>
        <UnloadPeriod value="1"/>
        <TargetFilters value="Visible;Ally,Neutral,Enemy,Buried,UnderConstruction,Dead,Hidden"/>
        <LoadValidatorArray value="AP_NotWidowMineTarget"/>
    </CAbilTransport>
    <CAbilAttack id="AP_AttackWarpPrism">
        <AbilSetId value=""/>
        <TargetMessage value="Abil/TargetMessage/AttackWarpPrism"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AttackWarpPrism">
            <Flags index="ToSelection" value="0"/>
        </CmdButtonArray>
        <AcquireFilters value="-;Self,Player,Ally,Neutral,Enemy"/>
        <SmartFilters value="-;Self,Player,Ally,Neutral,Enemy"/>
        <MinAttackSpeedMultiplier value="0.25"/>
        <MaxAttackSpeedMultiplier value="128"/>
    </CAbilAttack>
    <CAbilWarpTrain id="AP_WarpGateTrainSupplicantTrue">
        <InfoArray index="Train12" Time="5" Unit="AP_Supplicant">
            <Button DefaultButtonFace="AP_WarpInSupplicantHidden">
                <Flags index="IgnoreUser" value="1"/>
            </Button>
        </InfoArray>
        <Flags index="WarpTrainersButton" value="0"/>
    </CAbilWarpTrain>
    <CAbilWarpable id="AP_WarpableAnywhere">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <PowerUserBehavior value="AP_PowerUserWarpableAnywhere"/>
        <Cancelable value="1"/>
        <CmdButtonArray index="Cancel">
            <Flags index="IgnoreUser" value="1"/>
        </CmdButtonArray>
    </CAbilWarpable>
    <CAbilEffectTarget id="AP_VoidSentryChronoBeam">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_VoidSentryChronoBeamCP"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Vital index="Energy" value="3"/>
        </Cost>
        <TargetFilters value="Visible;Self,Neutral,Enemy,Structure,Heroic,Missile,Item,Uncommandable,Stasis,Dead,Hidden"/>
        <TargetSorts RequestCount="1">
            <SortArray value="AP_TSVoidSentryChronoBeam"/>
        </TargetSorts>
        <Range value="8"/>
        <Arc value="4.9987"/>
        <AutoCastFilters value="Visible;Self,Neutral,Enemy,Structure,Missile,Item,Uncommandable,Stasis,Dead,Hidden"/>
        <AutoCastRange value="8"/>
        <AutoCastValidatorArray value="TargetIsFiringWeapon"/>
        <AutoCastValidatorArray value="AP_SentryChronoBeamTargetExlusion"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryChronoBeam"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_VoidSentryChronoBeamMobile" parent="AP_VoidSentryChronoBeam">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryChronoBeam" Requirements="AP_UseEnergizerMobileChronoBeam"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_VoidSentryPhasingMode">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryPhasingMode"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_SentryPhasing">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_VoidSentryShieldRepair">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_VoidSentryShieldRepair"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Visible;Self,Enemy,Structure,Missile,Uncommandable,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSAlliancePassive"/>
            <SortArray value="TSShieldsFraction"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="3"/>
        <Arc value="4.9987"/>
        <SmartValidatorArray value="NotWarpingIn"/>
        <AutoCastAcquireLevel value="Defensive"/>
        <AutoCastFilters value="Visible;Neutral,Enemy,Missile,Stasis,Dead,Hallucination,Invulnerable"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="NotWarpingIn"/>
        <AutoCastValidatorArray value="AP_UnitOrAttackingStructure"/>
        <AutoCastValidatorArray value="CasterHas10Energy"/>
        <UseMarkerArray index="Approach" value="0"/>
        <UseMarkerArray index="Prep" value="0"/>
        <DefaultError value="RequiresHealTarget"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryShieldRepair" Requirements="AP_NotHaveSentryDoubleShieldRecharge"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_VoidSentryShieldRepairDouble" parent="AP_VoidSentryShieldRepair">
        <Effect index="0" value="AP_VoidSentryShieldRepairDouble"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryShieldRepairDouble" Requirements="AP_HaveSentryDoubleShieldRecharge"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_VoidSentryMobileMode">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidSentryMobileMode"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_SentryPurifier">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="1.5"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToGreaterSpire">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GreaterSpire" State="Restricted" Requirements="AP_HaveHive"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="CancelMutateMorph"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_GreaterSpire">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="100"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="100"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="100"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <Activity value="UI/Mutating"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToGreaterSpireBroodlord">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GreaterSpireBroodlord" State="Restricted" Requirements="AP_HaveHotSMutaliskBroodLordAndHaveHive"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_GreaterSpire">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="30"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <Activity value="UI/Mutating"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToGreaterSpireViper">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GreaterSpireViper" State="Restricted" Requirements="AP_HaveHotSMutaliskViperAndHaveHive"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_GreaterSpire">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="30"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <Activity value="UI/Mutating"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToImpalerDen">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ImpalerDen" State="Restricted" Requirements="AP_HaveHotSImpaler"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_ImpalerDen">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="30"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="30"/>
                <EffectArray index="Finish" value="AP_HydraliskDenMorphFinishDummy"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToLurkerDen">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LurkerDen" State="Restricted" Requirements="AP_HaveHotSLurkerOrImpaler"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_LurkerDen">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="30"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="30"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="28"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="30"/>
                <EffectArray index="Finish" value="AP_HydraliskDenMorphFinishDummy"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <Activity value="UI/Mutating"/>
    </CAbilMorph>
    <CAbilResearch id="AP_evolutionchamberresearch">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <InfoArray index="Research1" Time="160" Upgrade="AP_ZergMeleeWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="zergmeleeweapons1" State="Restricted" Requirements="AP_LearnZergMeleeWeapon1"/>
        </InfoArray>
        <InfoArray index="Research2" Time="190" Upgrade="AP_ZergMeleeWeaponsLevel2">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="zergmeleeweapons2" State="Restricted" Requirements="AP_LearnZergMeleeWeapon2"/>
        </InfoArray>
        <InfoArray index="Research3" Time="220" Upgrade="AP_ZergMeleeWeaponsLevel3">
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="200"/>
            <Button DefaultButtonFace="zergmeleeweapons3" State="Restricted" Requirements="AP_LearnZergMeleeWeapon3"/>
        </InfoArray>
        <InfoArray index="Research4" Time="160" Upgrade="AP_ZergGroundArmorsLevel1">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="zerggroundarmor1" State="Restricted" Requirements="AP_LearnZergGroundArmor1"/>
        </InfoArray>
        <InfoArray index="Research5" Time="190" Upgrade="AP_ZergGroundArmorsLevel2">
            <Resource index="Minerals" value="225"/>
            <Resource index="Vespene" value="225"/>
            <Button DefaultButtonFace="zerggroundarmor2" State="Restricted" Requirements="AP_LearnZergGroundArmor2"/>
        </InfoArray>
        <InfoArray index="Research6" Time="220" Upgrade="AP_ZergGroundArmorsLevel3">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="zerggroundarmor3" State="Restricted" Requirements="AP_LearnZergGroundArmor3"/>
        </InfoArray>
        <InfoArray index="Research7" Time="160" Upgrade="AP_ZergMissileWeaponsLevel1">
            <Resource index="Minerals" value="100"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="zergmissileweapons1" State="Restricted" Requirements="AP_LearnZergMissileWeapon1"/>
        </InfoArray>
        <InfoArray index="Research8" Time="190" Upgrade="AP_ZergMissileWeaponsLevel2">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="150"/>
            <Button DefaultButtonFace="zergmissileweapons2" State="Restricted" Requirements="AP_LearnZergMissileWeapon2"/>
        </InfoArray>
        <InfoArray index="Research9" Time="220" Upgrade="AP_ZergMissileWeaponsLevel3">
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="200"/>
            <Button DefaultButtonFace="zergmissileweapons3" State="Restricted" Requirements="AP_LearnZergMissileWeapon3"/>
        </InfoArray>
        <InfoArray index="Research10" Time="250" Upgrade="AP_ZergMeleeWeaponsLevel4">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_zergmeleeweapons4" State="Restricted" Requirements="AP_LearnZergMeleeWeapon4"/>
        </InfoArray>
        <InfoArray index="Research11" Time="280" Upgrade="AP_ZergMeleeWeaponsLevel5">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="AP_zergmeleeweapons5" State="Restricted" Requirements="AP_LearnZergMeleeWeapon5"/>
        </InfoArray>
        <InfoArray index="Research12" Time="250" Upgrade="AP_ZergMissileWeaponsLevel4">
            <Resource index="Minerals" value="250"/>
            <Resource index="Vespene" value="250"/>
            <Button DefaultButtonFace="AP_zergmissileweapons4" State="Restricted" Requirements="AP_LearnZergMissileWeapon4"/>
        </InfoArray>
        <InfoArray index="Research13" Time="280" Upgrade="AP_ZergMissileWeaponsLevel5">
            <Resource index="Minerals" value="300"/>
            <Resource index="Vespene" value="300"/>
            <Button DefaultButtonFace="AP_zergmissileweapons5" State="Restricted" Requirements="AP_LearnZergMissileWeapon5"/>
        </InfoArray>
        <InfoArray index="Research14" Time="250" Upgrade="AP_ZergGroundArmorsLevel4">
            <Resource index="Minerals" value="375"/>
            <Resource index="Vespene" value="375"/>
            <Button DefaultButtonFace="zerggroundarmor4" State="Restricted" Requirements="AP_LearnZergGroundArmor4"/>
        </InfoArray>
        <InfoArray index="Research15" Time="280" Upgrade="AP_ZergGroundArmorsLevel5">
            <Resource index="Minerals" value="450"/>
            <Resource index="Vespene" value="450"/>
            <Button DefaultButtonFace="zerggroundarmor5" State="Restricted" Requirements="AP_LearnZergGroundArmor5"/>
        </InfoArray>
    </CAbilResearch>
    <CAbilEffectInstant id="AP_MedivacSpeedBoost">
        <AbilSetId value="Afterburners"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MedivacSpeedBoost" Requirements="AP_HaveMedivacSpeedBoost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HHWidowMineBlossom">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WidowMineAttack"/>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Effect index="0" value="AP_HHWidowMineBlossomCP"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_GhostSCBWLockdown">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_GhostSCBWLockdown@LM"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="Mechanical,Visible;Self,Structure,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <CastIntroTime value="0.25"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostSCBWLockdown" Requirements="AP_GhostSCBWLockdown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MedicSCBWRestoration">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_MedicSCBWRestoration@Set"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <TargetFilters value="Visible;Self,Structure,Missile,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <Range value="2"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MedicSCBWRestoration" Requirements="AP_MedicSCBWRestoration">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <PrepTime value="0.5"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MedicSCBWOpticFlare">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_MedicSCBWOpticFlare@LM"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <TargetFilters value="-;Player,Ally,Structure,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <PrepTime value="0.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MedicSCBWOpticFlare" Requirements="AP_MedicSCBWOpticFlare">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_ValkyrieSpeedBoost">
        <Effect index="0" value="AP_MedivacSpeedBoost"/>
        <AbilSetId value="Afterburners"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ValkyrieSpeedBoost" Requirements="AP_HaveValkyrieSpeedBoost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Cost>
            <Cooldown TimeUse="20"/>
        </Cost>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ScienceVesselSCBWEMPShockwave">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ScienceVesselSCBWEMPShockwave@LM"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <Range value="10"/>
        <Arc value="360"/>
        <PrepTime value="0.01"/>
        <FinishTime value="0.0625"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_ScienceVesselSCBWEMPShockwave@Search"/>
        <AINotifyEffect value="EMPLaunchMissile"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScienceVesselSCBWEMPShockwave" Requirements="AP_ScienceVesselSCBWEMPShockwave"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ScienceVesselSCBWDefensiveMatrix">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ScienceVesselSCBWDefensiveMatrix@Set"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="-;Self,Structure,RawResource,HarvestableResource,Item,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScienceVesselSCBWDefensiveMatrix" State="Restricted" Requirements="AP_ScienceVesselSCBWDefensiveMatrix">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MedicMengskDefensiveMatrix" parent="AP_ScienceVesselSCBWDefensiveMatrix">
        <Arc value="0"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveMedicMengskVeterancyLevel3"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_FirebatOptimizedLogisticsMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Firebat" Requirements="AP_HaveOptimizedLogisticsFirebat"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_FirebatOptimizedLogistics"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MercFirebatOptimizedLogisticsMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Firebat" Requirements="AP_HaveOptimizedLogisticsFirebat"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_DevilDogOptimizedLogistics"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorBuildMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Thor"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_Thor"/>
    </CAbilMorph>
    <CAbilMorph id="AP_GhostResourceEfficiencyMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Ghost" Requirements="AP_HaveResourceEfficiencyGhost"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_GhostResourceEfficiency"/>
    </CAbilMorph>
    <CAbilMorph id="AP_GhostMengskResourceEfficiencyMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Ghost" Requirements="AP_HaveResourceEfficiencyGhost"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_GhostMengskResourceEfficiency"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SpectreResourceEfficiencyMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Spectre" Requirements="AP_HaveResourceEfficiencySpectre"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_SpectreResourceEfficiency"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToWarpGate">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="UpgradeToWarpGate" State="Restricted"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_WarpGate">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="10"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="10"/>
            </SectionArray>
        </InfoArray>
        <Alert value="TransformationComplete"/>
        <Activity value="UI/AP_Transforming"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToWarpGateInstant">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="UpgradeToWarpGate"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Unit="AP_WarpGate"/>
    </CAbilMorph>
    <CAbilWarpTrain id="AP_WarpGateTrain">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Structures"/>
        <InfoArray index="Train1" Time="5" Unit="AP_ZealotAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="AP_WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_ZealotAiur" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train2" Time="5" Unit="AP_StalkerShakuras">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_StalkerShakuras" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <!-- Warp trains have only 20 slots-->
        <InfoArray index="Train3" Time="5" Unit="AP_Monitor">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_Monitor" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <!--        <InfoArray index="Train3" Time="5" Unit="Replicant">-->
        <!--            <Charge>-->
        <!--                <CountMax value="1"/>-->
        <!--                <CountStart value="1"/>-->
        <!--                <CountUse value="1"/>-->
        <!--                <Link value="WarpGateTrain"/>-->
        <!--                <TimeUse value="32"/>-->
        <!--                <Flags index="EnableChargeTimeQueuing" value="1"/>-->
        <!--            </Charge>-->
        <!--            <Button DefaultButtonFace="WarpInReplicant" State="Restricted" Requirements="HaveVoidSentryReplicant"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Train4" Time="5" Unit="AP_HighArchonTemplar">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_HighTemplarAiur" State="Restricted" Requirements="AP_HaveTemplarArchives"/>
        </InfoArray>
        <InfoArray index="Train5" Time="5" Unit="AP_DarkTemplarShakuras">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_DarkTemplarShakuras" State="Restricted" Requirements="AP_HaveDarkShrine"/>
        </InfoArray>
        <InfoArray index="Train6" Time="5" Unit="AP_SentryAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_SentryAiur" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <InfoArray index="Train7" Time="5" Unit="AP_Adept">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_WarpInAdept" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <InfoArray index="Train9" Time="5" Unit="AP_ZealotPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_ZealotPurifier" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train10" Time="5" Unit="AP_ZealotShakuras">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeStart value="30"/>
                <TimeUse value="28"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_ZealotShakuras" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train11" Time="5" Unit="AP_AlarakSupplicantWarpTrainDummy">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="21"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_WarpInSupplicant" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Train12" Time="5" Unit="AP_StalkerPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_StalkerPurifier" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <InfoArray index="Train13" Time="5" Unit="AP_Slayer">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_Slayer" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <InfoArray index="Train14" Time="5" Unit="AP_HighTemplarShakuras">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_HighTemplarShakuras" State="Restricted" Requirements="AP_HaveTemplarArchives"/>
        </InfoArray>
        <InfoArray index="Train15" Time="5" Unit="AP_HighTemplarTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_HighTemplarTaldarim" State="Restricted" Requirements="AP_HaveTemplarArchives"/>
        </InfoArray>
        <InfoArray index="Train16" Time="5" Unit="AP_DarkTemplarAiur">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_DarkTemplarAiur" State="Restricted" Requirements="AP_HaveDarkShrine"/>
        </InfoArray>
        <InfoArray index="Train17" Time="5" Unit="AP_DarkTemplarTaldarim">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_DarkTemplarTaldarim" State="Restricted" Requirements="AP_HaveDarkShrine"/>
        </InfoArray>
        <InfoArray index="Train18" Time="5" Unit="AP_Dragoon">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_Dragoon" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
        <InfoArray index="Train19" Time="5" Unit="AP_DarkArchon">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="45"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_HighTemplarShakuras" State="Restricted" Requirements="AP_HaveTemplarArchivesDarkArchon"/>
        </InfoArray>
        <InfoArray index="Train20" Time="5" Unit="AP_SentryPurifier">
            <Charge Location="Unit">
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="WarpGateTrain"/>
                <TimeUse value="32"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Cooldown Link="WarpGateTrain" Location="Unit"/>
            <Button DefaultButtonFace="AP_SentryPurifier" State="Restricted" Requirements="AP_HaveCyberneticsCore"/>
        </InfoArray>
    </CAbilWarpTrain>
    <CAbilWarpTrain id="AP_WarpGateTrainRedirect" parent="AP_WarpGateTrain"/>
    <CAbilTransport id="AP_OverlordTransport">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <MaxCargoCount value="8"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="8"/>
        <LoadTransportBehavior value="OverlordTransport"/>
        <UnloadPeriod value="1"/>
        <CmdButtonArray index="Load" DefaultButtonFace="OverlordTransportLoad" Requirements="AP_UseOverlordTransport"/>
        <CmdButtonArray index="UnloadAll">
            <Flags index="Hidden" value="1"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt" DefaultButtonFace="OverlordTransportUnload"/>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <AbilSetId value="ULdM"/>
    </CAbilTransport>
    <CAbilTransport id="AP_YggdrasilTransport">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <MaxCargoCount value="8"/>
        <MaxCargoSize value="8"/>
        <TotalCargoSpace value="8"/>
        <LoadTransportBehavior value="OverlordTransport"/>
        <UnloadPeriod value="1"/>
        <CmdButtonArray index="Load" DefaultButtonFace="OverlordTransportLoad"/>
        <CmdButtonArray index="UnloadAll">
            <Flags index="Hidden" value="1"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt" DefaultButtonFace="OverlordTransportUnload"/>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <AbilSetId value="ULdM"/>
    </CAbilTransport>
    <CAbilTrain id="AP_TrainQueen">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <Activity value="UI/Spawning"/>
        <InfoArray index="Train1" Time="30" Effect="QueenBirth">
            <Button DefaultButtonFace="AP_Queen" Requirements="AP_HaveSpawningPool">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Unit value="AP_Queen"/>
        </InfoArray>
        <InfoArray index="Train2" Time="90">
            <Button DefaultButtonFace="HotSLeviathan" Requirements="HaveDestroyerLeviathan"/>
            <Unit value="HotSLeviathan"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilMorph id="AP_UpgradeToHive">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Hive"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="CancelMutateMorph"/>
        <ActorKey value="HiveUpgrade"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_Hive">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="100"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="100"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="100"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <Activity value="UI/Mutating"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnPrimary"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnDeath"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawn"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnCounter"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnTrain"/>
    </CAbilMorph>
    <CAbilMorph id="AP_UpgradeToLair">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Lair"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="CancelMutateMorph"/>
        <ActorKey value="LairUpgrade"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <InfoArray Score="1" Unit="AP_Lair">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="80"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="80"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="80"/>
            </SectionArray>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
        <Activity value="UI/Mutating"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnPrimary"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnDeath"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawn"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnCounter"/>
        <AbilLinkEnableArray value="AP_ZerglingRespawnTrain"/>
    </CAbilMorph>
    <CAbilBuild id="AP_ZergBuild">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <FlagArray index="PeonHide" value="1"/>
        <FlagArray index="PeonKillFinish" value="1"/>
        <FlagArray index="RangeIncludesBuilding" value="0"/>
        <InfoArray index="Build1" Unit="AP_Hatchery" Time="60">
            <Button DefaultButtonFace="AP_Hatchery"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_CreepTumor" Time="15">
            <Button DefaultButtonFace="AP_CreepTumor"/>
        </InfoArray>
        <InfoArray index="Build3" Unit="AP_Extractor" Time="30">
            <Button DefaultButtonFace="AP_Extractor" Requirements="AP_HideExtractor"/>
            <ValidatorArray value="HasVespene"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_SpawningPool" Time="30">
            <Button DefaultButtonFace="AP_SpawningPool" State="Restricted" Requirements="AP_HaveHatchery"/>
        </InfoArray>
        <InfoArray index="Build5" Unit="AP_EvolutionChamber" Time="40">
            <Button DefaultButtonFace="AP_EvolutionChamber" State="Restricted" Requirements="AP_HaveHatchery"/>
        </InfoArray>
        <InfoArray index="Build6" Unit="AP_HydraliskDen" Time="40">
            <Button DefaultButtonFace="AP_HydraliskDen" State="Restricted" Requirements="AP_HaveLair"/>
        </InfoArray>
        <InfoArray index="Build7" Unit="AP_Spire" Time="40">
            <Button DefaultButtonFace="AP_Spire" State="Restricted" Requirements="AP_HaveLair"/>
        </InfoArray>
        <InfoArray index="Build8" Unit="AP_UltraliskCavern" Time="50">
            <Button DefaultButtonFace="AP_UltraliskCavern" State="Restricted" Requirements="AP_HaveHive"/>
        </InfoArray>
        <InfoArray index="Build9" Unit="AP_InfestationPit" Time="40">
            <Button DefaultButtonFace="AP_InfestationPit" State="Restricted" Requirements="AP_HaveLair"/>
        </InfoArray>
        <InfoArray index="Build10" Unit="AP_NydusNetwork" Time="50">
            <Button DefaultButtonFace="AP_NydusNetwork" State="Restricted" Requirements="AP_HaveLair"/>
        </InfoArray>
        <InfoArray index="Build11" Unit="AP_BanelingNest" Time="30">
            <Button DefaultButtonFace="AP_BanelingNest" State="Restricted" Requirements="AP_HaveHatchery"/>
        </InfoArray>
        <InfoArray index="Build13" Time="70"/>
        <InfoArray index="Build14" Unit="AP_RoachWarren" Time="40">
            <Button DefaultButtonFace="AP_RoachWarren" State="Restricted" Requirements="AP_HaveHatchery"/>
        </InfoArray>
        <InfoArray index="Build15" Unit="AP_SpineCrawler" Time="30">
            <Button DefaultButtonFace="AP_SpineCrawler" State="Restricted" Requirements="AP_HaveSpawningPool"/>
        </InfoArray>
        <InfoArray index="Build16" Unit="AP_SporeCrawler" Time="30">
            <Button DefaultButtonFace="AP_SporeCrawler" State="Restricted" Requirements="AP_HaveEvolutionChamber"/>
        </InfoArray>
        <!--        <InfoArray index="Build18" Unit="Virophage" Time="15">-->
        <!--            <Button DefaultButtonFace="MorphToPlaguebringer"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build19" Unit="AP_AutomatedExtractor" Time="30">
            <Button DefaultButtonFace="AP_AutomatedExtractor" Requirements="AP_UseAutomatedExtractor"/>
        </InfoArray>
        <InfoArray index="Build20" Unit="AP_BileLauncher" Time="40">
            <Button DefaultButtonFace="AP_BuildBileLauncher" Requirements="AP_HaveSpawningPool"/>
        </InfoArray>
        <!--        <InfoArray index="Build21" Unit="Digester" Time="30">-->
        <!--            <Button DefaultButtonFace="Digester" Requirements="HaveSpawningPool"/>-->
        <!--        </InfoArray>-->
        <InfoArray index="Build22" Unit="AP_ZergMercenaryCompound" Time="50">
            <Button DefaultButtonFace="AP_ZergMercenaryCompound" State="Restricted" Requirements="AP_HaveHatchery"/>
        </InfoArray>
        <InfoArray index="Build23" Unit="AP_TradeStructure" Time="40">
            <Button DefaultButtonFace="AP_TradeStructure" State="Restricted" Requirements="AP_NotHaveTradeStructure"/>
        </InfoArray>
    </CAbilBuild>
    <CAbilBuild id="AP_CreepTumorBuild">
        <Alert value="BuildComplete_Zerg"/>
        <Range value="10"/>
        <InfoArray index="Build1" Unit="AP_CreepTumor" Time="3">
            <Charge Location="Unit"/>
            <Cooldown Location="Unit" TimeStart="15" TimeUse="15"/>
            <Button DefaultButtonFace="CreepTumor" Requirements="AP_CreepTumorExhausted"/>
        </InfoArray>
        <TargetMessage value="Abil/TargetMessage/CreepTumorBuild"/>
        <SharedFlags index="RegisterChargeEvent" value="1"/>
        <SharedFlags index="RegisterCooldownEvent" value="1"/>
        <EffectArray index="Start" value="AP_CreepTumorLaunchMissileSet"/>
    </CAbilBuild>
    <CAbilEffectTarget id="AP_Transfusion">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="Transfusion"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="TransfusionAP_Transfusion" TimeUse="1"/>
        </Cost>
        <TargetFilters value="Biological,Visible;Self,Neutral,Enemy,Missile,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <Range value="7"/>
        <CastIntroTime value="0.2"/>
        <FinishTime value="0.8"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Transfusion"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowQueenUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <ActorKey value="BurrowUp"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden"/>
        <AutoCastRange value="5"/>
        <AutoCastCountMin value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Queen" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_WildMutation">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_WildMutationSet"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown Link="WildMutationAP_WildMutation" Location="Unit" TimeUse="25"/>
        </Cost>
        <TargetFilters value="Biological;Self,Enemy,Structure,Heroic,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <CursorEffect value="AP_WildMutationSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WildMutation" Requirements="AP_HaveK5WildMutation"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowDroneUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <ActorKey value="BurrowUp"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Drone" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ZealotPurifierReviveRebuild">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ZealotPurifier"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="DisableCollision" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="Rally" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Score="1" Unit="AP_ZealotPurifier">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="6.66"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="6.66"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="6.66"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="6.66"/>
                <EffectArray index="Finish" value="AP_ZealotPurifierReviveSet"/>
            </SectionArray>
        </InfoArray>
        <Activity value="UI/AP_Reconstructing"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ZealotPurifierReviveDeath">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ZealotPurifier"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_ZealotPurifierReviveCorpse">
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="AP_ZealotPurifierReviveDeadSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_VoidShieldCapacitor">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="45"/>
        </Cost>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="CasterShieldsLT1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidShieldCapacitor"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_VoidSoAShieldCapacitor">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_VoidShieldCapacitor"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Transient" value="1"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="CasterShieldsLT1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidShieldCapacitor"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_Banshee_BlackOpsAirstrike">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="AbortOnAllianceChange" value="0"/>
        <Flags index="AllowMovement" value="1"/>
<!--        <Flags index="AutoCast" value="1"/>-->
<!--        <Flags index="AutoCastOn" value="1"/>-->
        <Flags index="Chase" value="1"/>
        <Effect index="0" value="AP_Banshee_BlackOpsAirstrikeSet"/>
        <Alignment value="Negative"/>
        <Cost>
<!--            <Cooldown TimeUse="15"/>-->
            <Vital index="Energy" value="100"/>
        </Cost>
        <Range value="7"/>
        <TrackingArc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Banshee_BlackOpsAirstrike" Requirements="AP_HaveBansheeAirstrike">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Arc value="360"/>
        <CursorEffect value="AP_Banshee_BlackOpsAirstrikeSearch"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Structure,Missile,Hidden,Invulnerable"/>
        <AutoCastRange value="7"/>
        <AutoCastValidatorArray value="AP_BlackOpsAirstrikeMinimum3EnemyTargets"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HHVikingRockets">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HHVikingRocketsBurstPersistentSwitch"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AllowMovingSuppressed" value="1"/>
        <Flags index="AllowTurningSuppressed" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <TimeUse value="20"/>
            </Charge>
            <!--Flags index="RestoreAllChargesOnCooldown" value="1"/-->
            <Cooldown TimeUse="5"/>
        </Cost>
        <TargetFilters value="Air,Visible;Self,Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <TargetSorts>
            <SortArray value="TSRandom"/>
        </TargetSorts>
        <Range value="10"/>
        <Arc value="360"/>
        <SmartValidatorArray value="AP_HHVikingRocketsSmartTarget"/>
        <AutoCastFilters value="Air,Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <AutoCastRange value="10"/>
        <CursorEffect value="AP_HHVikingRocketsDamage"/>
        <AcquireAttackers value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HHVikingRockets" Requirements="AP_HaveHHVikingRockets">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_SummonZergMercs">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <InfoArray index="Train1" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Link value="AP_InfestedMedics"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_InfestedMedics"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_InfestedMedic" State="Restricted" Requirements="AP_ZergMercCompoundInfested"/>
            <Unit value="AP_InfestedMedic"/>
            <Unit value="AP_InfestedMedic"/>
        </InfoArray>
        <InfoArray index="Train2" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_InfestedSiegeBreakers"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_InfestedSiegeBreakers"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_InfestedSiegeBreaker" State="Restricted" Requirements="AP_ZergMercCompoundInfested"/>
            <Unit value="AP_InfestedSiegeBreaker"/>
            <Unit value="AP_InfestedSiegeBreaker"/>
        </InfoArray>
        <InfoArray index="Train3" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_InfestedDuskWings"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_InfestedDuskWings"/>
                <Location value="Player"/>
                <TimeStart value="420"/>
                <TimeUse value="420"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_InfestedDuskWing" State="Restricted" Requirements="AP_ZergMercCompoundInfested"/>
            <Unit value="AP_InfestedDuskWing"/>
            <Unit value="AP_InfestedDuskWing"/>
        </InfoArray>
        <InfoArray index="Train4" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Link value="AP_MercZerglings"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercZerglings"/>
                <Location value="Player"/>
                <TimeStart value="240"/>
                <TimeUse value="240"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_MercZergling" State="Restricted" Requirements="AP_ZergMercCompoundBroodWar"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
        </InfoArray>
        <InfoArray index="Train5" Effect="AP_MercGroundDrop">
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="25"/>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_HunterKiller"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_HunterKiller"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_SummonHunterKiller" State="Restricted" Requirements="AP_ZergMercCompoundBroodWar"/>
            <Unit value="AP_HunterKiller"/>
            <Unit value="AP_HunterKiller"/>
        </InfoArray>
        <InfoArray index="Train6" Effect="AP_MercGroundDrop">
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="100"/>
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_MercUltralisk"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercUltralisk"/>
                <Location value="Player"/>
                <TimeStart value="600"/>
                <TimeUse value="600"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_MercUltraliskSummon" State="Restricted" Requirements="AP_ZergMercCompoundBroodWar"/>
            <Unit value="AP_MercUltralisk"/>
        </InfoArray>
        <InfoArray index="Train7" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Link value="AP_HunterlingSummon"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_HunterlingSummon"/>
                <Location value="Player"/>
                <TimeStart value="300"/>
                <TimeUse value="300"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_HunterlingSummon" State="Restricted" Requirements="AP_ZergMercCompoundSC2"/>
            <Unit value="AP_Hunterling"/>
            <Unit value="AP_Hunterling"/>
        </InfoArray>
        <InfoArray index="Train8" Effect="AP_MercGroundDrop">
            <Charge>
                <CountMax value="3"/>
                <CountStart value="3"/>
                <CountUse value="1"/>
                <Link value="AP_MercZerglings"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_MercZerglings"/>
                <Location value="Player"/>
                <TimeStart value="240"/>
                <TimeUse value="240"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_MercZergling" State="Restricted" Requirements="AP_ZergMercCompoundBroodWarAndHaveSwarmling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
            <Unit value="AP_MercZergling"/>
        </InfoArray>
        <InfoArray index="Train9" Effect="AP_MercAirDrop">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_YggdrasilSummon"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown>
                <Link value="AP_YggdrasilSummon"/>
                <Location value="Player"/>
                <TimeStart value="240"/>
                <TimeUse value="240"/>
            </Cooldown>
            <Button DefaultButtonFace="AP_SummonYggdrasil" State="Restricted" Requirements="AP_ZergMercCompoundBroodWar"/>
            <Unit value="AP_Yggdrasil"/>
        </InfoArray>
        <InfoArray index="Train10" Effect="AP_MercGroundDrop">
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="25"/>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="AP_MercRoachSummon"/>
                <Location value="Player"/>
            </Charge>
            <Cooldown Location="Player" TimeStart="300" TimeUse="300" Link="AP_MercRoachSummon"/>
            <Button DefaultButtonFace="AP_SummonMercRoach" State="Restricted" Requirements="AP_ZergMercCompoundSC2"/>
            <Unit value="AP_MercRoach"/>
            <Unit value="AP_MercRoach"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_DarkTemplarShadowDash">
        <AbilSetId value="Blnk"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown TimeUse="10"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DarkTemplarShadowDash" Requirements="AP_HaveResearchShadowDash">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HighTemplarSCBWHallucination">
        <AbilSetId value="AP_HighTemplarSCBWHallucination"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HighTemplarSCBWHallucination@SetInitial"/>
        <!--<Effect index="0" value="HighTemplarSCBWHallucinationCU"/>-->
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="-;Self,Structure,Heroic,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="15"/>
        <PrepTime value="0.5"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HighTemplarSCBWHallucination" Requirements="AP_HaveHighTemplarHallucination">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_HighTemplarSCBWHallucinationHighArchon" parent="AP_HighTemplarSCBWHallucination">
        <CmdButtonArray index="Execute" Requirements="AP_HaveHighArchonAndHighTemplarHallucination"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DarkArchonSCBWMaelstrom">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DarkArchonSCBWMaelstrom@Search"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <TargetFilters value="Biological,Visible;Self,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <FinishTime value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_DarkArchonSCBWMaelstrom@Search"/>
        <AINotifyEffect value="AP_DarkArchonSCBWMaelstrom@Search"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DarkArchonSCBWMaelstrom" Requirements="AP_HaveDarkArchonMaelstrom">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_AscendantPowerOverwhelming">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Range value="4"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AscendantSacrifice"/>
        <TargetFilters value="-;Self,Ally,Neutral,Enemy,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <Effect index="0" value="AP_AscendantSacrificeSelfBuffSet"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_AscendantSacrificeInstant">
        <EditorCategories value="AbilityorEffectType:Units,Race:Zerg"/>
        <Effect index="0" value="AP_AscendantSacrificeSearch"/>
        <Flags index="AutoCast" value="1"/>
        <!--        <Flags index="AutoCastOn" value="1"/>-->
        <Flags index="BestUnit" value="1"/>
        <Flags index="Transient" value="1"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AscendantSacrifice" Requirements="AP_HaveAlarakHighTemplarImprovedSacrifice"/>
        <!--Range value="13"/-->
        <AutoCastRange value="13"/>
        <AutoCastValidatorArray value="AP_AscendantSacrificeCasterEnergyLE100"/>
        <Cost>
            <Cooldown TimeUse="60"/>
        </Cost>
        <!--AutoCastValidatorArray value="SupplicantIsInRange"/-->
        <!--TargetFilters index="0" value="-;Self,Ally,Neutral,Enemy,Structure,Worker,Missile,Item,Dead,Hidden"/-->
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationArchon">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateArchon"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Archon" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationColossus">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateColossus"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Colossus" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationHighTemplar">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateHighTemplar"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_HighTemplar" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationImmortal">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateImmortal"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Immortal" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationPhoenix">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreatePhoenix"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Phoenix" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationProbe">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateProbe"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Probe" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationStalker">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateStalker"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Stalker" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationVoidRay">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_HallucinationCreateVoidRay"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidRay" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationWarpPrism">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateWarpPrism"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WarpPrism" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationZealot">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateZealot"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="Zealot" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationDisruptor">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WarpinDisruptor" Requirements="AP_HaveSentryHallucination"/>
        <Effect index="0" value="AP_HallucinationCreateDisruptor"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationAdept">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateAdept"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WarpInAdept" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_HallucinationOracle">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HallucinationCreateOracle"/>
        <Flags index="BestUnit" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Oracle" Requirements="AP_HaveSentryHallucination"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ForceFieldSentry">
        <AbilSetId value="ForceField"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ForceField"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <Range value="9"/>
        <Marker>
            <MatchFlags index="Link" value="0"/>
            <MatchFlags index="CasterUnit" value="1"/>
        </Marker>
        <CursorEffect value="AP_ForceFieldPlacement"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ForceField" Requirements="AP_HaveSentryForceField">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <PlaceUnit value="AP_ForceField"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_EnergizerReclamation">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SentryReclamationSet"/>
        <Flags index="AbortOnAllianceChange" value="0"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="120"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Structure,Heroic,Missile,Stasis,Dead,Invulnerable"/>
        <Range value="9"/>
        <AINotifyEffect value="AP_ReclamationSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_EnergizerReclamation" Requirements="AP_HaveEnergizerReclamation"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <AcquirePriority value="5"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_DevourerSCBW@Morph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="DevourerAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_DevourerSCBWEgg"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="15" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_DevourerSCBW" State="Restricted" Requirements="AP_HaveDevourerAspect">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_DevourerSCBW"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToDevourerSCBW@Morph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="DevourerAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_DevourerSCBWEgg"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="50" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_DevourerSCBW" State="Restricted" Requirements="AP_HaveDevourerAspect">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_DevourerSCBW"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_GuardianSCBW@Morph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="GuardianAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_GuardianSCBWEgg"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="15" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_GuardianSCBW" State="Restricted" Requirements="AP_HaveGuardianAspect">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_GuardianSCBW"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilTrain id="AP_MorphlingToGuardianSCBW@Morph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <RefundFraction>
            <Resource index="Minerals" value="-0.75"/>
            <Resource index="Vespene" value="-0.75"/>
            <Resource index="Terrazine" value="-0.75"/>
            <Resource index="Custom" value="-0.75"/>
        </RefundFraction>
        <Activity value="UI/Morphing"/>
        <ActorKey value="GuardianAspect"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_GuardianSCBWEgg"/>
        <Range value="10"/>
        <InfoArray index="Train1" Time="50" Alert="MorphComplete_Zerg">
            <Button DefaultButtonFace="AP_GuardianSCBW" State="Restricted" Requirements="AP_HaveGuardianAspect">
                <Flags index="ShowInGlossary" value="1"/>
            </Button>
            <Unit value="AP_GuardianSCBW"/>
        </InfoArray>
        <Alert value="MorphComplete_Zerg"/>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_ParasiticBomb">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ParasiticBombLM"/>
        <Cost>
            <Vital index="Energy" value="125"/>
        </Cost>
        <TargetFilters value="Air,Visible;Self,Player,Ally,Neutral,Structure,Stasis,Invulnerable"/>
        <Range value="8"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ParasiticBomb" Requirements="AP_HaveViperParasiticBomb"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_InfestedTerrans">
        <Range value="9"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_InfestedTerrans" Requirements="AP_HaveInfestorInfestedTerran"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <Effect index="0" value="AP_InfestedTerransCreateEgg"/>
        <CastIntroTime value="0"/>
        <ProducedUnitArray value="AP_InfestedTerran"/>
        <CastOutroTime value="0"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_MorphToInfestedTerran">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_InfestedTerrans"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_InfestorTerran">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="4.875"/>
                <EffectArray index="Finish" value="AP_InfestedTerransTimedLife"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="4.875"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="4.875"/>
            </SectionArray>
        </InfoArray>
        <AbilClassEnableArray index="CAbilMove" value="1"/>
        <AbilClassEnableArray index="CAbilStop" value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_AmorphousArmorcloud">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_AmorphousArmorcloudCP"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <Range value="9"/>
        <CursorEffect value="AP_AmorphousArmorcloudSearch"/>
        <AINotifyEffect value="AP_AmorphousArmorcloudCP"/>
        <!--CmdButtonArray index="Execute" DefaultButtonFace="AmorphousArmorcloud" Requirements="UseAmorphousArmorcloud"/-->
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AmorphousArmorcloud" Requirements="AP_HaveInfestorMicrobialShroud"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_UltraliskResourceEfficiencyMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Ultralisk" Requirements="AP_HaveResourceEfficiencyUltralisk"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_UltraliskResourceEfficiency"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_SpawnLarva">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SpawnMutantLarvaApplyTimerBehavior"/>
        <Cost>
            <Vital index="Energy" value="25"/>
            <Charge Link="Abil/SpawnMutantLarva"/>
            <Cooldown Link="Abil/SpawnMutantLarva"/>
        </Cost>
        <TargetFilters value="Visible;Neutral,Enemy,UnderConstruction"/>
        <Range value="0.1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphMorphalisk" Requirements="AP_HaveQueenSpawnLarva"/>
        <CastOutroTime value="2.3"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <Marker Link="Abil/SpawnMutantLarva"/>
        <AINotifyEffect value="AP_SpawnMutantLarva"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_LocustGround">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_LocustGround" Requirements="AP_HotSHaveSwarmHostSplitA">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_LocustAir">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_SwarmHostGroundLocust"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_QueenSCBWEnsnare">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_QueenSCBWEnsnare@LM"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <Range value="9"/>
        <PrepTime value="0.5"/>
        <CursorEffect value="AP_QueenSCBWEnsnare@Search"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_QueenSCBWEnsnare" Requirements="AP_HaveBroodQueenEnsnare">
            <Flags index="UseDefaultButton" value="1"/>
            <Flags index="CreateDefaultButton" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DefilerSCBWDarkSwarm">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DefilerSCBWDarkSwarm@LM"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <Range value="9"/>
        <PrepTime value="0.5"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_DefilerSCBWDarkSwarm@Search"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DefilerSCBWDarkSwarm">
            <Flags index="UseDefaultButton" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DefilerSCBWPlague">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_DefilerSCBWPlague@Search"/>
        <Cost>
            <Vital index="Energy" value="150"/>
        </Cost>
        <Range value="9"/>
        <PrepTime value="0.25"/>
        <CursorEffect value="AP_DefilerSCBWPlague@Search"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DefilerSCBWPlague">
            <Flags index="UseDefaultButton" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_DefilerSCBW@BurrowUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_DefilerSCBW" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.3"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.3"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.3"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="5"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_DefilerSCBW@BurrowDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_DefilerSCBW@Burrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.166"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_DefilerSCBWConsumption">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="10"/>
        </Cost>
        <TargetFilters value="Biological;Self,Enemy,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <Range value="4"/>
        <Effect index="0" value="AP_DefilerConsumption"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DefilerConsumption" Requirements="AP_NotHaveDefilerPredatoryConsumption"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_DefilerSCBWPredatoryConsumption" parent="AP_DefilerSCBWConsumption">
        <TargetFilters index="0" value="Biological;Self,Structure,Heroic,Missile,Uncommandable,Stasis,Dead,Hidden,Hallucination,Invulnerable"/>
        <Effect index="0" value="AP_DefilerPredatoryConsumption"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_DefilerConsumption" Requirements="AP_HaveDefilerPredatoryConsumption"/>
    </CAbilEffectTarget>
    <CAbilAugment id="AP_TornadoMissile">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TornadoMissile"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <AbilCmd value="attack,Execute"/>
        <Cost>
            <Cooldown TimeUse="6"/>
        </Cost>
        <Effect value="AP_TornadoMissileCP"/>
        <AutoCastFilters value="Ground,Mechanical,Visible;Self,Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden,Invulnerable"/>
    </CAbilAugment>
    <CAbilMorph id="AP_SiegeTankSiegedTransportableMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankSieged" Requirements="AP_HaveSiegeTankTransportHook"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_SiegeTankSiegedTransportable"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SiegeBreakerSiegedTransportableMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankSieged" Requirements="AP_HaveSiegeTankTransportHook"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_SiegeBreakerSiegedTransportable"/>
    </CAbilMorph>
    <CAbilMorph id="AP_InfestedSiegeBreakerSiegedTransportableMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankSieged" Requirements="AP_HaveSiegeTankTransportHook"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_InfestedSiegeBreakerSiegedTransportable"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SiegeTankMengskSiegedTransportableMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeTankSieged" Requirements="AP_HaveSiegeTankTransportHook"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_SiegeTankMengskSiegedTransportable"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ReaperResourceEfficiencyMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Reaper" Requirements="AP_HaveResourceEfficiencyReaper"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_ReaperResourceEfficiency"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MercReaperResourceEfficiencyMorph">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Reaper" Requirements="AP_HaveResourceEfficiencyReaper"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <InfoArray Unit="AP_MercReaperResourceEfficiency"/>
    </CAbilMorph>
    <CAbilBehavior id="AP_GenerateCreep">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_GenerateCreep" Requirements="AP_HaveOverlordGenerateCreep"/>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_StopGenerateCreep"/>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_makeCreep2x2Overlord"/>
    </CAbilBehavior>
    <CAbilEffectInstant id="AP_SpawnChangeling">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SpawnChangeling" Requirements="AP_HaveOverlordChangeling"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <ProducedUnitArray value="Changeling"/>
        <Flags index="BestUnit" value="1"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_Contaminate">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cost>
            <Vital index="Energy" value="125"/>
            <Charge Link=""/>
            <Cooldown Link=""/>
        </Cost>
        <TargetFilters value="Structure,Visible;Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="9"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_Contaminate" Requirements="AP_HaveOverlordContaminate"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_MorphToOverseer">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <Alert value="MorphComplete_Zerg"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphToOverseer" Requirements="AP_HaveOverlordMorphOverseer"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <AbilClassEnableArray index="CAbilMove" value="1"/>
        <AbilClassEnableArray index="CAbilStop" value="1"/>
        <Cost>
            <Charge Link="Abil/OverseerMut"/>
            <Cooldown Link="Abil/OverseerMut"/>
        </Cost>
        <InfoArray Unit="AP_OverlordCocoon" RandomDelayMin="0.001" RandomDelayMax="0.001"/>
        <InfoArray Score="1" Unit="AP_Overseer">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="16.6665"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="16.6665"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="16.6665"/>
                <EffectArray index="Finish" value="PostMorphHeal"/>
            </SectionArray>
        </InfoArray>
        <ValidatorArray value="HasNoCargo"/>
        <ActorKey value="OverseerMut"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_ScienceVesselTacticalJump">
        <AbilSetId value="FleetwideJump"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_FleetwideJumpCreatePrecursor"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Cooldown TimeUse="30"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <PrepTime value="0.0625"/>
        <CastIntroTime value="0"/>
        <CastOutroTime value="1.2624"/>
        <ShowProgressArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ProgressButtonArray index="Channel" value="Hyperjump"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_FleetwideJump" Requirements="AP_HaveScienceVesselTacticalJump">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_VoidRaySwarmDamageBoost">
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="60"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_VoidRaySwarmDamageBoost">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <AutoCastValidatorArray value="AP_CasterIsFiringOrAnimatingWeapon"/>
        <AutoCastValidatorArray value="AP_CasterHasVoidRaySwarmArmoredTarget"/>
        <AutoCastRange value="6"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_VoidRaySwarmDamageBoostCancel">
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Cancel" Requirements="AP_VoidRayPrismaticAlligned"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_PrimalIgniterBurrowDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_PrimalIgniterBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_PrimalIgniterBurrowUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_PrimalIgniter" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMerge id="AP_PrimalIgniterMerge">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AP_PrimalIgniterMerge" State="Restricted" Requirements="AP_HaveRoachWarren">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="AP_PrimalIgniterMerge" State="Restricted" Requirements="AP_HaveRoachWarren"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Info Unit="AP_PrimalIgniter" Time="8"/>
    </CAbilMerge>
    <CAbilMerge id="AP_MorphlingToPrimalIgniterMerge">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AP_MorphlingToPrimalIgniterMerge" State="Restricted" Requirements="AP_HaveRoachWarren">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="AP_MorphlingToPrimalIgniterMerge" State="Restricted" Requirements="AP_HaveRoachWarren"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Info Unit="AP_PrimalIgniter" Time="35">
            <Resource index="Minerals" value="50"/>
            <Resource index="Vespene" value="50"/>
        </Info>
    </CAbilMerge>
    <CAbilMergeable id="AP_PrimalIgniterMergeable">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cancelable value="0"/>
        <StateBehavior value="AP_UnmovableMerge"/>
    </CAbilMergeable>
    <CAbilMorph id="AP_BurrowSIInfestedMarineDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <ActorKey value="BurrowDown"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SIInfestedMarineBurrowed" RandomDelayMax="0.37">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowSIInfestedMarineUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <ActorKey value="BurrowUp"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SIInfestedMarine" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.0556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowSIInfestedTrooperDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <ActorKey value="BurrowDown"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SIInfestedTrooperBurrowed" RandomDelayMax="0.37">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowSIInfestedTrooperUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <ActorKey value="BurrowUp"/>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SIInfestedTrooper" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.0556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilArmMagazine id="AP_VoidRayPurifierHangar">
        <AbilSetId value="VoidRayPurifierHangar"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Flags index="Retarget" value="1"/>
        <Leash value="6"/>
        <InfoArray index="Ammo1" Time="0.1" CountStart="1" Manage="Recall" Unit="AP_VoidRayPurifierBeam">
            <Charge Link="AP_VoidRayPurifierBeam" Location="Unit"/>
            <Button DefaultButtonFace="Interceptor" Requirements="AP_ArmVoidRayPurifierBeam">
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <EffectArray index="Launch" value="AP_VoidRayPurifierSecondaryBeamLaunchSet"/>
        <EffectArray index="Death" value="TimedLifeFate"/>
        <EffectArray index="Recall" value="TimedLifeFate"/>
        <EffectArray index="Return" value="TimedLifeFate"/>
        <MaxCount value="3"/>
        <Launch value="ReleaseAtTarget"/>
    </CAbilArmMagazine>
    <CAbilQueue id="AP_VoidRayPurifierQueue3">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <QueueSize value="3"/>
        <Flags index="Hidden" value="1"/>
        <Flags index="Passive" value="1"/>
    </CAbilQueue>
    <CAbilArmMagazine id="CarrierHangar">
        <!-- Override -->
        <!-- Should fix Mind control-related issues -->
        <MaxCount value="8"/>
    </CAbilArmMagazine>
    <CAbilArmMagazine id="BroodLordHangar">
        <!-- Override -->
        <!-- Should fix Mind control-related issues -->
        <MaxCount value="2"/>
    </CAbilArmMagazine>
    <CAbilEffectTarget id="AP_Shatter">
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Effect index="0" value="Suicide"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Shatter"/>
        <Range value="0.1"/>
        <AutoCastRange value="1"/>
        <AutoCastFilters value="Ground,Massive;Structure,Missile,Destructible,Stasis,Dead,Hidden,Hallucination"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilMerge id="AP_TyrannozorMerge">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AP_TyrannozorMerge" State="Restricted" Requirements="AP_HaveUltraliskCavern">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="AP_TyrannozorMerge" State="Restricted" Requirements="AP_HaveUltraliskCavern"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Info Unit="AP_Tyrannozor" Time="8"/>
    </CAbilMerge>
    <CAbilMerge id="AP_MorphlingToTyrannozorMerge">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="SelectedUnits" DefaultButtonFace="AP_MorphlingToTyrannozorMerge" State="Restricted" Requirements="AP_HaveTyrannozorSupplyAndUltraliskCavern">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="WithTarget" DefaultButtonFace="AP_MorphlingToTyrannozorMerge" State="Restricted" Requirements="AP_HaveTyrannozorSupplyAndUltraliskCavern"/>
        <Flags index="IgnoreUnitCost" value="0"/>
        <Info Unit="AP_Tyrannozor" Time="78">
            <Resource index="Minerals" value="-100"/>
        </Info>
    </CAbilMerge>
    <CAbilMergeable id="AP_TyrannozorMergeable">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Cancelable value="0"/>
        <StateBehavior value="AP_UnmovableMerge"/>
    </CAbilMergeable>
    <CAbilEffectInstant id="AP_TyrannozorBarrageOfSpikes">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_TyrannozorBarrageOfSpikesSearch"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Charge Link="Abil/AP_TyrannozorBarrageOfSpikes"/>
            <Cooldown Link="Abil/AP_TyrannozorBarrageOfSpikes" Location="Unit" TimeUse="10"/>
        </Cost>
        <Arc value="360"/>
        <AutoCastRange value="2"/>
        <AutoCastValidatorArray value="AP_TyrannozorBarrageOfSpikesEnemiesNearby"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TyrannozorBarrageOfSpikes" Requirements="AP_HaveTyrannozorBarrageOfSpikes"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_TyrannozorBurrowDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_TyrannozorBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_TyrannozorBurrowUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_Tyrannozor" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MorphlingToTyrannozorMergeDummy">
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MorphlingToTyrannozorMerge"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_MercCompoundInfantry">
        <Effect index="0" value="AP_MercCompoundInfantryTabSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercInfantry" Requirements="AP_MercCompoundCanSwitchInfantry"/>
        <Cost index="0"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_MercCompoundVehicles">
        <Effect index="0" value="AP_MercCompoundVehiclesTabSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercVehicle" Requirements="AP_MercCompoundCanSwitchVehicles"/>
        <Cost index="0"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_MercCompoundStarships">
        <Effect index="0" value="AP_MercCompoundStarshipsTabSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercShip" Requirements="AP_MercCompoundCanSwitchStarships"/>
        <Cost index="0"/>
    </CAbilEffectInstant>
    <CAbilQueue id="AP_que7">
        <EditorCategories value="Race:Neutral,AbilityorEffectType:Structures"/>
        <QueueSize value="7"/>
    </CAbilQueue>
    <CAbilEffectInstant id="AP_ZergMercCompoundBroodWar">
        <Effect index="0" value="AP_ZergMercCompoundBroodWarTabSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ZergMercBroodWar" Requirements="AP_ZergMercCompoundCanSwitchBroodWar"/>
        <Cost index="0"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ZergMercCompoundSC2">
        <Effect index="0" value="AP_ZergMercCompoundSC2TabSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ZergMercSC2" Requirements="AP_ZergMercCompoundCanSwitchSC2"/>
        <Cost index="0"/>
    </CAbilEffectInstant>
    <CAbilEffectInstant id="AP_ZergMercCompoundInfested">
        <Effect index="0" value="AP_ZergMercCompoundInfestedTabSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ZergMercInfested" Requirements="AP_ZergMercCompoundCanSwitchInfested"/>
        <Cost index="0"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_BurrowMercZerglingDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercZerglingBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowMercZerglingUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercZergling" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="1.0625"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_MercTorrasqueCorpse">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercTorrasqueSummon"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="RallyReset" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercTorrasqueCorpse">
            <SectionArray index="Stats">
                <EffectArray index="Finish" value="AP_MercTorrasqueCorpseSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_MercTorrasqueChrysalis">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MercUltraliskSummon"/>
        <ActorKey value="AP_MercUltralisk"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="BestUnit" value="1"/>
        <Flags index="Birth" value="1"/>
        <Flags index="DisableAbils" value="1"/>
        <Flags index="FastBuild" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="Produce" value="1"/>
        <Flags index="Rally" value="1"/>
        <Flags index="ShowProgress" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercTorrasqueChrysalis" RallyResetPhase="Delay">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
        </InfoArray>
        <InfoArray Score="1" Unit="AP_MercUltralisk">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="9.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="9.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="9.5"/>
                <EffectArray index="Finish" value="AP_MercTorrasqueCorpseRevive"/>
            </SectionArray>
        </InfoArray>
        <Alert value="AP_TorrasqueReviveComplete"/>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowMercUltraliskDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercUltraliskBurrowed" RandomDelayMax="0.25">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.8332"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowMercUltraliskUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercUltralisk" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_LeapAttack">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_HunterlingLeapLaunchMissile"/>
        <Cost>
            <Charge Link=""/>
            <Cooldown TimeUse="12"/> <!-- increased from 4 vanilla-->
        </Cost>
        <Range value="10"/>
        <!--ErrorAlert value="Error/AP_LeapAttackError"/-->
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_LeapAttack"/>
        <CursorEffect value="AP_HunterlingLeapImpactDamageSearch"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BattlecruiserMengskYamato">
        <AbilSetId value="AP_BattlecruiserMengskYamato"/>
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BattlecruiserMengskYamatoLevelSwitch"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeUse value="120"/>
            </Charge>
            <Cooldown Link="Yamato" Location="Unit"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/Yamato"/>
            <Cooldown Link="Abil/Yamato"/>
        </InterruptCost>
        <TargetFilters value="-;Player,Ally"/>
        <Range value="10"/>
        <RangeSlop value="10"/>
        <PrepTime value="1.5"/>
        <FinishTime value="0.9"/>
        <Marker Link="Abil/Yamato"/>
        <ShowProgressArray index="Prep" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="Yamato"/>
        <ProgressButtonArray index="Prep" value="AP_YamatoGunMengsk"/>
        <EffectRange value="0,500"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_YamatoGunMengsk" Requirements="AP_HaveMengskVeterancyBattlecruiserMengskLevel1"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BattlecruiserMengskYamatoTwoCharges">
        <AbilSetId value="AP_BattlecruiserMengskYamato"/>
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BattlecruiserMengskYamatoLevelSwitch"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="Abil/BattlecruiserMengskYamato"/>
                <Location value="Unit"/>
                <TimeUse value="120"/>
            </Charge>
            <Cooldown Link="Yamato" Location="Unit"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/Yamato"/>
            <Cooldown Link="Abil/Yamato"/>
        </InterruptCost>
        <TargetFilters value="-;Player,Ally"/>
        <Range value="10"/>
        <RangeSlop value="10"/>
        <PrepTime value="1.5"/>
        <FinishTime value="0.9"/>
        <Marker Link="Abil/Yamato"/>
        <ShowProgressArray index="Prep" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="Yamato"/>
        <ProgressButtonArray index="Prep" value="AP_YamatoGunMengsk"/>
        <EffectRange value="0,500"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_YamatoGunMengsk" Requirements="AP_HaveMengskVeterancyBattlecruiserMengskGELevel2"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BattlecruiserMengskHyperjump">
        <AbilSetId value="FleetwideJump"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_HyperjumpMengskCreatePrecursor"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge>
                <CountMax value="1"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="Abil/HyperjumpNoVision"/>
                <Location value="Unit"/>
                <TimeUse value="60"/>
            </Charge>
            <Cooldown Link="Abil/HyperjumpNoVision" Location="Unit"/>
        </Cost>
        <Range value="500"/>
        <CastIntroTime value="0"/>
        <CastOutroTime value="1.2624"/>
        <ShowProgressArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ProgressButtonArray index="Channel" value="AP_BattlecruiserMengskHyperjump"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BattlecruiserMengskHyperjump" Requirements="AP_HaveMengskVeterancyBattlecruiserMengskLevel1AndHyperjump">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BattlecruiserMengskHyperjumpTwoCharges">
        <AbilSetId value="FleetwideJump"/>
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_HyperjumpMengskCreatePrecursor"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge>
                <CountMax value="2"/>
                <CountStart value="2"/>
                <CountUse value="1"/>
                <Link value="Abil/HyperjumpNoVision"/>
                <Location value="Unit"/>
                <TimeUse value="60"/>
            </Charge>
            <Cooldown Link="Abil/HyperjumpNoVision" Location="Unit"/>
        </Cost>
        <Range value="500"/>
        <CastIntroTime value="0"/>
        <CastOutroTime value="1.2624"/>
        <ShowProgressArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ProgressButtonArray index="Channel" value="AP_BattlecruiserMengskHyperjump"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BattlecruiserMengskHyperjump" Requirements="AP_HaveMengskVeterancyBattlecruiserMengskGELevel2AndHyperjump">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_BattlecruiserShieldRestore">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BattlecruiserShieldRestore"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
            <Cooldown TimeUse="20"/>
        </Cost>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="CasterShieldsLT1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AdvancedDefensiveMatrix" Requirements="AP_HaveBattlecruiserAdvancedDefensiveMatrix"/>
    </CAbilEffectInstant>
    <CAbilTrain id="AP_EliteStarportTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Range value="5"/>
        <InfoArray index="Train1" Time="110">
            <Button DefaultButtonFace="AP_BattlecruiserMengsk" State="Restricted" Requirements="AP_HaveFusionCore"/>
            <Unit value="AP_BattlecruiserMengsk"/>
        </InfoArray>
        <InfoArray index="Train2" Time="42">
            <Button DefaultButtonFace="AP_VikingMengskFighter" State="Restricted"/>
            <Unit value="AP_VikingMengskFighter"/>
        </InfoArray>
        <InfoArray index="Train3" Time="60">
            <Button DefaultButtonFace="AP_LiberatorMengsk" State="Restricted"/>
            <Unit value="AP_LiberatorMengsk"/>
        </InfoArray>
        <InfoArray index="Train4" Time="50">
            <Button DefaultButtonFace="AP_WraithMengsk" State="Restricted"/>
            <Unit value="AP_WraithMengsk"/>
        </InfoArray>
        <InfoArray index="Train5" Time="60">
            <Button DefaultButtonFace="AP_BansheeMengsk" State="Restricted"/>
            <Unit value="AP_BansheeMengsk"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilTrain id="AP_EliteFactoryTrain">
    <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
    <Range value="5"/>
        <InfoArray index="Train1" Time="45">
            <Button DefaultButtonFace="AP_SiegeTankMengsk" State="Restricted"/>
            <Unit value="AP_SiegeTankMengsk"/>
        </InfoArray>
        <InfoArray index="Train2" Time="60">
            <Button DefaultButtonFace="AP_ThorMengsk" State="Restricted" Requirements="AP_HaveArmory"/>
            <Unit value="AP_ThorMengsk"/>
        </InfoArray>
        <InfoArray index="Train3" Time="40">
            <Button DefaultButtonFace="AP_GoliathMengsk" State="Restricted"/>
            <Unit value="AP_GoliathMengsk"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilBuild id="AP_SITerranAddOns">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Alert value="AddOnComplete"/>
        <Type value="AddOn"/>
        <FlagArray index="InstantPlacement" value="1"/>
        <FlagArray index="PeonDisableAbils" value="1"/>
        <FlagArray index="ShowProgress" value="1"/>
        <Name value="Abil/Name/AP_SITerranAddOns"/>
    </CAbilBuild>
    <CAbilBuild id="AP_SIFactoryAddOns" parent="AP_SITerranAddOns">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <BuildMorphAbil value="AP_SIFactoryLiftOff"/>
        <InfoArray index="Build1" Unit="AP_SIFactoryTechLab" Time="25">
            <Button DefaultButtonFace="AP_BuildSITechLabFactory"/>
        </InfoArray>
        <Name value="Abil/Name/AP_SIFactoryAddOns"/>
    </CAbilBuild>
    <CAbilBuild id="AP_SIStarportAddOns" parent="AP_SITerranAddOns">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <BuildMorphAbil value="AP_SIStarportLiftOff"/>
        <InfoArray index="Build1" Unit="AP_SIStarportTechLab" Time="25">
            <Button DefaultButtonFace="AP_BuildSITechLabStarport"/>
        </InfoArray>
        <Name value="Abil/Name/AP_SIStarportAddOns"/>
    </CAbilBuild>
    <CAbilMorph id="AP_SITechLabMorph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SITechLab" Requirements="AP_ShowIfHaveNoInfAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <InfoArray Unit="AP_SITechLab">
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.125"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_SIFactoryTechLabMorph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SITechLabFactory" Requirements="AP_ShowIfHaveInfFactAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_SIFactoryTechLab"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SIStarportTechLabMorph">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SITechLabStarport" Requirements="AP_ShowIfHaveInfStarportAddOnParent"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="Produce" value="1"/>
        <InfoArray Unit="AP_SIStarportTechLab"/>
    </CAbilMorph>
    <CAbilMorph id="AP_SIFactoryLiftOff" parent="AP_SIBuildingUproot" unit="AP_SIFactoryFlying"/>
    <CAbilMorphPlacement id="AP_SIFactoryLand" parent="AP_SIBuildingRoot" unit="AP_SIFactory"/>
    <CAbilMorph id="AP_SIStarportLiftOff" parent="AP_SIBuildingUproot" unit="AP_SIStarportFlying"/>
    <CAbilMorphPlacement id="AP_SIStarportLand" parent="AP_SIBuildingRoot" unit="AP_SIStarport"/>
    <CAbilTrain id="AP_SIFactoryTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Activity value="UI/Building"/>
        <InfoArray index="Train2" Effect="AP_CocoonCreateSet">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="20"/>
                <TimeUse value="20"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_TrainInfestedSiegeTank" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_SICocoonInfestedSiegeTank"/>
            <Flags index="InheritRally" value="1"/>
        </InfoArray>
        <InfoArray index="Train3" Effect="AP_CocoonCreateSet">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="20"/>
                <TimeUse value="20"/>
                <Flags index="EnableChargeTimeQueuing" value="1"/>
            </Charge>
            <Button DefaultButtonFace="AP_TrainInfestedDiamondBack"/>
            <Unit value="AP_SICocoonInfestedDiamondBack"/>
            <Flags index="InheritRally" value="1"/>
        </InfoArray>
        <Alert value=""/>
        <Flags index="UnitOrderQueue" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <Range value="5"/>
    </CAbilTrain>
    <CAbilTrain id="AP_SIStarportTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <InfoArray index="Train1" Effect="AP_CocoonCreateSet">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="20"/>
                <TimeUse value="20"/>
            </Charge>
            <Button DefaultButtonFace="AP_SIBanshee" Requirements="HaveAttachedTechLab"/>
            <Unit value="AP_SICocoonInfestedBanshee"/>
            <Flags index="InheritRally" value="1"/>
        </InfoArray>
        <InfoArray index="Train2" Effect="AP_CocoonCreateSet">
            <Charge>
                <CountMax value="2"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="20"/>
                <TimeUse value="20"/>
            </Charge>
            <Button DefaultButtonFace="AP_SILiberator"/>
            <Unit value="AP_SICocoonInfestedLiberator"/>
            <Flags index="InheritRally" value="1"/>
        </InfoArray>
        <Alert value=""/>
        <Flags index="UnitOrderQueue" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <Range value="5"/>
    </CAbilTrain>
    <CAbilTrain id="AP_SIMorphtoInfestedSiegeTank">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Activity value="UI/AP_SISpawning"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_SICocoonInfestedSiegeTank"/>
        <InfoArray index="Train1" Time="32" Effect="">
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="125"/>
            <Button DefaultButtonFace="AP_SISiegeTank"/>
            <Unit value="AP_StukovInfestedSiegeTankUprooted"/>
            <Flags index="AutoCast" value="1"/>
            <Flags index="AutoCastOn" value="1"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilMorph id="AP_StukovInfestedSiegeTankRoot">
        <AbilSetId value="SiegeMode"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StukovInfestedSiegeTankRoot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="Root"/>
        <Flags index="IgnoreCollision" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_StukovInfestedSiegeTank" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_StukovInfestedSiegeTankUproot">
        <AbilSetId value="Unsieged"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StukovInfestedSiegeTankUproot"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="Uproot"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_StukovInfestedSiegeTankUprooted" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_StukovInfestedSiegeTankDeepTunnel">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_StukovInfestedSiegeTankDeepTunnelCU"/>
        <Flags index="BestUnit" value="0"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="60"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CastIntroTime value="2"/>
        <CastOutroTime value="1"/>
        <FinishTime value="0.5"/>
        <ShowProgressArray index="Cast" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value="AP_DeepTunnelCU"/>
        <ProgressButtonArray index="Cast" value="AP_StukovInfestedSiegeTankDeepTunnel"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StukovInfestedSiegeTankDeepTunnel" Requirements="AP_HaveSISiegeTankDeepTunnel">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <PrepEffect value="AP_SISiegeTankSiegedTentacleDisable"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_ExplodeSIVolatileInfested">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SIVolatileInfestedDeathExplodeSet"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Explode"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_BurrowSIVolatileInfestedDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SIVolatileInfestedBurrowed" RandomDelayMax="0.37">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="1.333"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1.333"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowSIVolatileInfestedUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SIVolatileInfested" RandomDelayMax="0.37">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="2"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.1"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Air,Missile,Stasis,Dead,Hidden"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilTrain id="AP_SIMorphtoInfestedDiamondBack">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Activity value="UI/AP_SISpawning"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_SICocoonInfestedDiamondBack"/>
        <InfoArray index="Train1" Time="32" Effect="">
            <Resource index="Minerals" value="225"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="AP_SIDiamondBack"/>
            <Unit value="AP_StukovInfestedDiamondBack"/>
            <Flags index="AutoCast" value="1"/>
            <Flags index="AutoCastOn" value="1"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_StukovInfestedDiamondbackSnare">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_StukovInfestedDiamondbackSnareLM"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Flags index="TransientPreferred" value="1"/>
        <Arc value="360"/>
        <Cost>
            <Cooldown TimeUse="45"/>
        </Cost>
        <TargetFilters value="Air,Visible;Player,Ally,Neutral,Ground,Structure,Missile,Stasis,Dead,Invulnerable,Unstoppable"/>
        <Range value="6"/>
        <AutoCastRange value="6"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_NoDiamondBackSnareTargeted"/>
        <!--PrepTime value="0.5"/-->
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_StukovInfestedDiamondbackSnare" Requirements="AP_HaveInfestedDiamondbackBasicEnsnare"/>
    </CAbilEffectTarget>
    <CAbilTrain id="AP_SIMorphtoInfestedBanshee">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Activity value="UI/AP_SISpawning"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_SICocoonInfestedBanshee"/>
        <InfoArray index="Train1" Time="43" Effect="">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="100"/>
            <Button DefaultButtonFace="Aberration"/>
            <Unit value="AP_StukovInfestedBanshee"/>
            <Flags index="AutoCast" value="1"/>
            <Flags index="AutoCastOn" value="1"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilMorph id="AP_BurrowStukovInfestedBansheeDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown" Requirements="AP_HaveStukovInfestedBansheeBurrowRegeneration">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowDown"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_StukovInfestedBansheeBurrowed" RandomDelayMax="0.3703">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowStukovInfestedBansheeUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_StukovInfestedBanshee" RandomDelayMax="0.37">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="1.333"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.1"/>
                <DurationArray index="Duration" value="0.6"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.1"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilBehavior id="AP_InfestedBansheeCloakingField">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnBanshee_Stukov">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_BansheeCloak_Stukov"/>
    </CAbilBehavior>
    <CAbilTrain id="AP_SIMorphtoInfestedLiberator">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Activity value="UI/AP_SISpawning"/>
        <Flags index="KillOnCancel" value="1"/>
        <Flags index="KillOnFinish" value="1"/>
        <Flags index="Select" value="1"/>
        <Flags index="WaitForFood" value="0"/>
        <MorphUnit value="AP_SICocoonInfestedLiberator"/>
        <InfoArray index="Train1" Time="43" Effect="">
            <Resource index="Minerals" value="150"/>
            <Resource index="Vespene" value="125"/>
            <Button DefaultButtonFace="AP_SILiberator"/>
            <Unit value="AP_SILiberator"/>
            <Flags index="AutoCast" value="1"/>
            <Flags index="AutoCastOn" value="1"/>
            <Flags index="IgnorePlacement" value="1"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilAugment id="AP_SILiberatorSwarmFormLaunchAttack">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SILiberatorBecometheSwarm" Requirements="AP_HaveSILiberatorInfestedBees"/>
        <AbilCmd value="attack,Execute"/>
        <Effect value="AP_SILiberatorSwarmFormPermanentLM"/>
        <AutoCastValidatorArray value="AP_NotHaveSILiberatorSwarmFormPermanentDamageSearch"/>
        <AutoCastValidatorArray value="CasterNotHoldingPosition"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Cooldown TimeUse="3"/>
        </Cost>
        <AutoCastFilters value="Air,Visible;Dead,Hidden,Invulnerable"/>
    </CAbilAugment>
    <CAbilBehavior id="AP_SILiberatorBaseAttackSwap">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_SILiberatorBaseAttackEnable" Requirements="AP_HaveSILiberatorInfestedBees">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_SILiberatorBaseAttackDisable" Requirements="AP_HaveSILiberatorInfestedBees">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_EnableBaseSILiberatorAttackSwap"/>
    </CAbilBehavior>
    <CAbilMorph id="AP_AssaultModeMengsk">
        <OrderArray index="0">
            <DisplayType value="Confirm"/>
            <Color value="255,0,255,0"/>
            <Model value="Assets\UI\Cursors\WayPointAttack_Void\WayPointAttack_Void.m3"/>
            <LineTexture value="Assets\Textures\WayPointLine.dds"/>
        </OrderArray>
        <AbilSetId value="AssaultMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_AssaultModeMengsk">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_VikingMengskAssault" CollideRange="3.75" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.34"/>
                <EffectArray index="Finish" value="AP_VikingMengskGroundAttackDamage"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.533"/>
                <DurationArray index="Duration" value="1.2"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.34"/>
                <EffectArray index="Finish" value="AP_VikingMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_FighterModeMengsk">
        <AbilSetId value="FighterMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_FighterModeMengsk">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_VikingMengskFighter" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="2.333"/>
                <EffectArray index="Finish" value="AP_VikingMengskAirAttackDamage"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="1.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.6"/>
                <DurationArray index="Duration" value="0.85"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="2.333"/>
                <EffectArray index="Finish" value="AP_VikingMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_SiegeModeMengsk">
        <OrderArray index="0">
            <DisplayType value="Confirm"/>
            <Color value="255,0,255,0"/>
            <Model value="Assets\UI\Cursors\WayPointAttack_Void\WayPointAttack_Void.m3"/>
            <LineTexture value="Assets\Textures\WayPointLine.dds"/>
        </OrderArray>
        <AbilSetId value="SiegeMode"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SiegeModeMengsk">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="SiegeMode"/>
        <Flags index="IgnoreCollision" value="0"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_SiegeTankMengskSieged" RandomDelayMax="0.5">
            <SectionArray index="Abils">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Actor">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Facing">
                <DurationArray index="Duration" value="0.5"/>
            </SectionArray>
            <SectionArray index="Mover">
                <DurationArray index="Delay" value="0.5"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5"/>
                <DurationArray index="Duration" value="3.5417"/>
                <EffectArray index="Finish" value="AP_SiegeTankSiegeModeProgressiveRangeInceaseAB"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_UnsiegeMengsk">
        <AbilSetId value="Unsieged"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_UnsiegeMengsk">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="Unsiege"/>
        <Flags index="IgnoreFacing" value="1"/>
        <InfoArray Unit="AP_SiegeTankMengsk" RandomDelayMax="0.5">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="3.5417"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_ThorMengskSiegeTargeted">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ThorMengskSiegeTargetDelayCP"/>
        <Range value="7"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThorMengskSiege"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_ThorMengskSiege">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <InfoArray Unit="AP_ThorMengskSieged">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3"/>
                <EffectArray index="Finish" value="AP_ThorMengskSiegeMorphingRBSet"/>
            </SectionArray>
        </InfoArray>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThorMengskSiege"/>
        <Flags index="IgnoreFacing" value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="AP_ThorMengskSiegeTargetedIncreasedRange">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ThorMengskSiegeTargetDelayCP"/>
        <Range value="9"/>
        <AINotifyEffect value="AP_ThorMengskSiegeTargeted"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThorMengskSiege" Requirements="AP_ThorMengskSiegedTargetIncreasedRange"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ThorMengskSiegeTargetedLargeAoE">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_ThorMengskSiegeTargetLargeAoEDelayCP"/>
        <Range value="9"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThorMengskSiege" Requirements="AP_ThorMengskSiegedTargetLargeAoE"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_ThorMengskUnsiege">
        <AbilSetId value="NormalMode"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <InfoArray Unit="AP_ThorMengsk">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3"/>
                <EffectArray index="Finish" value="AP_ThorMengskWeaponChange"/>
            </SectionArray>
        </InfoArray>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThorMengskUnsiege">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ThorMengskUnsiegeAPMode">
        <AbilSetId value="ThorAPMode"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <InfoArray Unit="AP_ThorMengsk">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="3"/>
                <EffectArray index="Finish" value="AP_ThorMengskContinueMorphingToAPSet"/>
            </SectionArray>
        </InfoArray>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ThorMengskUnsiege" Requirements="AP_HaveThorMorph">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="IgnoreFacing" value="1"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_MarauderMengskAttackSpeedBoost">
        <AbilSetId value="SuperStimpack"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_MarauderMengskAttackSpeedBoostAB"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Flags index="PassengerAcquirePassengers" value="1"/>
        <Cost>
            <Charge Link="Abil/SuperStimpackMarine"/>
            <Cooldown Link="Abil/SuperStimpackMarine" TimeUse="30"/>
        </Cost>
        <AutoCastRange value="5"/>
        <AutoCastValidatorArray value="AP_CasterIsFiringWeapon"/>
        <AINotifyEffect value="AP_MarauderMengskAttackSpeedBoostAB"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_MarauderMengskAttackSpeedBoost" Requirements="AP_HaveMarauderMengskVeterancyLevel4">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilTrain id="AP_EliteBarracksTrain">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Structures"/>
        <Range value="5"/>
        <InfoArray index="Train1" Time="30">
            <Button DefaultButtonFace="AP_MarauderMengsk" State="Restricted"/>
            <Unit value="AP_MarauderMengsk"/>
        </InfoArray>
        <InfoArray index="Train2" Time="40">
            <Button DefaultButtonFace="AP_GhostMengsk" State="Restricted" Requirements="AP_HaveShadowOps"/>
            <Unit value="AP_GhostMengsk"/>
        </InfoArray>
        <InfoArray index="Train3" Time="25">
            <Button DefaultButtonFace="AP_MarineMengsk" State="Restricted"/>
            <Unit value="AP_MarineMengsk"/>
        </InfoArray>
        <InfoArray index="Train4" Time="25">
            <Button DefaultButtonFace="AP_MedicMengsk" State="Restricted"/>
            <Unit value="AP_MedicMengsk"/>
        </InfoArray>
    </CAbilTrain>
    <CAbilEffectTarget id="AP_GhostMengskEMPBig">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostMengskEMPBigLM"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Cooldown TimeUse="8"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Missile,Destructible,Stasis,Hidden,Invulnerable"/>
        <Range value="10"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="AP_GhostMengskEMPBigMinimum3EnemyTargets"/>
        <PrepTime value="0.01"/>
        <FinishTime value="0.0625"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_GhostMengskEMPBigSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostMengskEMP"/>
        <CmdButtonArray index="Cancel" Requirements="AP_ShowMengskVeterancyGhostMengskGELevel3"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Destructible,Stasis,Hidden,Invulnerable"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GhostMengskEMPShortStun">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostMengskEMPSmallLM"/>
        <Flags index="AutoCast" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Charge Link="Abil/GhostMengskEMPSmall"/>
            <Cooldown Link="Abil/GhostMengskEMPSmall" TimeUse="8"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Missile,Destructible,Stasis,Hidden,Invulnerable"/>
        <Range value="10"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Destructible,Stasis,Hidden,Invulnerable"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="AP_GhostMengskEMPSmallMinimum3EnemyTargets"/>
        <PrepTime value="0.01"/>
        <FinishTime value="0.0625"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_GhostMengskEMPSmallSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostMengskEMP" Requirements="AP_UseMengskVeterancyGhostMengskLTLevel3"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GhostMengskEMPLongStun">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostMengskEMPSmallLM"/>
        <Flags index="AutoCast" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Charge Link="Abil/GhostMengskEMPSmall"/>
            <Cooldown Link="Abil/GhostMengskEMPSmall" TimeUse="8"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/GhostMengskEMPShortStun"/>
            <Cooldown Link="Abil/GhostMengskEMPShortStun"/>
        </InterruptCost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Missile,Destructible,Stasis,Hidden,Invulnerable"/>
        <Range value="10"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral,Missile,Destructible,Stasis,Hidden,Invulnerable"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="AP_GhostMengskEMPSmallMinimum3EnemyTargets"/>
        <PrepTime value="0.01"/>
        <FinishTime value="0.0625"/>
        <Marker Link="Abil/GhostMengskEMPShortStun"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_GhostMengskEMPSmallSearch"/>
        <AINotifyEffect value="AP_GhostMengskEMPShortStun"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostMengskEMPLongStun" Requirements="AP_ShowMengskVeterancyGhostMengskGELevel3"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GhostMengskIrradiateSmallDamage">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_GhostMengskIrradiateLM"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Charge Link="Abil/Irradiate"/>
            <Cooldown Link="Abil/Irradiate" TimeUse="5"/>
        </Cost>
        <TargetFilters value="Biological,Visible;Player,Ally,Neutral,Structure,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <Arc value="360"/>
        <AutoCastFilters value="Biological,Visible;Player,Ally,Neutral,Structure,Missile,Destructible,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="AP_NotHaveGhostMengskIrradiate"/>
        <AutoCastValidatorArray value="AP_NotHaveGhostMengskIrradiatePreMarker"/>
        <AutoCastValidatorArray value="AP_GhostMengskIrradiateMinimum3EnemyTargets"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostMengskIrradiate" Requirements="AP_UseMengskVeterancyGhostMengskLTLevel3"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GhostMengskIrradiateBigDamage">
        <EditorCategories value="AbilityorEffectType:Units,Race:Terran"/>
        <Effect index="0" value="AP_GhostMengskIrradiateLM"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
            <Charge Link="Abil/Irradiate"/>
            <Cooldown Link="Abil/Irradiate" TimeUse="5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/GhostMengskIrradiateSmallDamage"/>
            <Cooldown Link="Abil/GhostMengskIrradiateSmallDamage"/>
        </InterruptCost>
        <TargetFilters value="Biological,Visible;Player,Ally,Neutral,Structure,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <Arc value="360"/>
        <AutoCastFilters value="Biological,Visible;Player,Ally,Neutral,Structure,Missile,Destructible,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="AP_NotHaveGhostMengskIrradiate"/>
        <AutoCastValidatorArray value="AP_NotHaveGhostMengskIrradiatePreMarker"/>
        <AutoCastValidatorArray value="AP_GhostMengskIrradiateMinimum3EnemyTargets"/>
        <Marker Link="Abil/GhostMengskIrradiateSmallDamage"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <AINotifyEffect value=""/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostMengskIrradiateBigDamage" Requirements="AP_ShowMengskVeterancyGhostMengskGELevel3"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GhostMengskNuke">
        <TechPlayer value="Owner"/>
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostMengskNukeCalldown"/>
        <Range value="12"/>
        <FinishTime value="2.5"/>
        <CancelableArray index="Channel" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <ValidatedArray index="Channel" value="0"/>
        <AlertArray index="Cast" value="CalldownLaunch"/>
        <CursorEffect value="AP_GhostMengskNukeDamage"/>
        <CalldownEffect value="AP_GhostMengskNukeCalldown"/>
        <AINotifyEffect value="AP_GhostMengskNukeCalldown"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_NukeCalldownMengsk" Requirements="AP_HaveNukeMengsk"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SnipeMengsk">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SnipeMengskDamage"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <TargetFilters value="Biological,Visible;Self,Structure,Destructible,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="10"/>
        <CastIntroTime value="0.5"/>
        <Marker>
            <MatchFlags index="Link" value="0"/>
            <MatchFlags index="CasterUnit" value="1"/>
        </Marker>
        <CmdButtonArray index="Execute" DefaultButtonFace="Snipe"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_PenetratingShot">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_PenetratingShotCreatePersistent"/>
        <Flags index="BestUnit" value="0"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <Range value="500"/>
        <CastIntroTime value="2"/>
        <FinishTime value="0"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CursorEffect value="AP_PenetratingShotSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PenetratingShot"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_GhostMengskSuperCloak">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_GhostMengskSuperCloakAB"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown Link="Behavior/AP_GhostMengskSuperCloakController" Location="Unit" TimeUse="30"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GhostMengskSuperCloak" Requirements="AP_GhostMengskSuperCloakUse"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="CasterInCombat"/>
    </CAbilEffectInstant>
    <CAbilBuild id="AP_TrooperMengskBuild">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <FlagArray index="Interruptible" value="1"/>
        <FlagArray index="PeonDisableCollision" value="1"/>
        <InfoArray index="Build6" Unit="AP_MissileTurret" Time="25">
            <Button DefaultButtonFace="AP_MissileTurret" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        </InfoArray>
        <InfoArray index="Build7" Unit="AP_Bunker" Time="30">
            <Button DefaultButtonFace="AP_Bunker" State="Restricted" Requirements="AP_HideFortifiedBunker"/>
        </InfoArray>
        <InfoArray index="Build8" Unit="AP_PsiDisruptor" Time="50">
            <Button DefaultButtonFace="AP_PsiDisruptor" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Build9" Unit="AP_SensorTower" Time="25">
            <Button DefaultButtonFace="AP_SensorTower" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        </InfoArray>
        <InfoArray index="Build20" Unit="AP_PerditionTurret" Time="35">
            <Button DefaultButtonFace="AP_PerditionTurret" State="Restricted" Requirements="AP_HaveEngineeringBay"/>
        </InfoArray>
        <InfoArray index="Build22" Unit="AP_HiveMindEmulator" Time="50">
            <Button DefaultButtonFace="AP_HiveMindEmulator" State="Restricted"/>
        </InfoArray>
        <InfoArray index="Build23" Unit="AP_Bunker" Time="30">
            <Button DefaultButtonFace="AP_BunkerFortified" State="Restricted" Requirements="AP_UseFortifiedBunker"/>
        </InfoArray>
        <InfoArray index="Build24" Unit="AP_ThorBuild" Time="60">
            <Button DefaultButtonFace="AP_Thor" State="Restricted" Requirements="AP_BuildThorBySCV"/>
        </InfoArray>
        <InfoArray index="Build25" Unit="AP_DevastatorTurret" Time="30">
            <Button DefaultButtonFace="AP_BuildDevastatorTurret" State="Restricted" Requirements="AP_HaveFactory"/>
        </InfoArray>
    </CAbilBuild>
    <CAbilMorph id="AP_TrooperMengskSpecializeAA">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TrooperMengskSpecializeAA" Requirements="AP_HaveTrooperMengskAA">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="Transient" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_TrooperMengskAA">
            <SectionArray index="Abils">
                <EffectArray index="Finish" value="AP_TrooperMengskWeaponEquipSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_TrooperMengskSpecializeImproved">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TrooperMengskSpecializeImproved" Requirements="AP_HaveTrooperMengskImproved">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="Transient" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_TrooperMengskImproved">
            <SectionArray index="Abils">
                <EffectArray index="Finish" value="AP_TrooperMengskWeaponEquipSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_TrooperMengskSpecializeFlamethrower">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_TrooperMengskSpecializeFlamethrower" Requirements="AP_HaveMengskFlamethrower">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="BestUnit" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="Transient" value="1"/>
        <Flags index="WaitUntilStopped" value="0"/>
        <InfoArray Unit="AP_TrooperMengskFlamethrower">
            <SectionArray index="Abils">
                <EffectArray index="Finish" value="AP_TrooperMengskWeaponEquipSet"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilBuild id="AP_WarpRelocate">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <FlagArray index="IgnoreUnitCost" value="1"/>
        <FlagArray index="PeonDisableAbils" value="1"/>
        <FlagArray index="ShowProgress" value="1"/>
        <InfoArray index="Build1" Unit="AP_Nexus" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
            <ValidatorArray value="AP_TargetLocationHasPower"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_Gateway" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build5" Unit="AP_Forge" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build6" Unit="AP_FleetBeacon" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build8" Unit="AP_PhotonCannon" Time="10">
            <Resource index="Minerals" value="50"/>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build10" Unit="AP_Stargate" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build11" Unit="AP_TemplarArchive" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build12" Unit="AP_DarkShrine" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build13" Unit="AP_RoboticsBay" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build14" Unit="AP_RoboticsFacility" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build15" Unit="AP_CyberneticsCore" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build22" Unit="AP_ShieldBattery" Time="10">
            <Resource index="Minerals" value="50"/>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build25" Unit="AP_KhaydarinMonolith" Time="10">
            <Resource index="Minerals" value="50"/>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build26" Unit="AP_WarpGate" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build27" Unit="AP_StargateWarp" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <InfoArray index="Build28" Unit="AP_RoboticsFacilityWarp" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
        </InfoArray>
        <Alert value="NoAlert"/>
        <Range value="1000"/>
        <EffectArray index="Start" value="AP_WarpRelocateStartSet"/>
        <EffectArray index="Finish" value="AP_WarpRelocateFinishSet"/>
        <EffectArray index="Cancel" value="AP_WarpRelocateEndSet"/>
    </CAbilBuild>
    <CAbilBuild id="AP_WarpRelocateAssimilator">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <FlagArray index="IgnoreUnitCost" value="1"/>
        <FlagArray index="PeonDisableAbils" value="1"/>
        <FlagArray index="ShowProgress" value="1"/>
        <InfoArray index="Build3" Unit="AP_Assimilator" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
            <ValidatorArray value="AP_HasVespeneAndLocationHasPower"/>
        </InfoArray>
        <InfoArray index="Build24" Unit="AP_AutomatedAssimilator" Time="10">
            <Resource index="Minerals" value="50"/>
            <Charge>
                <CountMax value="3"/>
                <CountStart value="1"/>
                <CountUse value="1"/>
                <Link value="AP_WarpRelocate"/>
                <Location value="Player"/>
                <TimeUse value="45"/>
            </Charge>
            <Cooldown TimeUse="10"/>
            <Button DefaultButtonFace="AP_WarpRelocate" Requirements="AP_HaveWarpRelocate"/>
            <ValidatorArray value="AP_HasVespeneAndLocationHasPower"/>
        </InfoArray>
        <Alert value="NoAlert"/>
        <Range value="1000"/>
        <EffectArray index="Start" value="AP_WarpRelocateStartSet"/>
        <EffectArray index="Finish" value="AP_WarpRelocateAssimilatorFinishSet"/>
        <EffectArray index="Cancel" value="AP_WarpRelocateEndSet"/>
    </CAbilBuild>
    <CAbilEffectTarget id="AP_MengskMedicHeal" parent="AP_heal">
        <Effect index="0" value="AP_MedicMengskHealSwitch"/>
        <CmdButtonArray index="Execute" Requirements="AP_NotHaveMedicMengskDoubleBeamHealAndNoMech"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MengskMedicHealPlusMech" parent="AP_MengskMedicHeal">
        <TargetFilters index="0" value="Visible;Self,Enemy,Structure,Missile,UnderConstruction,Dead,Hidden"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveMedicMechAndNoMengskMedicDoubleBeam"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MengskMedicDoubleBeamHeal" parent="AP_heal">
        <Effect index="0" value="AP_MedicMengskHealInitialSwitch"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveMedicMengskDoubleBeamHealNoMech"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_MengskMedicDoubleBeamHealPlusMech" parent="AP_MengskMedicDoubleBeamHeal">
        <TargetFilters index="0" value="Visible;Self,Enemy,Structure,Missile,UnderConstruction,Dead,Hidden"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveMedicMengskDoubleBeamHealAndMech"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_WraithMengskResonatingFeedbackInterference">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <InfoTooltipPriority value="1"/>
        <Effect index="0" value="AP_WraithMengskResonatingFeedbackInterferenceSwitchInitial"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="ChannelingMinimum" value="0"/>
        <Flags index="AutoCast" value="1"/>
        <Cost>
            <Vital index="Energy" value="75"/>
        </Cost>
        <TargetFilters value="CanHaveEnergy,Visible,HasEnergy;Self,Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <Range value="5"/>
        <AutoCastValidatorArray value="AP_DarkTemplarVoidStasis"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <ValidatedArray index="Wait" value="1"/>
        <ValidatedArray index="Channel" value="0"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WraithMengskResonatingFeedbackInterference" Requirements="AP_HaveWraithMengskVeterancyLevel2"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_WraithMengskDisruptionWeb">
        <AbilSetId value="AP_CorsairMPDisruptionWeb"/>
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_WraithMengskDisruptionWebCreatePersistentSet"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
        <Cost>
            <Vital index="Energy" value="125"/>
        </Cost>
        <Range value="9"/>
        <AutoCastFilters value="Visible;Player,Ally,Neutral"/>
        <AutoCastRange value="9"/>
        <AutoCastValidatorArray value="noMarkers"/>
        <AutoCastValidatorArray value="AP_IsNotDisruptionWebbed"/>
        <AutoCastValidatorArray value="TargetIsGround"/>
        <AutoCastValidatorArray value="TargetCanAttack"/>
        <AutoCastValidatorArray value="AP_DisruptionWebFilters"/>
        <CursorEffect value="AP_WraithMengskDisruptionWebSearch"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_WraithMengskDisruptionWeb" Requirements="AP_HaveWraithMengskVeterancyLevel4"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_GuardianExplosiveSpores">
        <Alignment value="Negative"/>
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <Cost>
            <Cooldown Link="AP_GuardianExplosiveSpores" TimeUse="30"/> <!-- increased from coop's 10-->
        </Cost>
        <Range value="9"/>
        <CastOutroTime value="0.35"/>
        <TargetFilters value="Ground,Visible;Self,Player,Ally,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_GuardianExplosiveSpores" State="Restricted" Requirements="AP_HaveGuardianExplosiveSpores"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <TargetSorts RequestCount="1">
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <AutoCastFilters value="Ground,Visible;Self,Player,Ally,Neutral,Missile,Stasis,Dead,Hidden,Invulnerable"/>
        <AutoCastRange value="9"/>
        <Effect index="0" value="AP_GuardianExplosiveSporesLaunch"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_WidowMineBuilding">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_DisableBuildingAttack" State="Restricted" Requirements="AP_HaveWidowMineDemolitionArmaments">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_EnableBuildingAttack" State="Restricted" Requirements="AP_HaveWidowMineDemolitionArmaments">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_WidowMineStructureOn"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_BansheeMengskRecharge">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <TargetFilters value="CanHaveEnergy,Visible;Self,Neutral,Enemy,Missile,UnderConstruction,Dead,Hidden,Invulnerable"/>
        <Range value="7"/>
        <Cost>
            <Vital index="Energy" value="50"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BansheeMengskRecharge" Requirements="AP_HaveBansheeMengskVeterancyLevel2"/>
        <FinishTime value="0.8"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <CastIntroTime value="0.2"/>
        <Flags index="AllowMovement" value="1"/>
        <Flags index="NoDeceleration" value="1"/>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_BansheeMengskNightAssault">
        <EditorCategories value="Race:Terran,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_BansheeMengskNightAssaultOn" Requirements="AP_HaveBansheeMengskVeterancyLevel4">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_BansheeMengskNightAssaultOff" Requirements="">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="100"/>
        </Cost>
        <BehaviorArray value="AP_BansheeMengskCloakField"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_BansheeMengskNightAssaultDummy">
        <!-- Dummy Ability for CActorRange -->
        <!-- See Effect AP_BansheeMengskCloakingFieldSearch -->
        <Range value="6"/>
        <Arc value="360"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_SIStukovPlaceHordeRally">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_SIStukovPlaceHordeRallyCP"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Smart" value="1"/>
        <Flags index="Transient" value="1"/>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_SIStukovPlaceHordeRally"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_SIMissileTurretLiftOff" parent="AP_SIBuildingUproot" unit="AP_SIMissileTurretFlying"/>
    <CAbilMorphPlacement id="AP_SIMissileTurretLand" parent="AP_SIBuildingRoot" unit="AP_SIMissileTurret"/>
    <CAbilMorph id="AP_AutoMorphToInfestedMissileTurret">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveZergCreepStomach"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_SIMissileTurret" CollideRange="0"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_KerriganVoidCoopEconDrop">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDropCasterAB"/>
        <Cost>
            <Cooldown Location="Unit" TimeUse="120"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_KerriganVoidCoopEconDrop" Requirements="AP_HaveKerriganAssimilationAura"/>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_KerriganVoidCoopEconDropLT1Pickup">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDropLT1PickupSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop" TimeUse="0.5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop"/>
        </InterruptCost>
        <Range value="1"/>
        <Arc value="360"/>
        <AutoCastFilters value="-;Ally,Neutral,Enemy,Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="AP_PickupCheckCoop"/>
        <FinishTime value="3"/>
        <Marker Link="Abil/KerriganVoidCoopEconDrop"/>
        <AINotifyEffect value="AP_KerriganVoidCoopEconDrop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PickupMinerals100"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_KerriganVoidCoopEconDrop1Pickup">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDrop1PickupSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop" TimeUse="0.5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop"/>
        </InterruptCost>
        <Range value="1"/>
        <Arc value="360"/>
        <AutoCastFilters value="-;Ally,Neutral,Enemy,Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="AP_PickupCheckCoop"/>
        <FinishTime value="3"/>
        <Marker Link="Abil/KerriganVoidCoopEconDrop"/>
        <AINotifyEffect value="AP_KerriganVoidCoopEconDrop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PickupMinerals100"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_KerriganVoidCoopEconDrop2Pickup">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDrop2PickupSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop" TimeUse="0.5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop"/>
        </InterruptCost>
        <Range value="1"/>
        <Arc value="360"/>
        <AutoCastFilters value="-;Ally,Neutral,Enemy,Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="AP_PickupCheckCoop"/>
        <FinishTime value="3"/>
        <Marker Link="Abil/KerriganVoidCoopEconDrop"/>
        <AINotifyEffect value="AP_KerriganVoidCoopEconDrop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PickupMinerals100"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_KerriganVoidCoopEconDrop3Pickup">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDrop3PickupSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop" TimeUse="0.5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop"/>
        </InterruptCost>
        <Range value="1"/>
        <Arc value="360"/>
        <AutoCastFilters value="-;Ally,Neutral,Enemy,Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="AP_PickupCheckCoop"/>
        <FinishTime value="3"/>
        <Marker Link="Abil/KerriganVoidCoopEconDrop"/>
        <AINotifyEffect value="AP_KerriganVoidCoopEconDrop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PickupMinerals100"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_KerriganVoidCoopEconDrop4Pickup">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDrop4PickupSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop" TimeUse="0.5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop"/>
        </InterruptCost>
        <Range value="1"/>
        <Arc value="360"/>
        <AutoCastFilters value="-;Ally,Neutral,Enemy,Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="AP_PickupCheckCoop"/>
        <FinishTime value="3"/>
        <Marker Link="Abil/KerriganVoidCoopEconDrop"/>
        <AINotifyEffect value="AP_KerriganVoidCoopEconDrop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PickupMinerals100"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_KerriganVoidCoopEconDrop5Pickup">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopEconDrop5PickupSet"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="ReExecutable" value="1"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Cost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop" TimeUse="0.5"/>
        </Cost>
        <InterruptCost>
            <Charge Link="Abil/KerriganVoidCoopEconDrop"/>
            <Cooldown Link="Abil/KerriganVoidCoopEconDrop"/>
        </InterruptCost>
        <Range value="1"/>
        <Arc value="360"/>
        <AutoCastFilters value="-;Ally,Neutral,Enemy,Structure,Missile,Destructible,Stasis,Dead,Hidden,Invulnerable,Benign"/>
        <AutoCastRange value="1"/>
        <AutoCastValidatorArray value="AP_PickupCheckCoop"/>
        <FinishTime value="3"/>
        <Marker Link="Abil/KerriganVoidCoopEconDrop"/>
        <AINotifyEffect value="AP_KerriganVoidCoopEconDrop"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="PickupMinerals100"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_KerriganVoidCoopCrushingGripWave">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_KerriganVoidCoopCrushingGripWaveDelayCP"/>
        <Cost>
            <Cooldown Location="Unit" TimeStart="600" TimeUse="180"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_KerriganVoidCoopCrushingGripWave" State="Restricted" Requirements="AP_HaveKerriganImmobilizationWave"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <FinishTime value="0.25"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_AutoMorphLairToHive">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Structures"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Raise" Requirements="AP_HaveHiveClusterMaturation"/>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <Flags index="Automatic" value="1"/>
        <Flags index="IgnorePlacement" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnoreUnitCost" value="1"/>
        <Flags index="IgnoreFood" value="1"/>
        <InfoArray Unit="AP_Hive" CollideRange="0"/>
    </CAbilMorph>
    <CAbilAttack id="AP_AttackAllowsInvulnerable">
        <TargetMessage value="Abil/TargetMessage/AttackAllowsInvulnerable"/>
        <AcquireFilters value="-;Player,Ally,Neutral,Dead,Hidden,Benign"/>
        <MinAttackSpeedMultiplier value="0.25"/>
        <MaxAttackSpeedMultiplier value="128"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="Attack"/>
    </CAbilAttack>
    <CAbilEffectTarget id="AP_YggdrasilAssimilate">
        <Alignment value="Positive"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_YggdrasilDrainPresistent"/>
        <Cost>
            <Charge Link=""/>
            <Cooldown Link="" TimeUse="2.5"/>
        </Cost>
        <TargetFilters value="Structure,Visible;Self,Ally,Neutral,Enemy,Missile,Stasis,UnderConstruction,Dead,Invulnerable"/>
        <Range value="7"/>
        <RangeSlop value="8"/>
        <PrepTime value="0"/>
        <ShowProgressArray index="Prep" value="1"/>
        <UninterruptibleArray index="Prep" value="1"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
        <UninterruptibleArray index="Finish" value="1"/>
        <AINotifyEffect value=""/>
        <ProgressButtonArray index="Prep" value="AP_Obliterate"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_YggdrasilAssimilate" State="Restricted">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectTarget>
    <CAbilBehavior id="AP_YggdrasilGenerateCreep">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_GenerateCreep" Requirements="AP_HaveOverlordGenerateCreep"/>
        <CmdButtonArray index="Off" DefaultButtonFace="AP_StopGenerateCreep"/>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <BehaviorArray value="AP_makeCreep4x4Yggdrasil"/>
    </CAbilBehavior>
    <CAbilBuild id="AP_YggdrasilBuild">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <FlagArray index="Cancelable" value="0"/>
        <FlagArray index="IgnoreUnitCost" value="1"/>
        <FlagArray index="Interruptible" value="0"/>
        <FlagArray index="PeonMaintained" value="0"/>
        <FlagArray index="RequireFacing" value="1"/>
        <InfoArray index="Build1" Unit="AP_Hatchery" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilHatchery" Requirements="AP_HaveYggdrasilHatcheryEssence"/>
        </InfoArray>
        <InfoArray index="Build2" Unit="AP_CreepTumor" Time="15">
            <Button DefaultButtonFace="AP_CreepTumor"/>
        </InfoArray>
        <InfoArray index="Build3" Unit="AP_Extractor" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilExtractor" Requirements="AP_HaveYggdrasilExtractorEssence"/>
            <ValidatorArray value="HasVespene"/>
        </InfoArray>
        <InfoArray index="Build4" Unit="AP_SpawningPool" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilSpawningPool" State="Restricted" Requirements="AP_HaveYggdrasilSpawningPoolEssence"/>
        </InfoArray>
        <InfoArray index="Build5" Unit="AP_EvolutionChamber" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilEvolutionChamber" State="Restricted" Requirements="AP_HaveYggdrasilEvolutionChamberEssence"/>
        </InfoArray>
        <InfoArray index="Build6" Unit="AP_HydraliskDen" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilHydraliskDen" State="Restricted" Requirements="AP_HaveYggdrasilHydraliskDenEssence"/>
        </InfoArray>
        <InfoArray index="Build7" Unit="AP_Spire" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilSpire" State="Restricted" Requirements="AP_HaveYggdrasilSpireEssence"/>
        </InfoArray>
        <InfoArray index="Build8" Unit="AP_UltraliskCavern" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilUltraliskCavern" State="Restricted" Requirements="AP_HaveYggdrasilUltraliskCavernEssence"/>
        </InfoArray>
        <InfoArray index="Build9" Unit="AP_InfestationPit" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilInfestationPit" State="Restricted" Requirements="AP_HaveYggdrasilInfestationPitEssence"/>
        </InfoArray>
        <InfoArray index="Build10" Unit="AP_NydusNetwork" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilNydusNetwork" State="Restricted" Requirements="AP_HaveYggdrasilNydusNetworkEssence"/>
        </InfoArray>
        <InfoArray index="Build11" Unit="AP_BanelingNest" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilBanelingNest" State="Restricted" Requirements="AP_HaveYggdrasilBanelingNestEssence"/>
        </InfoArray>
        <InfoArray index="Build12" Unit="AP_Lair" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilLair" State="Restricted" Requirements="AP_HaveYggdrasilLairEssence"/>
        </InfoArray>
        <InfoArray index="Build13" Unit="AP_Hive" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilHive" State="Restricted" Requirements="AP_HaveYggdrasilHiveEssence"/>
        </InfoArray>
        <InfoArray index="Build14" Unit="AP_RoachWarren" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilRoachWarren" State="Restricted" Requirements="AP_HaveYggdrasilRoachWarrenEssence"/>
        </InfoArray>
        <InfoArray index="Build15" Unit="AP_SpineCrawler" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilSpineCrawler" State="Restricted" Requirements="AP_HaveYggdrasilSpineCrawlerEssence"/>
        </InfoArray>
        <InfoArray index="Build16" Unit="AP_SporeCrawler" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilSporeCrawler" State="Restricted" Requirements="AP_HaveYggdrasilSporeCrawlerEssence"/>
        </InfoArray>
        <InfoArray index="Build17" Unit="AP_LurkerDen" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilLurkerDen" State="Restricted" Requirements="AP_HaveYggdrasilGreaterHydraliskDenEssence"/>
        </InfoArray>
        <InfoArray index="Build18" Unit="AP_GreaterSpire" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilGreaterSpire" State="Restricted" Requirements="AP_HaveYggdrasilGreaterSpireEssence"/>
        </InfoArray>
        <InfoArray index="Build19" Unit="AP_AutomatedExtractor" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilAutomatedExtractor" Requirements="AP_HaveYggdrasilAutomatedExtractorEssence"/>
        </InfoArray>
        <InfoArray index="Build22" Unit="AP_ZergMercenaryCompound" Time="12">
            <Cooldown TimeStart="1" TimeUse="5"/>
            <Button DefaultButtonFace="AP_YggdrasilPredatorNest" State="Restricted" Requirements="AP_HaveYggdrasilPredatorNestEssence"/>
        </InfoArray>
        <Range value="8"/>
        <EffectArray index="Finish" value="AP_YggdrasilLaunchMissile"/>
    </CAbilBuild>
    <CAbilArmMagazine id="AP_BanelingLaunchHangar">
        <EditorCategories value="Race:Zerg,AbilityorEffectType:Units"/>
        <Leash value="20"/>
        <InfoArray index="Ammo1" Time="10" Unit="AP_BanelingLaunchAmmo">
            <Charge Link="AP_AberrationBanelings" Location="Unit"/>
            <Cooldown Link="Abil/##id##"/>
            <Button DefaultButtonFace="AP_BanelingLaunchTrain" Requirements="AP_HaveAberrationBanelingLaunch">
                <Flags index="Hidden" value="1"/>
                <Flags index="ToSelection" value="1"/>
            </Button>
            <Flags index="AutoBuild" value="1"/>
            <Flags index="AutoBuildOn" value="1"/>
        </InfoArray>
        <Alert value="TrainComplete"/>
    </CAbilArmMagazine>
    <CAbilEffectTarget id="AP_BanelingLaunch">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BanelingLaunchStart"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Flags index="Smart" value="1"/>
        <Cost>
            <Cooldown TimeStart="1" TimeUse="1"/>
        </Cost>
        <TargetFilters value="Air,Visible;Player,Ally,Neutral,Missile,Item,Stasis,Hidden,Invulnerable"/>
        <Range value="6"/>
        <SmartValidatorArray value="AP_TargetIsAirUnitFilter"/>
        <AutoCastFilters value="Air,Visible;Player,Ally,Stasis,Invulnerable"/>
        <AutoCastRange value="8"/>
        <CastIntroTime value="0.3"/>
        <CastOutroTime value="0.3"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_BanelingLaunch" Requirements="AP_HaveAberrationBanelingLaunch"/>
        <AutoCastValidatorArray value="CasterIsNotHidden"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_BanelingLaunchRefill">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Effect index="0" value="AP_BanelingLaunchRefillSet"/>
        <Flags index="Smart" value="1"/>
        <TargetFilters value="Ground;Ally,Neutral,Enemy,Dead"/>
        <Range value="2"/>
        <SmartValidatorArray value="AP_IsBaneling"/>
        <SmartValidatorArray value="AP_BanelingLaunchNotFull"/>
        <CmdButtonArray index="Execute" Requirements="AP_HaveAberrationBanelingLaunchLevel2"/>
    </CAbilEffectTarget>
    <CAbilMorph id="AP_BurrowMercRoachDown">
        <AbilSetId value="BrwD"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowDown">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Cancel" DefaultButtonFace="Cancel"/>
        <ActorKey value="BurrowDown"/>
        <Flags index="Interruptible" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="IgnorePlacement" value="0"/>
        <InfoArray Unit="AP_MercRoachBurrowed" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Collide">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Delay" value="0.5556"/>
            </SectionArray>
        </InfoArray>
    </CAbilMorph>
    <CAbilMorph id="AP_BurrowMercRoachUp">
        <AbilSetId value="BrwU"/>
        <EditorCategories value="Race:Zerg,AbilityorEffectType:MorphsandBurrows"/>
        <DataCollection value="AP_BurrowRoachUp"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="BurrowUp">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <ActorKey value="BurrowUp"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="SuppressMovement" value="1"/>
        <InfoArray Unit="AP_MercRoach" RandomDelayMax="0.1">
            <SectionArray index="Actor">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
            <SectionArray index="Stats">
                <DurationArray index="Duration" value="0.4443"/>
            </SectionArray>
        </InfoArray>
        <AutoCastFilters value="Ground,Visible;Player,Ally,Neutral,Structure,Missile,Stasis,Dead,Hidden"/>
        <AutoCastValidatorArray value="TargetNotChangeling"/>
        <AutoCastRange value="2"/>
        <AutoCastCountMin value="1"/>
    </CAbilMorph>
    <CAbilEffectTarget id="Ap_ArchonSiphon">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_ArchonSiphonPersistent"/>
        <Flags index="AutoCast" value="1"/>
        <Flags index="AutoCastOn" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="25"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Structure,Missile,Item,Stasis,Dead,Hidden,Invulnerable"/>
        <TargetSorts>
            <SortArray value="TSLifeLargestFirst"/>
            <SortArray value="TSDistance"/>
        </TargetSorts>
        <Range value="5"/>
        <AutoCastRange value="5"/>
        <AutoCastValidatorArray value="AP_CasterShieldsLE50Percent"/>
        <CastIntroTime value="0.3"/>
        <CastOutroTime value="0.8"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ArchonSiphon" Requirements="AP_HaveArchonSiphon"/>
    </CAbilEffectTarget>
    <CAbilTransport id="AP_ScoutNerazimPilot">
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <DataCollection value="AP_MedivacTransport"/>
        <CmdButtonArray index="Load" DefaultButtonFace="AP_ScoutNerazimPilot" Requirements="AP_ScoutNerazimHavePilot"/>
        <CmdButtonArray index="UnloadAll">
            <Flags index="Hidden" value="1"/>
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="UnloadAt" DefaultButtonFace="AP_ScoutNerazimPilotUnload" Requirements="AP_ScoutNerazimHavePilot"/>
        <CmdButtonArray index="UnloadUnit">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="LoadAll">
            <Flags index="Hidden" value="1"/>
        </CmdButtonArray>
        <Flags index="CargoDeath" value="1"/>
        <Flags index="ShowCargoSize" value="0"/>
        <Flags index="ShowStatus" value="0"/>
        <Range value="2"/>
        <MaxCargoCount value="1"/>
        <MaxCargoSize value="4"/>
        <TotalCargoSpace value="4"/>
        <LoadCargoEffect value="AP_ScoutNerazimPilotApply"/>
        <LoadTransportBehavior value="AP_ScoutNerazimPilot"/>
        <UnloadCargoEffect value="AP_ScoutNerazimPilotUnload"/>
        <UnloadPeriod value="1"/>
        <LoadValidatorArray value="AP_IsNotAirUnit"/>
        <LoadValidatorArray value="AP_ScoutNerazimHasPilot"/>
    </CAbilTransport>
    <CAbilBehavior id="AP_ScoutNerazimCloak">
        <AbilSetId value="Clok"/>
        <EditorCategories value="Race:Protoss,AbilityorEffectType:Units"/>
        <CmdButtonArray index="On" DefaultButtonFace="AP_CloakOnBanshee">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <CmdButtonArray index="Off" DefaultButtonFace="CloakOff">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
        <Flags index="Toggle" value="1"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="25"/>
        </Cost>
        <BehaviorArray value="AP_ScoutNerazimCloak"/>
    </CAbilBehavior>
    <CAbilEffectTarget id="AP_ScoutNerazimPhantomDash">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Flags index="RequireTargetVision" value="0"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Vital index="Energy" value="50"/>
            <Cooldown TimeUse="20"/>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <PrepTime value="0.3"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScoutNerazimPhantomDash" Requirements="AP_ScoutNerazimHavePhantomDash"/>
    </CAbilEffectTarget>
    <CAbilEffectTarget id="AP_ScoutPurifierCoronaBeam">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Flags index="AllowMovement" value="1"/>
        <Cost>
            <Vital index="Shields" value="20"/>
            <Cooldown TimeUse="40"/>
        </Cost>
        <TargetFilters value="Visible;Player,Ally,Neutral,Missile,Item,Stasis,Hidden,Invulnerable"/>
        <Range value="8"/>
        <CastIntroTime value="1"/>
        <CastOutroTime value="0.2"/>
        <ShowProgressArray index="Cast" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScoutPurifierCoronaBeam" Requirements="AP_ScoutPurifierHaveCoronaBeam"/>
        <ProgressButtonArray index="Cast" value="AP_ScoutPurifierCoronaBeam"/>
        <UninterruptibleArray index="Cast" value="1"/>
        <UninterruptibleArray index="Channel" value="1"/>
    </CAbilEffectTarget>
    <CAbilEffectInstant id="AP_ScoutTaldarimVulcanBlaster">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_ScoutTaldarimVulcanBlasterApplyInitial"/>
        <Flags index="Transient" value="1"/>
        <Cost>
            <Cooldown TimeUse="60"/>
        </Cost>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScoutTaldarimVulcanBlaster" Requirements="AP_ScoutTaldarimHaveVulcanBlaster"/>
    </CAbilEffectInstant>
    <CAbilMorph id="AP_ScoutTaldarimVulcanBlasterMorph">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScoutTaldarimVulcanBlaster"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="Transient" value="1"/>
        <InfoArray Unit="AP_ScoutTaldarimMorphed"/>
    </CAbilMorph>
    <CAbilMorph id="AP_ScoutTaldarimVulcanBlasterUnmorph">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScoutTaldarimVulcanBlaster"/>
        <Flags index="IgnoreFacing" value="1"/>
        <Flags index="Transient" value="1"/>
        <InfoArray Unit="AP_ScoutTaldarim"/>
    </CAbilMorph>
    <CAbilEffectInstant id="AP_ScoutTaldarimVulcanBlasterCancel">
        <EditorCategories value="AbilityorEffectType:Units,Race:Protoss"/>
        <Effect index="0" value="AP_ScoutTaldarimVulcanBlasterRemove"/>
        <Flags index="Transient" value="1"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ScoutTaldarimVulcanBlasterCancel" Requirements="AP_ScoutTaldarimVulcanBlasterActive">
            <Flags index="ToSelection" value="1"/>
        </CmdButtonArray>
    </CAbilEffectInstant>
    <CAbilEffectTarget id="AP_ElderProbeWarpin">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <Cost>
            <Resource index="Minerals" value="200"/>
            <Resource index="Vespene" value="100"/>
            <Charge>
                <CountMax value="1"/>
                <CountUse value="1"/>
                <Location value="Player"/>
                <TimeStart value="60"/>
            </Charge>
        </Cost>
        <Range value="500"/>
        <Arc value="360"/>
        <CmdButtonArray index="Execute" DefaultButtonFace="AP_ElderProbes" Requirements="AP_HaveElderProbes"/>
        <PlaceUnit value="AP_ElderProbe"/>
    </CAbilEffectTarget>
    <CAbilWarpTrain id="AP_ProbeWarpin">
        <EditorCategories value="AbilityorEffectType:Units"/>
        <InfoArray index="Train1" Time="5" Unit="AP_Probe">
            <Charge>
                <CountMax value="2"/>
                <CountUse value="1"/>
                <Location value="Unit"/>
                <TimeStart value="30"/>
                <TimeUse value="30"/>
            </Charge>
            <Cooldown Location="Unit"/>
            <Button DefaultButtonFace="AP_ProbeWarpin" Requirements="AP_HaveProbeWarpin">
                <Flags index="AllowMinimap" value="1"/>
                <Flags index="AllowSelfCast" value="1"/>
            </Button>
        </InfoArray>
        <Flags index="WarpTrainersButton" value="0"/>
    </CAbilWarpTrain>
</Catalog>
